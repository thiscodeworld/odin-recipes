var DIGIOH_API={};var DIGIOH_VARS={};var DIGIOH_CUSTOM_JS_GLOBAL={};var DIGIOH_CUSTOM_JS_SUPER={};var DIGIOH_CUSTOM_JS={};var DIGIOH_VENDOR_GUID='47b4a4dd-ffd7-43db-8118-8002b7c15352';var DIGIOH_VENDOR_SHORT_ID='44449';var DIGIOH_KEEN_WRITE_KEY='CC6B2B3D95D7C6C73A652B181473D5B68AE572E25EBE35997057E27DA6DAE0774FE5C379B749F123EE50BF8CAC01638974EDBDF3FAE20F6CA35E5FA47922F050F57F62A2DECAA2B02481C98E009D2CF6AEB6C10C858E09288C48B635BFBC88C8556F3B35C1E26A1B67FC58FF3B3759FB20EB58EFD54A5DB36B48407B9228B5873DA7D59DBB257FE98A21236E6DD47BAE7D84EDD91E59C8948F19DF3B7303F80A65BD121537F48DB6C3E5AA910FDE7C6C5FA3CDA3B7F70BB842104CA3D6AD54B3DF377E4E5174A79ACFF260DE1951B2F8BD544A8C9A7C099063403E4238A99587C24F87E653C8DA506DFDFA4D371011FF770BBA3ACC9FD9E747A5144C08E2C47EC7678E247F8DD2DE6DB7B6C6C1DB22B493AC7E00C36F9ECDEB89924C7131029CDB3397E5E75AB311EB53B8D06B303C31D617E0D98EF39D4C73BFFE9416023421FB3F7C34B9941AB45A75A59AAAE43D394807C5506444FC706C7C31C44F7E0C9C5BC1E12522CB2F9CD22019932C7F6A85';var DIGIOH_CDN_DOMAIN='www.lightboxcdn.com';var DIGIOH_CLIENT_IP='[#######DIGIOH_CLIENT_IP#######]';var DIGIOH_CACHE_VERSION='638331749429031033';var DIGIOH_STORAGE_TYPE='local_storage';var DIGIOH_EMBED_TYPE='lightning';var DIGIOH_USE_HTTPS_ONLY=false;var DIGIOH_LIGHTBOX_CONDITIONS=[];var DIGIOH_LIGHTBOX_RULESETS={};var DIGIOH_LIGHTBOX_EFFECTS={};var DIGIOH_LIGHTBOX_NAMES={};var DIGIOH_LIGHTBOX_IDS={};var DIGIOH_VARIATION_TO_BOX_MAP={};DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS={};DIGIOH_API.CONFIG={};DIGIOH_API.CONFIG.REGION='US';DIGIOH_API.CONFIG.PROTOCOL=('https:'==window.parent.document.location.protocol?'https://':'http://');DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE=((typeof DIGIOH_USE_HTTPS_ONLY!=="undefined"&&DIGIOH_USE_HTTPS_ONLY===true)?'https://':DIGIOH_API.CONFIG.PROTOCOL);DIGIOH_API.CONFIG.CDN_DOMAIN='www.lightboxcdn.com';DIGIOH_API.CONFIG.BOX_BASE_URL=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE+'www.lightboxcdn.com';DIGIOH_API.CONFIG.SUBMIT_BASE_URL=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE+'submit.lightboxcdn.com';DIGIOH_API.CONFIG.SUBMITCUS_BASE_URL=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE+'submitcus.lightboxcdn.com';DIGIOH_API.CONFIG.API_BASE_URL=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE+'api.lightboxcdn.com';DIGIOH_API.CONFIG.JSAPI_BASE_URL=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE+'jsapi.lightboxcdn.com';DIGIOH_API.CONFIG.COUPON_BASE_URL=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE+'coupon.lightboxcdn.com';DIGIOH_API.CONFIG.S3_BASE_URL=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE+'s3.lightboxcdn.com';DIGIOH_API.CONFIG.LOG_BASE_URL=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE+'lgev.lightboxcdn.com';DIGIOH_API.CONFIG.ROB_BASE_URL=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE+'robert.lightboxcdn.com';DIGIOH_API.CONFIG.BETA_BASE_URL=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE+'beta.lightboxcdn.com';DIGIOH_API.CONFIG.BETA2_BASE_URL=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE+'beta2.lightboxcdn.com';DIGIOH_API.CONFIG.CUSTOM_FIELDS_LIMIT=parseInt('50');DIGIOH_API.CONFIG.USE_SUBMIT_POST=('true'==='true');DIGIOH_LIGHTBOX_NAMES['dc0bb460-843e-4776-b871-a8074f21840a']='ALR_Magazine_Offer_Overlay';DIGIOH_LIGHTBOX_NAMES['f2079034-7f7b-4f08-a072-69a26522df8b']='Allrecipes_All_Devices_ROS_Overlay';DIGIOH_LIGHTBOX_NAMES['b7d99765-a42c-493c-8d33-dbca44a48967']='Allrecipes Opt_in';DIGIOH_LIGHTBOX_NAMES['9cadf0f6-c9b5-430f-b975-322e2a7c9144']='ALR Newsletter Opt-in Form Digioh 2023';DIGIOH_LIGHTBOX_NAMES['84e0a80a-49fa-456e-8c8c-c65554ea8f1e']='ALR Cheetah Page for IG Stories Test';DIGIOH_LIGHTBOX_NAMES['175d778b-9448-47f4-aad0-6c7285fb120c']='ALR Food Feed Opt-In';DIGIOH_LIGHTBOX_NAMES['ea91bc8a-4b8a-44f9-bbaf-22c81520299e']='ALR Easy Healthy Opt-In';DIGIOH_LIGHTBOX_NAMES['8746075e-b748-4811-b22c-5e89aa48fc99']='ALR Sweet Spot Opt-In';DIGIOH_LIGHTBOX_NAMES['17bbb060-47f1-497c-9d62-68eda4fca96c']='ALR eMags Dig Edition Newsletter User Library Nav Link';DIGIOH_LIGHTBOX_NAMES['5662e06f-4b39-47c2-9dff-96d9ee0f1090']='ALR eMags Dig Edition In-Magazine Promotion';DIGIOH_LIGHTBOX_NAMES['df1922fe-4102-4f54-b0df-5eea283e2308']='ALR | Fast Food Quiz EMAIL (restored 10-16-2023)';DIGIOH_LIGHTBOX_NAMES['9084c036-01aa-4893-bf34-def1174fd08c']='ALR eMags Dig Edition Email Banner';DIGIOH_LIGHTBOX_NAMES['95634264-fd23-4e58-8f00-cc8de3428105']='ALR eMags Dig Edition User Library Banner';DIGIOH_LIGHTBOX_NAMES['6932ced2-8fee-4283-a3a5-127ed0f02409']='Allrecipes Email Footer Opt-In Page';DIGIOH_LIGHTBOX_NAMES['0dd166ad-b2fe-4849-a4a2-49e47d440f78']='ALR | Fast Food Quiz ARTICLE';DIGIOH_LIGHTBOX_NAMES['cba2f06d-9105-4e9d-9fea-f8aeb4787199']='ALR The Mushroom Council';DIGIOH_LIGHTBOX_NAMES['ccaf50ee-93af-40d0-a342-efef6cf5765a']='ALR The Mushroom Council AFTER VOTE';DIGIOH_LIGHTBOX_NAMES['744b9053-1962-4fb6-9f24-6786ddf24d4c']='Allrecipes Apple News Opt-In Page';DIGIOH_LIGHTBOX_NAMES['a5b2ca9c-83e6-4ab9-a61f-a84918daa304']='Allrecipes CDS Self Care Opt-In Page ';DIGIOH_LIGHTBOX_NAMES['8f54a000-8a19-4546-9433-482829e39101']='ALR Daily Snack Opt-In for ETG Nosh';DIGIOH_LIGHTBOX_NAMES['ceaf8d23-07d6-4813-a6db-7384afb602c7']='ALR Digioh Vacation Grilling Quiz Email 2023  (restored 10-16-2023)';DIGIOH_LIGHTBOX_NAMES['2e736701-e5f3-458c-ac9d-c5ef9512aff5']='ALR Daily Snack Opt-In for Simply Recipes';DIGIOH_LIGHTBOX_NAMES['01cebf9e-43f9-4c12-b27d-06f9eecf6e94']='ALR Daily Snack Opt-In for Serious Eats';DIGIOH_LIGHTBOX_NAMES['3fa662aa-5025-461b-85b1-8017d19b7a2a']='Allrecipes Digioh Opt-In Page No New Sub Email';DIGIOH_LIGHTBOX_NAMES['22f0a08a-3cfb-43eb-983e-ec2a99b492d1']='Allrecipes ITO Confirmation Page Digioh Opt-In Page';DIGIOH_LIGHTBOX_NAMES['795c253c-ce6d-4c58-824e-0ffc4a355338']='ALR Daily Snack Opt-In TEST FORM for Ben';DIGIOH_LIGHTBOX_NAMES['1e1bb68d-582d-4d9c-8402-922cab89c0a3']='ALR Digioh Appliance Quiz Email 2023 ';DIGIOH_LIGHTBOX_NAMES['83b86be3-7ea2-45fb-9ece-ac71fc12480e']='ALR Digioh Kitchen Appliance Quiz and Sweeps EO Page and Sweeps Newsletter';DIGIOH_LIGHTBOX_NAMES['16f6021d-58f1-44dd-8d46-94f7a11a03ac']='ALR Digioh Kitchen Appliance Quiz and Sweeps Browser ';DIGIOH_LIGHTBOX_NAMES['ba973b30-b06c-4717-a821-625f063660ba']='ALR Digioh Kitchen Appliance Quiz and Sweeps No Sub RB Email ';DIGIOH_LIGHTBOX_NAMES['6ee0a014-92db-41ac-9cc7-2445cfc7b832']='ALR Newsletter Opt-in Form Articles Digioh 2023 ';DIGIOH_LIGHTBOX_NAMES['d4f56268-2790-421f-ba82-278705753a90']='ALR Digioh Soup Quiz and Sweeps Email 2023';DIGIOH_LIGHTBOX_NAMES['c293342e-0bf4-4c82-b310-61c22d62f5f8']='ALR Digioh Dinner Snack Tastes Quiz Browser 2023 ';DIGIOH_LIGHTBOX_NAMES['f6495954-316f-4aec-9a50-241dcce5968e']='ALR Digioh Soup Quiz and Sweeps EO Sweeps Page 2023';DIGIOH_LIGHTBOX_NAMES['fe94dad2-e31e-4e91-ac25-b465d3fc8439']='ALR Digioh Soup Quiz and Sweeps  Browser 2023 ';DIGIOH_LIGHTBOX_NAMES['55e4fbee-24f2-4c07-bc1f-dbc4daa17be9']='ALR Digioh Soup Quiz and Sweeps No New Sub 2023  ';DIGIOH_LIGHTBOX_NAMES['3f4702c2-9361-4bbc-b864-7328ad00a30b']='ALR Digioh Dinner Snack Tastes Quiz - Greenhouse';DIGIOH_LIGHTBOX_IDS['dc0bb460-843e-4776-b871-a8074f21840a']='260727';DIGIOH_LIGHTBOX_IDS['f2079034-7f7b-4f08-a072-69a26522df8b']='260341';DIGIOH_LIGHTBOX_IDS['b7d99765-a42c-493c-8d33-dbca44a48967']='238576';DIGIOH_LIGHTBOX_IDS['9cadf0f6-c9b5-430f-b975-322e2a7c9144']='238735';DIGIOH_LIGHTBOX_IDS['84e0a80a-49fa-456e-8c8c-c65554ea8f1e']='239086';DIGIOH_LIGHTBOX_IDS['175d778b-9448-47f4-aad0-6c7285fb120c']='239113';DIGIOH_LIGHTBOX_IDS['ea91bc8a-4b8a-44f9-bbaf-22c81520299e']='239114';DIGIOH_LIGHTBOX_IDS['8746075e-b748-4811-b22c-5e89aa48fc99']='239115';DIGIOH_LIGHTBOX_IDS['17bbb060-47f1-497c-9d62-68eda4fca96c']='239223';DIGIOH_LIGHTBOX_IDS['5662e06f-4b39-47c2-9dff-96d9ee0f1090']='239248';DIGIOH_LIGHTBOX_IDS['df1922fe-4102-4f54-b0df-5eea283e2308']='251597';DIGIOH_LIGHTBOX_IDS['9084c036-01aa-4893-bf34-def1174fd08c']='239252';DIGIOH_LIGHTBOX_IDS['95634264-fd23-4e58-8f00-cc8de3428105']='239253';DIGIOH_LIGHTBOX_IDS['6932ced2-8fee-4283-a3a5-127ed0f02409']='240439';DIGIOH_LIGHTBOX_IDS['0dd166ad-b2fe-4849-a4a2-49e47d440f78']='251920';DIGIOH_LIGHTBOX_IDS['cba2f06d-9105-4e9d-9fea-f8aeb4787199']='253544';DIGIOH_LIGHTBOX_IDS['ccaf50ee-93af-40d0-a342-efef6cf5765a']='258047';DIGIOH_LIGHTBOX_IDS['744b9053-1962-4fb6-9f24-6786ddf24d4c']='254120';DIGIOH_LIGHTBOX_IDS['a5b2ca9c-83e6-4ab9-a61f-a84918daa304']='254121';DIGIOH_LIGHTBOX_IDS['8f54a000-8a19-4546-9433-482829e39101']='255253';DIGIOH_LIGHTBOX_IDS['ceaf8d23-07d6-4813-a6db-7384afb602c7']='256646';DIGIOH_LIGHTBOX_IDS['2e736701-e5f3-458c-ac9d-c5ef9512aff5']='255314';DIGIOH_LIGHTBOX_IDS['01cebf9e-43f9-4c12-b27d-06f9eecf6e94']='255316';DIGIOH_LIGHTBOX_IDS['3fa662aa-5025-461b-85b1-8017d19b7a2a']='255793';DIGIOH_LIGHTBOX_IDS['22f0a08a-3cfb-43eb-983e-ec2a99b492d1']='255949';DIGIOH_LIGHTBOX_IDS['795c253c-ce6d-4c58-824e-0ffc4a355338']='256086';DIGIOH_LIGHTBOX_IDS['1e1bb68d-582d-4d9c-8402-922cab89c0a3']='257931';DIGIOH_LIGHTBOX_IDS['83b86be3-7ea2-45fb-9ece-ac71fc12480e']='258320';DIGIOH_LIGHTBOX_IDS['16f6021d-58f1-44dd-8d46-94f7a11a03ac']='258321';DIGIOH_LIGHTBOX_IDS['ba973b30-b06c-4717-a821-625f063660ba']='258322';DIGIOH_LIGHTBOX_IDS['6ee0a014-92db-41ac-9cc7-2445cfc7b832']='258801';DIGIOH_LIGHTBOX_IDS['d4f56268-2790-421f-ba82-278705753a90']='260022';DIGIOH_LIGHTBOX_IDS['c293342e-0bf4-4c82-b310-61c22d62f5f8']='260145';DIGIOH_LIGHTBOX_IDS['f6495954-316f-4aec-9a50-241dcce5968e']='260891';DIGIOH_LIGHTBOX_IDS['fe94dad2-e31e-4e91-ac25-b465d3fc8439']='260893';DIGIOH_LIGHTBOX_IDS['55e4fbee-24f2-4c07-bc1f-dbc4daa17be9']='260900';DIGIOH_LIGHTBOX_IDS['3f4702c2-9361-4bbc-b864-7328ad00a30b']='262032';DIGIOH_API.ICE_BOXES='';DIGIOH_LIGHTBOX_CONDITIONS[0]={};DIGIOH_LIGHTBOX_CONDITIONS[0].lightbox_guid='dc0bb460-843e-4776-b871-a8074f21840a';DIGIOH_LIGHTBOX_CONDITIONS[0].conditions=[[{"p":"R_ruleset","o":"equals","v":"2521","s":[],"sd":"","ed":""},{"p":"J_javascript_variable","o":"in_set_contains","s":["Recipes","Kitchen Tips","Entertaining","Food News and Trends","Homemade Podcast"],"v":"Food and Recipes","sd":"","ed":"","k":"$('meta[name=parsely-section]').attr('content')"},{"p":"E_visitor_activity_visitor","o":"equals","v":"6","s":[],"sd":"","ed":""},{"p":"E_lightbox_activity","o":"in_set","s":["close","submit","redirect"],"v":"","sd":"","ed":""},{"p":"S_utm_campaign_medium","o":"equals","v":"email","s":[],"sd":"","ed":""},{"p":"S_utm_campaign_term","o":"equals","v":"magazine-testing","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[1]={};DIGIOH_LIGHTBOX_CONDITIONS[1].lightbox_guid='f2079034-7f7b-4f08-a072-69a26522df8b';DIGIOH_LIGHTBOX_CONDITIONS[1].conditions=[[{"p":"R_ruleset","o":"equals","v":"2483","s":[],"sd":"","ed":""},{"p":"E_visitor_activity_visitor","o":"equals","v":"6","s":[],"sd":"","ed":""},{"p":"E_lightbox_activity","o":"in_set","s":["close","submit","redirect"],"v":"","sd":"","ed":""},{"p":"S_utm_campaign_term","o":"equals","v":"magazine-testing","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[2]={};DIGIOH_LIGHTBOX_CONDITIONS[2].lightbox_guid='b7d99765-a42c-493c-8d33-dbca44a48967';DIGIOH_LIGHTBOX_CONDITIONS[2].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_238576","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr-opt-in","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[3]={};DIGIOH_LIGHTBOX_CONDITIONS[3].lightbox_guid='9cadf0f6-c9b5-430f-b975-322e2a7c9144';DIGIOH_LIGHTBOX_CONDITIONS[3].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_238735","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr-newsletter-opt-in","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[4]={};DIGIOH_LIGHTBOX_CONDITIONS[4].lightbox_guid='84e0a80a-49fa-456e-8c8c-c65554ea8f1e';DIGIOH_LIGHTBOX_CONDITIONS[4].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239086","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr-ig-stories","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[5]={};DIGIOH_LIGHTBOX_CONDITIONS[5].lightbox_guid='175d778b-9448-47f4-aad0-6c7285fb120c';DIGIOH_LIGHTBOX_CONDITIONS[5].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239113","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr-food-fed-opt-in","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[6]={};DIGIOH_LIGHTBOX_CONDITIONS[6].lightbox_guid='ea91bc8a-4b8a-44f9-bbaf-22c81520299e';DIGIOH_LIGHTBOX_CONDITIONS[6].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239114","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/easy-healthy-opt-in","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[7]={};DIGIOH_LIGHTBOX_CONDITIONS[7].lightbox_guid='8746075e-b748-4811-b22c-5e89aa48fc99';DIGIOH_LIGHTBOX_CONDITIONS[7].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239115","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr-sweet-spot-opt-in","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[8]={};DIGIOH_LIGHTBOX_CONDITIONS[8].lightbox_guid='17bbb060-47f1-497c-9d62-68eda4fca96c';DIGIOH_LIGHTBOX_CONDITIONS[8].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239223","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr-emags-dig-edition-newsletter","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[9]={};DIGIOH_LIGHTBOX_CONDITIONS[9].lightbox_guid='5662e06f-4b39-47c2-9dff-96d9ee0f1090';DIGIOH_LIGHTBOX_CONDITIONS[9].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239248","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr-emags-dig-edition-in-magazine-promotion","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[10]={};DIGIOH_LIGHTBOX_CONDITIONS[10].lightbox_guid='df1922fe-4102-4f54-b0df-5eea283e2308';DIGIOH_LIGHTBOX_CONDITIONS[10].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/fast_food_quiz_email","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[11]={};DIGIOH_LIGHTBOX_CONDITIONS[11].lightbox_guid='9084c036-01aa-4893-bf34-def1174fd08c';DIGIOH_LIGHTBOX_CONDITIONS[11].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239252","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr-emags-dig-edition-email-banner","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[12]={};DIGIOH_LIGHTBOX_CONDITIONS[12].lightbox_guid='95634264-fd23-4e58-8f00-cc8de3428105';DIGIOH_LIGHTBOX_CONDITIONS[12].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239253","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr-emags-dig-edition-user-library-banner","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[13]={};DIGIOH_LIGHTBOX_CONDITIONS[13].lightbox_guid='6932ced2-8fee-4283-a3a5-127ed0f02409';DIGIOH_LIGHTBOX_CONDITIONS[13].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_238576","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr-email-footer-opt-in","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[14]={};DIGIOH_LIGHTBOX_CONDITIONS[14].lightbox_guid='0dd166ad-b2fe-4849-a4a2-49e47d440f78';DIGIOH_LIGHTBOX_CONDITIONS[14].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/fast_food_quiz_article","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[15]={};DIGIOH_LIGHTBOX_CONDITIONS[15].lightbox_guid='cba2f06d-9105-4e9d-9fea-f8aeb4787199';DIGIOH_LIGHTBOX_CONDITIONS[15].conditions=[[{"p":"S_current_page_url_query","o":"contains","v":"FORCE_253544","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/mushroom_council","s":[],"sd":"","ed":""},{"p":"D_date_range","o":"less_than","sd":"7/15/2023","ed":"","v":"","s":[]}]];DIGIOH_LIGHTBOX_CONDITIONS[16]={};DIGIOH_LIGHTBOX_CONDITIONS[16].lightbox_guid='ccaf50ee-93af-40d0-a342-efef6cf5765a';DIGIOH_LIGHTBOX_CONDITIONS[16].conditions=[[{"p":"S_current_page_url_query","o":"contains","v":"FORCE_253544","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/mushroom_council","s":[],"sd":"","ed":""},{"p":"D_date_range","o":"greater_than","sd":"7/14/2023","ed":"","v":"","s":[]}]];DIGIOH_LIGHTBOX_CONDITIONS[17]={};DIGIOH_LIGHTBOX_CONDITIONS[17].lightbox_guid='744b9053-1962-4fb6-9f24-6786ddf24d4c';DIGIOH_LIGHTBOX_CONDITIONS[17].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_238576","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_apple_news_opt_in_page","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[18]={};DIGIOH_LIGHTBOX_CONDITIONS[18].lightbox_guid='a5b2ca9c-83e6-4ab9-a61f-a84918daa304';DIGIOH_LIGHTBOX_CONDITIONS[18].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/cds_self_care_optin_page","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[19]={};DIGIOH_LIGHTBOX_CONDITIONS[19].lightbox_guid='8f54a000-8a19-4546-9433-482829e39101';DIGIOH_LIGHTBOX_CONDITIONS[19].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239113","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_daily_snack_opt_in_for_etg_nosh","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[20]={};DIGIOH_LIGHTBOX_CONDITIONS[20].lightbox_guid='ceaf8d23-07d6-4813-a6db-7384afb602c7';DIGIOH_LIGHTBOX_CONDITIONS[20].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_digioh_vacation_grilling_quiz_email","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[21]={};DIGIOH_LIGHTBOX_CONDITIONS[21].lightbox_guid='2e736701-e5f3-458c-ac9d-c5ef9512aff5';DIGIOH_LIGHTBOX_CONDITIONS[21].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239113","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_daily_snack_opt_in_for_simply_recipes","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[22]={};DIGIOH_LIGHTBOX_CONDITIONS[22].lightbox_guid='01cebf9e-43f9-4c12-b27d-06f9eecf6e94';DIGIOH_LIGHTBOX_CONDITIONS[22].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239113","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"orms.dotdashmeredith.com/alr_daily_snack-opt_in-for_serious_eats","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[23]={};DIGIOH_LIGHTBOX_CONDITIONS[23].lightbox_guid='3fa662aa-5025-461b-85b1-8017d19b7a2a';DIGIOH_LIGHTBOX_CONDITIONS[23].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_238576","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_digioh_opt_in_page_no_new_sub_email","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[24]={};DIGIOH_LIGHTBOX_CONDITIONS[24].lightbox_guid='22f0a08a-3cfb-43eb-983e-ec2a99b492d1';DIGIOH_LIGHTBOX_CONDITIONS[24].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_238576","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_ito_confirmation_page_digioh_opt_in_page","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[25]={};DIGIOH_LIGHTBOX_CONDITIONS[25].lightbox_guid='795c253c-ce6d-4c58-824e-0ffc4a355338';DIGIOH_LIGHTBOX_CONDITIONS[25].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_239113","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"allrecipes.com","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[26]={};DIGIOH_LIGHTBOX_CONDITIONS[26].lightbox_guid='1e1bb68d-582d-4d9c-8402-922cab89c0a3';DIGIOH_LIGHTBOX_CONDITIONS[26].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_digioh_appliance_quiz_email_2023","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[27]={};DIGIOH_LIGHTBOX_CONDITIONS[27].lightbox_guid='83b86be3-7ea2-45fb-9ece-ac71fc12480e';DIGIOH_LIGHTBOX_CONDITIONS[27].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_digioh_kitchen_appliance_quiz_sweeps_eo_sweeps_newsletter","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[28]={};DIGIOH_LIGHTBOX_CONDITIONS[28].lightbox_guid='16f6021d-58f1-44dd-8d46-94f7a11a03ac';DIGIOH_LIGHTBOX_CONDITIONS[28].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_digioh_kitchen_appliance_quiz_sweeps_browser","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[29]={};DIGIOH_LIGHTBOX_CONDITIONS[29].lightbox_guid='ba973b30-b06c-4717-a821-625f063660ba';DIGIOH_LIGHTBOX_CONDITIONS[29].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_digioh_kitchen_appliance_quiz_sweeps_no_sub_rb_email","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[30]={};DIGIOH_LIGHTBOX_CONDITIONS[30].lightbox_guid='6ee0a014-92db-41ac-9cc7-2445cfc7b832';DIGIOH_LIGHTBOX_CONDITIONS[30].conditions=[[{"p":"S_current_page_url","o":"contains","v":"?DIGIOH_TEST_238735","s":[],"sd":"","ed":""}],[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_newsletter_opt_in_form_articles_digioh_2023","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[31]={};DIGIOH_LIGHTBOX_CONDITIONS[31].lightbox_guid='d4f56268-2790-421f-ba82-278705753a90';DIGIOH_LIGHTBOX_CONDITIONS[31].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_digioh_soup_quiz_and_sweeps_email","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[32]={};DIGIOH_LIGHTBOX_CONDITIONS[32].lightbox_guid='c293342e-0bf4-4c82-b310-61c22d62f5f8';DIGIOH_LIGHTBOX_CONDITIONS[32].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_dinner_snack_tastes_quiz_browser_2023","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[33]={};DIGIOH_LIGHTBOX_CONDITIONS[33].lightbox_guid='f6495954-316f-4aec-9a50-241dcce5968e';DIGIOH_LIGHTBOX_CONDITIONS[33].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_soup_quiz_and_sweeps_eo_sweeps_page_2023","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[34]={};DIGIOH_LIGHTBOX_CONDITIONS[34].lightbox_guid='fe94dad2-e31e-4e91-ac25-b465d3fc8439';DIGIOH_LIGHTBOX_CONDITIONS[34].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_soup_quiz_and_sweeps_browser_2023","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[35]={};DIGIOH_LIGHTBOX_CONDITIONS[35].lightbox_guid='55e4fbee-24f2-4c07-bc1f-dbc4daa17be9';DIGIOH_LIGHTBOX_CONDITIONS[35].conditions=[[{"p":"S_current_page_url","o":"contains","v":"forms.dotdashmeredith.com/alr_soup_quiz_and_sweeps_no_new_sub_2023","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_CONDITIONS[36]={};DIGIOH_LIGHTBOX_CONDITIONS[36].lightbox_guid='3f4702c2-9361-4bbc-b864-7328ad00a30b';DIGIOH_LIGHTBOX_CONDITIONS[36].conditions=[[{"p":"S_current_page_url","o":"contains","v":"allrecipes","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_RULESETS['2483']=[[{"p":"E_country","o":"equals","v":"US","s":[],"sd":"","ed":""},{"p":"S_current_page_url","o":"contains","v":"allrecipes.com","s":[],"sd":"","ed":""},{"p":"K_cookie","o":"does_not_exist","v":"","s":[],"sd":"","ed":"","k":"hid"},{"p":"E_visitor_activity_session","o":"equals","v":"1","s":[],"sd":"","ed":""},{"p":"J_javascript_variable","o":"contains","v":"true","s":[],"sd":"","ed":"","k":"digiohTimerDone"},{"p":"C_exists_jquery_selector","o":"in_set","s":[".structuredContentTemplate",".exclusiveTemplate",".recipeScTemplate",".listScTemplate"],"v":"","sd":"","ed":""}]];DIGIOH_LIGHTBOX_RULESETS['2520']=[[{"p":"E_country","o":"equals","v":"US","s":[],"sd":"","ed":""},{"p":"I_idle_time_seconds","o":"greater_than","v":"30","s":[],"sd":"","ed":""},{"p":"J_javascript_variable","o":"not_in_set_contains","s":["COMMERCENEWSDEALS","COMMERCE"],"v":"COMMERCENEWSDEALS","sd":"","ed":"","k":"$('meta[name=revenuegroup]').attr('content')"},{"p":"J_javascript_variable","o":"in_set_contains","s":["STRUCTUREDCONTENT","LISTSC","RECIPESC"],"v":"","sd":"","ed":"","k":"$('meta[name=emailcontenttype]').attr('content')"},{"p":"S_current_page_url","o":"contains","v":"southernliving.com","s":[],"sd":"","ed":""},{"p":"E_visitor_activity_session","o":"equals","v":"1","s":[],"sd":"","ed":""},{"p":"C_exists_jquery_selector","o":"does_not_equal","v":"div.article__primary-video-container:not(:empty)","s":[],"sd":"","ed":""}]];DIGIOH_LIGHTBOX_RULESETS['2521']=[[{"p":"E_country","o":"equals","v":"US","s":[],"sd":"","ed":""},{"p":"J_javascript_variable","o":"not_in_set_contains","s":["COMMERCENEWSDEALS","COMMERCE"],"v":"COMMERCENEWSDEALS","sd":"","ed":"","k":"$('meta[name=revenuegroup]').attr('content')"},{"p":"J_javascript_variable","o":"in_set_contains","s":["STRUCTUREDCONTENT","LISTSC","RECIPESC"],"v":"","sd":"","ed":"","k":"$('meta[name=emailcontenttype]').attr('content')"},{"p":"S_current_page_url","o":"contains","v":"allrecipes.com","s":[],"sd":"","ed":""},{"p":"E_visitor_activity_session","o":"equals","v":"1","s":[],"sd":"","ed":""},{"p":"J_javascript_variable","o":"contains","v":"true","s":[],"sd":"","ed":"","k":"digiohTimerDone"}]];DIGIOH_LIGHTBOX_EFFECTS['dc0bb460-843e-4776-b871-a8074f21840a']={"widget_type":"sidebar","sidebar":{"css_positioning":"fixed","position":"center-center","speed":{"open":500,"close":500},"animation":{"open":"fade","close":"fade"},"easing":{"open":"swing","close":"swing"},"close_button":{"display":true,"type":"default","image":"","position":"top-right","offset_x":25,"offset_y":25},"auto_close":{"click":true,"time":0,"scroll_up":0,"scroll_down":0},"teaser":{"display":false,"display_on_page_load":false,"css_positioning":"fixed","width":292,"height":48,"padding":{"top":12,"right":0,"bottom":0,"left":0},"text":"Fresh Content, Straight to your Inbox!","font":{"family":"__google__'Lato', sans-serif","color":"#ffffff","align":"center","size":"14","bold":true,"italic":false,"underline":false},"font_hover":{"family":"__google__'Lato', sans-serif","color":"#ffffff","align":"center","size":"14","bold":true,"italic":false,"underline":false},"font_focus":{"family":"__google__'Lato', sans-serif","color":"#ffffff","align":"center","size":"14","bold":true,"italic":false,"underline":false},"border":{"width":2,"color":"#ffffff","style":"none","radius":"0"},"border_hover":{"width":2,"color":"#ff0000","style":"none","radius":"0"},"border_focus":{"width":2,"color":"#ff0000","style":"none","radius":"0"},"background":{"color":"rgb(61, 175, 232)","gradient":"rgb(204, 204, 204)","image":"","repeat":"no-repeat","position":"left top","use_gradient":false,"use_image":false},"background_hover":{"color":"rgb(61, 175, 232)","gradient":"rgb(204, 204, 204)","image":"","repeat":"no-repeat","position":"left top","use_gradient":false,"use_image":false},"background_focus":{"color":"rgb(61, 175, 232)","gradient":"rgb(204, 204, 204)","image":"","repeat":"no-repeat","position":"left top","use_gradient":false,"use_image":false},"position":"bottom-right","offset_x":0,"offset_y":0,"follow_me":false},"css":"overflow:visible;","overlay":{"close_click":true,"background":{"color":"rgba(0, 0, 0, 0.65)","gradient":"#000000","image":"","repeat":"no-repeat","position":"left top","use_gradient":false,"use_image":false}},"metadata_kvps":[{"k":"brand","v":"southernliving"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}],"offset":{"top":5,"left":5},"is_converted_lightbox":true,"close_button_image":"b71a2eb5-f76c-491e-b339-a8a712ff90e1/closeblackx.svg"},"width":600,"height":600,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"thxwidth":600,"thxheight":600,"ep1width":600,"ep1height":715,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":false},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":false},"ep2width":650,"ep2height":400,"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['f2079034-7f7b-4f08-a072-69a26522df8b']={"widget_type":"sidebar","sidebar":{"css_positioning":"fixed","position":"center-center","speed":{"open":500,"close":500},"animation":{"open":"fade","close":"fade"},"easing":{"open":"swing","close":"swing"},"close_button":{"display":false,"type":"default","image":"","position":"top-right","offset_x":40,"offset_y":40},"auto_close":{"click":true,"time":0,"scroll_up":0,"scroll_down":0},"teaser":{"display":false,"display_on_page_load":false,"css_positioning":"fixed","width":292,"height":48,"padding":{"top":12,"right":0,"bottom":0,"left":0},"text":"Fresh Content, Straight to your Inbox!","font":{"family":"__google__'Lato', sans-serif","color":"#ffffff","align":"center","size":"14","bold":true,"italic":false,"underline":false},"font_hover":{"family":"__google__'Lato', sans-serif","color":"#ffffff","align":"center","size":"14","bold":true,"italic":false,"underline":false},"font_focus":{"family":"__google__'Lato', sans-serif","color":"#ffffff","align":"center","size":"14","bold":true,"italic":false,"underline":false},"border":{"width":2,"color":"#ffffff","style":"none","radius":"0"},"border_hover":{"width":2,"color":"#ff0000","style":"none","radius":"0"},"border_focus":{"width":2,"color":"#ff0000","style":"none","radius":"0"},"background":{"color":"rgb(61, 175, 232)","gradient":"rgb(204, 204, 204)","image":"","repeat":"no-repeat","position":"left top","use_gradient":false,"use_image":false},"background_hover":{"color":"rgb(61, 175, 232)","gradient":"rgb(204, 204, 204)","image":"","repeat":"no-repeat","position":"left top","use_gradient":false,"use_image":false},"background_focus":{"color":"rgb(61, 175, 232)","gradient":"rgb(204, 204, 204)","image":"","repeat":"no-repeat","position":"left top","use_gradient":false,"use_image":false},"position":"bottom-right","offset_x":0,"offset_y":0,"follow_me":false},"css":"overflow:visible;","overlay":{"close_click":true,"background":{"color":"rgba(0, 0, 0, 0.65)","gradient":"#000000","image":"","repeat":"no-repeat","position":"left top","use_gradient":false,"use_image":false}},"metadata_kvps":[{"k":"regSourceId","v":"t7iqye"},{"k":"brand","v":"instyle"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}],"offset":{"top":5,"left":5},"is_converted_lightbox":true,"close_button_image":"b71a2eb5-f76c-491e-b339-a8a712ff90e1/closeblackx.svg"},"width":540,"height":540,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"thxwidth":540,"thxheight":540,"ep1width":540,"ep1height":730,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":false},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":false},"ep2width":650,"ep2height":400,"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['b7d99765-a42c-493c-8d33-dbca44a48967']={"widget_type":"inline","width":1205,"height":1890,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_3667","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"3667"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":1205,"thxheight":647,"ep1width":599,"ep1height":471,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":false}};DIGIOH_LIGHTBOX_EFFECTS['9cadf0f6-c9b5-430f-b975-322e2a7c9144']={"widget_type":"inline","width":1205,"height":1890,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_1o2ip1","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"1o2ip1"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":1205,"thxheight":647,"ep1width":599,"ep1height":471,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":false}};DIGIOH_LIGHTBOX_EFFECTS['84e0a80a-49fa-456e-8c8c-c65554ea8f1e']={"widget_type":"inline","width":650,"height":1000,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_3933","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"3933"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":true},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2width":650,"ep2height":400,"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['175d778b-9448-47f4-aad0-6c7285fb120c']={"widget_type":"inline","width":650,"height":1000,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_03m86e","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"03m86e"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['ea91bc8a-4b8a-44f9-bbaf-22c81520299e']={"widget_type":"inline","width":650,"height":1000,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_sr5s7y","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"sr5s7y"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['8746075e-b748-4811-b22c-5e89aa48fc99']={"widget_type":"inline","width":650,"height":1000,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_mq43qu","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"mq43qu"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2width":650,"ep2height":400,"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['17bbb060-47f1-497c-9d62-68eda4fca96c']={"widget_type":"inline","width":650,"height":650,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_do0zrf","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"do0zrf"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2width":650,"ep2height":400,"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['5662e06f-4b39-47c2-9dff-96d9ee0f1090']={"widget_type":"inline","width":650,"height":650,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_ugq2l1","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"ugq2l1"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['df1922fe-4102-4f54-b0df-5eea283e2308']={"widget_type":"inline","width":600,"height":500,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_xxob31","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1oFh4kBCu3ej1RGrRtMMGUo_9ywrvjZ8Vy4yiukdlXnU/export?format=csv&gid=0"},{"k":"regSourceId","v":"xxob31"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"ep1width":600,"ep1height":793,"ep2width":600,"ep2height":792,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":true},"ep2responsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":750,"max_height":420,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep3width":600,"ep3height":787,"ep4width":600,"ep4height":780,"ep3responsive":{"use":true},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":true},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep5width":600,"ep5height":780,"ep5responsive":{"use":true},"ep5scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep6width":600,"ep6height":950,"ep6responsive":{"use":true},"ep6scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['9084c036-01aa-4893-bf34-def1174fd08c']={"widget_type":"inline","width":650,"height":650,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_gvsqz2","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"zf66gu"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['95634264-fd23-4e58-8f00-cc8de3428105']={"widget_type":"inline","width":650,"height":650,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_zf66gu","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"gvsqz2"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['6932ced2-8fee-4283-a3a5-127ed0f02409']={"widget_type":"inline","width":1205,"height":1890,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_jd5v92","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"jd5v92"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":1205,"thxheight":647,"ep1width":599,"ep1height":471,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":false}};DIGIOH_LIGHTBOX_EFFECTS['0dd166ad-b2fe-4849-a4a2-49e47d440f78']={"widget_type":"inline","width":600,"height":500,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_2ql8rk","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1oFh4kBCu3ej1RGrRtMMGUo_9ywrvjZ8Vy4yiukdlXnU/export?format=csv&gid=0"},{"k":"regSourceId","v":"2ql8rk"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"ep1width":600,"ep1height":793,"ep2width":600,"ep2height":792,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":true},"ep2responsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":750,"max_height":420,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep3width":600,"ep3height":787,"ep4width":600,"ep4height":780,"ep3responsive":{"use":true},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":true},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep5width":600,"ep5height":780,"ep5responsive":{"use":true},"ep5scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep6width":600,"ep6height":950,"ep6responsive":{"use":true},"ep6scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['cba2f06d-9105-4e9d-9fea-f8aeb4787199']={"widget_type":"inline","width":1000,"height":2707,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_dy6utr","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"dy6utr"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":650,"thxheight":400,"ep1width":1000,"ep1height":2358,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":true},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2width":650,"ep2height":400,"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":false}};DIGIOH_LIGHTBOX_EFFECTS['ccaf50ee-93af-40d0-a342-efef6cf5765a']={"widget_type":"inline","width":1000,"height":2299,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_dy6utr","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"dy6utr"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":650,"thxheight":400,"ep1width":1000,"ep1height":2358,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":true},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2width":650,"ep2height":400,"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['744b9053-1962-4fb6-9f24-6786ddf24d4c']={"widget_type":"inline","width":1205,"height":1890,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_5uwgxh","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"5uwgxh"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":1205,"thxheight":647,"ep1width":599,"ep1height":471,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":false}};DIGIOH_LIGHTBOX_EFFECTS['a5b2ca9c-83e6-4ab9-a61f-a84918daa304']={"widget_type":"inline","width":1205,"height":1890,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_07nl0p","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"07nl0p"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":1205,"thxheight":647,"ep1width":599,"ep1height":471,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":false}};DIGIOH_LIGHTBOX_EFFECTS['8f54a000-8a19-4546-9433-482829e39101']={"widget_type":"inline","width":650,"height":1000,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_wa0vpt","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;margin:auto;","metadata_kvps":[{"k":"regSourceId","v":"wa0vpt"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":false},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['ceaf8d23-07d6-4813-a6db-7384afb602c7']={"widget_type":"inline","width":600,"height":2618,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_g8pch7","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1kmkzi3vxxa8OJNXE7xSDg3yslfKQWlGQ_ytZXemopeg/export?format=csv&gid=0"},{"k":"regSourceId","v":"g8pch7"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"responsive":{"use":true},"thxresponsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep6width":600,"ep6height":950,"ep6responsive":{"use":true},"ep6scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep1width":650,"ep1height":400,"ep2width":650,"ep2height":400,"ep3width":650,"ep3height":400,"ep4width":650,"ep4height":400,"ep1responsive":{"use":false},"ep1scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep3responsive":{"use":false},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":false},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":true,"weighted_ids":[{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"3","w":"5"},{"p":"2","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"}],"weighted_keywords":[]}};DIGIOH_LIGHTBOX_EFFECTS['2e736701-e5f3-458c-ac9d-c5ef9512aff5']={"widget_type":"inline","width":650,"height":1000,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_guc6t9","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;margin:auto;","metadata_kvps":[{"k":"regSourceId","v":"guc6t9"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":false},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['01cebf9e-43f9-4c12-b27d-06f9eecf6e94']={"widget_type":"inline","width":650,"height":1000,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_0v578n","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;margin:auto;","metadata_kvps":[{"k":"regSourceId","v":"0v578n"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":false},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['3fa662aa-5025-461b-85b1-8017d19b7a2a']={"widget_type":"inline","width":1205,"height":1890,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_jcrb1p","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"jcrb1p"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":1205,"thxheight":647,"ep1width":599,"ep1height":471,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":false}};DIGIOH_LIGHTBOX_EFFECTS['22f0a08a-3cfb-43eb-983e-ec2a99b492d1']={"widget_type":"inline","width":1205,"height":1890,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_cuvt2k","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"cuvt2k"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":1205,"thxheight":647,"ep1width":599,"ep1height":471,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":false}};DIGIOH_LIGHTBOX_EFFECTS['795c253c-ce6d-4c58-824e-0ffc4a355338']={"widget_type":"inline","width":650,"height":1000,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"smart_tag","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_0v578n","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;margin:auto;","metadata_kvps":[{"k":"regSourceId","v":"8w9su3"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"0"}]},"thxwidth":650,"thxheight":600,"ep1width":650,"ep1height":1000,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":false},"thxresponsive":{"use":false},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":650,"max_height":600,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":650,"max_height":1000,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['1e1bb68d-582d-4d9c-8402-922cab89c0a3']={"widget_type":"inline","width":600,"height":2865,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_rf2y26","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1ZOqvtyRQZ66dQPwaNQqpShV-5SS0c6M09lENKZ2wqdY/export?format=csv&gid=0"},{"k":"regSourceId","v":"rf2y26"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"responsive":{"use":true},"thxresponsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep6width":600,"ep6height":950,"ep6responsive":{"use":true},"ep6scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep1width":650,"ep1height":400,"ep2width":650,"ep2height":400,"ep3width":650,"ep3height":400,"ep4width":650,"ep4height":400,"ep1responsive":{"use":false},"ep1scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep3responsive":{"use":false},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":false},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['83b86be3-7ea2-45fb-9ece-ac71fc12480e']={"widget_type":"inline","width":600,"height":2865,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_4pg43e","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1ZOqvtyRQZ66dQPwaNQqpShV-5SS0c6M09lENKZ2wqdY/export?format=csv&gid=0"},{"k":"regSourceId","v":"f36785"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"responsive":{"use":true},"thxresponsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep6width":600,"ep6height":950,"ep6responsive":{"use":true},"ep6scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep1width":650,"ep1height":400,"ep2width":650,"ep2height":400,"ep3width":650,"ep3height":400,"ep4width":650,"ep4height":400,"ep1responsive":{"use":false},"ep1scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep3responsive":{"use":false},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":false},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":true,"weighted_ids":[{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"}],"weighted_keywords":[],"products_gsheet_url":"https://docs.google.com/spreadsheets/d/1ZOqvtyRQZ66dQPwaNQqpShV-5SS0c6M09lENKZ2wqdY/export?format=csv&gid=0"}};DIGIOH_LIGHTBOX_EFFECTS['16f6021d-58f1-44dd-8d46-94f7a11a03ac']={"widget_type":"inline","width":600,"height":2865,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_xtmazs","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1ZOqvtyRQZ66dQPwaNQqpShV-5SS0c6M09lENKZ2wqdY/export?format=csv&gid=0"},{"k":"regSourceId","v":"xtmazs"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"responsive":{"use":true},"thxresponsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep6width":600,"ep6height":950,"ep6responsive":{"use":true},"ep6scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep1width":650,"ep1height":400,"ep2width":650,"ep2height":400,"ep3width":650,"ep3height":400,"ep4width":650,"ep4height":400,"ep1responsive":{"use":false},"ep1scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep3responsive":{"use":false},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":false},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['ba973b30-b06c-4717-a821-625f063660ba']={"widget_type":"inline","width":600,"height":2865,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_nug82v","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1ZOqvtyRQZ66dQPwaNQqpShV-5SS0c6M09lENKZ2wqdY/export?format=csv&gid=0"},{"k":"regSourceId","v":"nug82v"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"responsive":{"use":true},"thxresponsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep6width":600,"ep6height":950,"ep6responsive":{"use":true},"ep6scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep1width":650,"ep1height":400,"ep2width":650,"ep2height":400,"ep3width":650,"ep3height":400,"ep4width":650,"ep4height":400,"ep1responsive":{"use":false},"ep1scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep3responsive":{"use":false},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":false},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['6ee0a014-92db-41ac-9cc7-2445cfc7b832']={"widget_type":"inline","width":1205,"height":1890,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_fj8t3q","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"regSourceId","v":"fj8t3q"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"useProductionApi","v":"1"}]},"thxwidth":1205,"thxheight":647,"ep1width":599,"ep1height":471,"ep2width":599,"ep2height":471,"ep3width":599,"ep3height":471,"ep4width":599,"ep4height":471,"responsive":{"use":true},"thxresponsive":{"use":true},"ep1responsive":{"use":false},"ep2responsive":{"use":false},"ep3responsive":{"use":false},"ep4responsive":{"use":false},"scaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":278,"max_height":332,"max_width_pct":75,"max_height_pct":75},"ep1scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep2scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep3scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"ep4scaling":{"use":false,"max_type":"abs","max_width":599,"max_height":471,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":false}};DIGIOH_LIGHTBOX_EFFECTS['d4f56268-2790-421f-ba82-278705753a90']={"widget_type":"inline","width":600,"height":2857,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_4xns5d","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1REV5KC26se8WxPRFFnpMp7hIFvRdCBF3_z4A10ffWJs/export?format=csv&gid=0"},{"k":"regSourceId","v":"4xns5d"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"responsive":{"use":true},"thxresponsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep6width":600,"ep6height":950,"ep6responsive":{"use":true},"ep6scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep1width":650,"ep1height":400,"ep2width":650,"ep2height":400,"ep3width":650,"ep3height":400,"ep4width":650,"ep4height":400,"ep1responsive":{"use":false},"ep1scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep3responsive":{"use":false},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":false},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":true,"weighted_ids":[{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"}],"weighted_keywords":[],"products_gsheet_url":"https://docs.google.com/spreadsheets/d/1REV5KC26se8WxPRFFnpMp7hIFvRdCBF3_z4A10ffWJs/export?format=csv&gid=0"}};DIGIOH_LIGHTBOX_EFFECTS['c293342e-0bf4-4c82-b310-61c22d62f5f8']={"widget_type":"inline","width":600,"height":2618,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_qe1rlq","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1jrywoIno6CLZyPdwtg2_XYP_0B5mS1E0svH0qwHagyk/export?format=csv&gid=0"},{"k":"regSourceId","v":"qe1rlq"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"responsive":{"use":true},"thxresponsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep2width":650,"ep2height":400,"ep3width":650,"ep3height":400,"ep4width":650,"ep4height":400,"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep3responsive":{"use":false},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":false},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":true,"weighted_ids":[{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"}],"weighted_keywords":[]},"ep1width":650,"ep1height":400,"ep1responsive":{"use":false},"ep1scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_LIGHTBOX_EFFECTS['f6495954-316f-4aec-9a50-241dcce5968e']={"widget_type":"inline","width":600,"height":2857,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_1g9nag","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1REV5KC26se8WxPRFFnpMp7hIFvRdCBF3_z4A10ffWJs/export?format=csv&gid=0"},{"k":"regSourceId","v":"1g9nag"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"responsive":{"use":true},"thxresponsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep6width":600,"ep6height":950,"ep6responsive":{"use":true},"ep6scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep1width":650,"ep1height":400,"ep2width":650,"ep2height":400,"ep3width":650,"ep3height":400,"ep4width":650,"ep4height":400,"ep1responsive":{"use":false},"ep1scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep3responsive":{"use":false},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":false},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":true,"weighted_ids":[{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"}],"weighted_keywords":[]}};DIGIOH_LIGHTBOX_EFFECTS['fe94dad2-e31e-4e91-ac25-b465d3fc8439']={"widget_type":"inline","width":600,"height":2857,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_1i5blf","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1REV5KC26se8WxPRFFnpMp7hIFvRdCBF3_z4A10ffWJs/export?format=csv&gid=0"},{"k":"regSourceId","v":"1i5blf"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"responsive":{"use":true},"thxresponsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep6width":600,"ep6height":950,"ep6responsive":{"use":true},"ep6scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep1width":650,"ep1height":400,"ep2width":650,"ep2height":400,"ep3width":650,"ep3height":400,"ep4width":650,"ep4height":400,"ep1responsive":{"use":false},"ep1scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep3responsive":{"use":false},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":false},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":true,"weighted_ids":[{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"}],"weighted_keywords":[],"products_gsheet_url":"https://docs.google.com/spreadsheets/d/1REV5KC26se8WxPRFFnpMp7hIFvRdCBF3_z4A10ffWJs/export?format=csv&gid=0"}};DIGIOH_LIGHTBOX_EFFECTS['55e4fbee-24f2-4c07-bc1f-dbc4daa17be9']={"widget_type":"inline","width":600,"height":2857,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"jquery_selector","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_ce94kv","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1REV5KC26se8WxPRFFnpMp7hIFvRdCBF3_z4A10ffWJs/export?format=csv&gid=0"},{"k":"regSourceId","v":"ce94kv"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"responsive":{"use":true},"thxresponsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep6width":600,"ep6height":950,"ep6responsive":{"use":true},"ep6scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep1width":650,"ep1height":400,"ep2width":650,"ep2height":400,"ep3width":650,"ep3height":400,"ep4width":650,"ep4height":400,"ep1responsive":{"use":false},"ep1scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep3responsive":{"use":false},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":false},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":true,"weighted_ids":[{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"}],"weighted_keywords":[],"products_gsheet_url":"https://docs.google.com/spreadsheets/d/1REV5KC26se8WxPRFFnpMp7hIFvRdCBF3_z4A10ffWJs/export?format=csv&gid=0"}};DIGIOH_LIGHTBOX_EFFECTS['3f4702c2-9361-4bbc-b864-7328ad00a30b']={"widget_type":"inline","width":600,"height":2618,"iframe":{"use_custom":false,"is_self_hosted":false,"self_hosted_url":"","html_last_uploaded":"","width":750,"height":600},"inline":{"display_rules":"conditions","removal_rules":"keep","custom_js_rules":"all","position_using":"smart_tag","position":{"top":0,"right":0,"bottom":0,"left":0},"jquery_selector":"#digioh_regsource_qe1rlq","jquery_method":"append","custom_function":"//PARAMS: (window, document, $, lightbox_id, dom_id, style_string) ==> EX:  window.setTimeout(function() { $('#' + dom_id).detach().appendTo('#DestinationContainerNode').show(); }, 1000);","margin":{"top":0,"right":0,"bottom":0,"left":0},"float":"none","clear":"none","border":{"width":0,"color":"#cccccc","style":"solid","radius":0},"css":"overflow:visible;","metadata_kvps":[{"k":"prq_gsheet_url","v":"https://docs.google.com/spreadsheets/d/1jrywoIno6CLZyPdwtg2_XYP_0B5mS1E0svH0qwHagyk/export?format=csv&gid=0"},{"k":"regSourceId","v":"qe1rlq"},{"k":"brand","v":"alrcom"},{"k":"emailField","v":"email"},{"k":"UseProductionApi","v":"1"},{"k":"prq_ga_enable","v":"true"},{"k":"scrolltop_enable","v":"true"}]},"thxwidth":600,"thxheight":905,"responsive":{"use":true},"thxresponsive":{"use":true},"scaling":{"use":false,"max_type":"abs","max_width":800,"max_height":750,"max_width_pct":75,"max_height_pct":75},"thxscaling":{"use":false,"max_type":"abs","max_width":750,"max_height":550,"max_width_pct":75,"max_height_pct":75},"ep2width":650,"ep2height":400,"ep3width":650,"ep3height":400,"ep4width":650,"ep4height":400,"ep2responsive":{"use":false},"ep2scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep3responsive":{"use":false},"ep3scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"ep4responsive":{"use":false},"ep4scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75},"quiz":{"enabled":true,"weighted_ids":[{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"},{"p":"1","w":"5"},{"p":"2","w":"5"},{"p":"3","w":"5"},{"p":"4","w":"5"}],"weighted_keywords":[],"products_gsheet_url":"https://docs.google.com/spreadsheets/d/1jrywoIno6CLZyPdwtg2_XYP_0B5mS1E0svH0qwHagyk/export?format=csv&gid=0"},"ep1width":650,"ep1height":400,"ep1responsive":{"use":false},"ep1scaling":{"use":false,"max_type":"abs","max_width":700,"max_height":700,"max_width_pct":75,"max_height_pct":75}};DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS={};DIGIOH_API.BREAKPOINT_POINTER={};DIGIOH_API.BREAKPOINT_POINTER['dc0bb460-843e-4776-b871-a8074f21840a']={};DIGIOH_API.BREAKPOINT_POINTER['dc0bb460-843e-4776-b871-a8074f21840a']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['f2079034-7f7b-4f08-a072-69a26522df8b']={};DIGIOH_API.BREAKPOINT_POINTER['f2079034-7f7b-4f08-a072-69a26522df8b']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['b7d99765-a42c-493c-8d33-dbca44a48967']={};DIGIOH_API.BREAKPOINT_POINTER['b7d99765-a42c-493c-8d33-dbca44a48967']['1205']=true;DIGIOH_API.BREAKPOINT_POINTER['9cadf0f6-c9b5-430f-b975-322e2a7c9144']={};DIGIOH_API.BREAKPOINT_POINTER['9cadf0f6-c9b5-430f-b975-322e2a7c9144']['1205']=true;DIGIOH_API.BREAKPOINT_POINTER['84e0a80a-49fa-456e-8c8c-c65554ea8f1e']={};DIGIOH_API.BREAKPOINT_POINTER['84e0a80a-49fa-456e-8c8c-c65554ea8f1e']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['175d778b-9448-47f4-aad0-6c7285fb120c']={};DIGIOH_API.BREAKPOINT_POINTER['175d778b-9448-47f4-aad0-6c7285fb120c']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['ea91bc8a-4b8a-44f9-bbaf-22c81520299e']={};DIGIOH_API.BREAKPOINT_POINTER['ea91bc8a-4b8a-44f9-bbaf-22c81520299e']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['8746075e-b748-4811-b22c-5e89aa48fc99']={};DIGIOH_API.BREAKPOINT_POINTER['8746075e-b748-4811-b22c-5e89aa48fc99']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['17bbb060-47f1-497c-9d62-68eda4fca96c']={};DIGIOH_API.BREAKPOINT_POINTER['17bbb060-47f1-497c-9d62-68eda4fca96c']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['5662e06f-4b39-47c2-9dff-96d9ee0f1090']={};DIGIOH_API.BREAKPOINT_POINTER['5662e06f-4b39-47c2-9dff-96d9ee0f1090']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['df1922fe-4102-4f54-b0df-5eea283e2308']={};DIGIOH_API.BREAKPOINT_POINTER['df1922fe-4102-4f54-b0df-5eea283e2308']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['9084c036-01aa-4893-bf34-def1174fd08c']={};DIGIOH_API.BREAKPOINT_POINTER['9084c036-01aa-4893-bf34-def1174fd08c']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['95634264-fd23-4e58-8f00-cc8de3428105']={};DIGIOH_API.BREAKPOINT_POINTER['95634264-fd23-4e58-8f00-cc8de3428105']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['6932ced2-8fee-4283-a3a5-127ed0f02409']={};DIGIOH_API.BREAKPOINT_POINTER['6932ced2-8fee-4283-a3a5-127ed0f02409']['1205']=true;DIGIOH_API.BREAKPOINT_POINTER['0dd166ad-b2fe-4849-a4a2-49e47d440f78']={};DIGIOH_API.BREAKPOINT_POINTER['0dd166ad-b2fe-4849-a4a2-49e47d440f78']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['cba2f06d-9105-4e9d-9fea-f8aeb4787199']={};DIGIOH_API.BREAKPOINT_POINTER['cba2f06d-9105-4e9d-9fea-f8aeb4787199']['950']=true;DIGIOH_API.BREAKPOINT_POINTER['ccaf50ee-93af-40d0-a342-efef6cf5765a']={};DIGIOH_API.BREAKPOINT_POINTER['ccaf50ee-93af-40d0-a342-efef6cf5765a']['950']=true;DIGIOH_API.BREAKPOINT_POINTER['744b9053-1962-4fb6-9f24-6786ddf24d4c']={};DIGIOH_API.BREAKPOINT_POINTER['744b9053-1962-4fb6-9f24-6786ddf24d4c']['1205']=true;DIGIOH_API.BREAKPOINT_POINTER['a5b2ca9c-83e6-4ab9-a61f-a84918daa304']={};DIGIOH_API.BREAKPOINT_POINTER['a5b2ca9c-83e6-4ab9-a61f-a84918daa304']['1205']=true;DIGIOH_API.BREAKPOINT_POINTER['8f54a000-8a19-4546-9433-482829e39101']={};DIGIOH_API.BREAKPOINT_POINTER['8f54a000-8a19-4546-9433-482829e39101']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['ceaf8d23-07d6-4813-a6db-7384afb602c7']={};DIGIOH_API.BREAKPOINT_POINTER['ceaf8d23-07d6-4813-a6db-7384afb602c7']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['2e736701-e5f3-458c-ac9d-c5ef9512aff5']={};DIGIOH_API.BREAKPOINT_POINTER['2e736701-e5f3-458c-ac9d-c5ef9512aff5']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['01cebf9e-43f9-4c12-b27d-06f9eecf6e94']={};DIGIOH_API.BREAKPOINT_POINTER['01cebf9e-43f9-4c12-b27d-06f9eecf6e94']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['3fa662aa-5025-461b-85b1-8017d19b7a2a']={};DIGIOH_API.BREAKPOINT_POINTER['3fa662aa-5025-461b-85b1-8017d19b7a2a']['1205']=true;DIGIOH_API.BREAKPOINT_POINTER['22f0a08a-3cfb-43eb-983e-ec2a99b492d1']={};DIGIOH_API.BREAKPOINT_POINTER['22f0a08a-3cfb-43eb-983e-ec2a99b492d1']['1205']=true;DIGIOH_API.BREAKPOINT_POINTER['795c253c-ce6d-4c58-824e-0ffc4a355338']={};DIGIOH_API.BREAKPOINT_POINTER['795c253c-ce6d-4c58-824e-0ffc4a355338']['650']=true;DIGIOH_API.BREAKPOINT_POINTER['1e1bb68d-582d-4d9c-8402-922cab89c0a3']={};DIGIOH_API.BREAKPOINT_POINTER['1e1bb68d-582d-4d9c-8402-922cab89c0a3']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['83b86be3-7ea2-45fb-9ece-ac71fc12480e']={};DIGIOH_API.BREAKPOINT_POINTER['83b86be3-7ea2-45fb-9ece-ac71fc12480e']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['16f6021d-58f1-44dd-8d46-94f7a11a03ac']={};DIGIOH_API.BREAKPOINT_POINTER['16f6021d-58f1-44dd-8d46-94f7a11a03ac']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['ba973b30-b06c-4717-a821-625f063660ba']={};DIGIOH_API.BREAKPOINT_POINTER['ba973b30-b06c-4717-a821-625f063660ba']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['6ee0a014-92db-41ac-9cc7-2445cfc7b832']={};DIGIOH_API.BREAKPOINT_POINTER['6ee0a014-92db-41ac-9cc7-2445cfc7b832']['1205']=true;DIGIOH_API.BREAKPOINT_POINTER['d4f56268-2790-421f-ba82-278705753a90']={};DIGIOH_API.BREAKPOINT_POINTER['d4f56268-2790-421f-ba82-278705753a90']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['c293342e-0bf4-4c82-b310-61c22d62f5f8']={};DIGIOH_API.BREAKPOINT_POINTER['c293342e-0bf4-4c82-b310-61c22d62f5f8']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['f6495954-316f-4aec-9a50-241dcce5968e']={};DIGIOH_API.BREAKPOINT_POINTER['f6495954-316f-4aec-9a50-241dcce5968e']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['fe94dad2-e31e-4e91-ac25-b465d3fc8439']={};DIGIOH_API.BREAKPOINT_POINTER['fe94dad2-e31e-4e91-ac25-b465d3fc8439']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['55e4fbee-24f2-4c07-bc1f-dbc4daa17be9']={};DIGIOH_API.BREAKPOINT_POINTER['55e4fbee-24f2-4c07-bc1f-dbc4daa17be9']['1023']=true;DIGIOH_API.BREAKPOINT_POINTER['3f4702c2-9361-4bbc-b864-7328ad00a30b']={};DIGIOH_API.BREAKPOINT_POINTER['3f4702c2-9361-4bbc-b864-7328ad00a30b']['1023']=true;var DIGIOH_PUBLISHED_VARIATIONS_ARR=[];var DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ={};var DIGIOH_PRIMARY_VARIATIONS_ARR=[];var DIGIOH_EFFECTS_IMAGE_CACHE_ARR=[];var DIGIOH_SETTINGS_IMAGE_CACHE_ARR=[];var DIGIOH_LIGHTBOX_MASTER_RULES={"OneBoxPerPageview":false,"OneBoxPerSession":false,"OneBoxPerVisitor":false,"StopAfterFormSubmitted":false,"DisableIfCookiesDisabled":true,"IgnoreForInlineBoxes":true,"AllowMultipleBoxes":false};var DIGIOH_LIGHTBOX_TEASER_PRELOAD_ARR=[];var DIGIOH_LIGHTBOX_TEASER_FOLLOW_ME_ARR=[];var DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR=[];var DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR=['b7d99765-a42c-493c-8d33-dbca44a48967','9cadf0f6-c9b5-430f-b975-322e2a7c9144','84e0a80a-49fa-456e-8c8c-c65554ea8f1e','175d778b-9448-47f4-aad0-6c7285fb120c','ea91bc8a-4b8a-44f9-bbaf-22c81520299e','8746075e-b748-4811-b22c-5e89aa48fc99','17bbb060-47f1-497c-9d62-68eda4fca96c','5662e06f-4b39-47c2-9dff-96d9ee0f1090','df1922fe-4102-4f54-b0df-5eea283e2308','9084c036-01aa-4893-bf34-def1174fd08c','95634264-fd23-4e58-8f00-cc8de3428105','6932ced2-8fee-4283-a3a5-127ed0f02409','0dd166ad-b2fe-4849-a4a2-49e47d440f78','cba2f06d-9105-4e9d-9fea-f8aeb4787199','ccaf50ee-93af-40d0-a342-efef6cf5765a','744b9053-1962-4fb6-9f24-6786ddf24d4c','a5b2ca9c-83e6-4ab9-a61f-a84918daa304','8f54a000-8a19-4546-9433-482829e39101','ceaf8d23-07d6-4813-a6db-7384afb602c7','2e736701-e5f3-458c-ac9d-c5ef9512aff5','01cebf9e-43f9-4c12-b27d-06f9eecf6e94','3fa662aa-5025-461b-85b1-8017d19b7a2a','22f0a08a-3cfb-43eb-983e-ec2a99b492d1','795c253c-ce6d-4c58-824e-0ffc4a355338','1e1bb68d-582d-4d9c-8402-922cab89c0a3','83b86be3-7ea2-45fb-9ece-ac71fc12480e','16f6021d-58f1-44dd-8d46-94f7a11a03ac','ba973b30-b06c-4717-a821-625f063660ba','6ee0a014-92db-41ac-9cc7-2445cfc7b832','d4f56268-2790-421f-ba82-278705753a90','c293342e-0bf4-4c82-b310-61c22d62f5f8','f6495954-316f-4aec-9a50-241dcce5968e','fe94dad2-e31e-4e91-ac25-b465d3fc8439','55e4fbee-24f2-4c07-bc1f-dbc4daa17be9','3f4702c2-9361-4bbc-b864-7328ad00a30b'];var DIGIOH_LIGHTBOX_INLINE_DEPENDENT_ARR=[];var DIGIOH_LIGHTBOX_PRELOAD_ARR=[];var DIGIOH_LIGHTBOX_MOBILE_DEVICE_ARR=[];var DIGIOH_LIGHTBOX_DESKTOP_DEVICE_ARR=[];var DIGIOH_LIGHTBOX_UNCATEGORIZED_DEVICE_ARR=['dc0bb460-843e-4776-b871-a8074f21840a','f2079034-7f7b-4f08-a072-69a26522df8b','b7d99765-a42c-493c-8d33-dbca44a48967','9cadf0f6-c9b5-430f-b975-322e2a7c9144','84e0a80a-49fa-456e-8c8c-c65554ea8f1e','175d778b-9448-47f4-aad0-6c7285fb120c','ea91bc8a-4b8a-44f9-bbaf-22c81520299e','8746075e-b748-4811-b22c-5e89aa48fc99','17bbb060-47f1-497c-9d62-68eda4fca96c','5662e06f-4b39-47c2-9dff-96d9ee0f1090','df1922fe-4102-4f54-b0df-5eea283e2308','9084c036-01aa-4893-bf34-def1174fd08c','95634264-fd23-4e58-8f00-cc8de3428105','6932ced2-8fee-4283-a3a5-127ed0f02409','0dd166ad-b2fe-4849-a4a2-49e47d440f78','cba2f06d-9105-4e9d-9fea-f8aeb4787199','ccaf50ee-93af-40d0-a342-efef6cf5765a','744b9053-1962-4fb6-9f24-6786ddf24d4c','a5b2ca9c-83e6-4ab9-a61f-a84918daa304','8f54a000-8a19-4546-9433-482829e39101','ceaf8d23-07d6-4813-a6db-7384afb602c7','2e736701-e5f3-458c-ac9d-c5ef9512aff5','01cebf9e-43f9-4c12-b27d-06f9eecf6e94','3fa662aa-5025-461b-85b1-8017d19b7a2a','22f0a08a-3cfb-43eb-983e-ec2a99b492d1','795c253c-ce6d-4c58-824e-0ffc4a355338','1e1bb68d-582d-4d9c-8402-922cab89c0a3','83b86be3-7ea2-45fb-9ece-ac71fc12480e','16f6021d-58f1-44dd-8d46-94f7a11a03ac','ba973b30-b06c-4717-a821-625f063660ba','6ee0a014-92db-41ac-9cc7-2445cfc7b832','d4f56268-2790-421f-ba82-278705753a90','c293342e-0bf4-4c82-b310-61c22d62f5f8','f6495954-316f-4aec-9a50-241dcce5968e','fe94dad2-e31e-4e91-ac25-b465d3fc8439','55e4fbee-24f2-4c07-bc1f-dbc4daa17be9','3f4702c2-9361-4bbc-b864-7328ad00a30b'];var DIGIOH_DYNAMIC_BOXES=[];var DIGIOH_SPLIT_TESTS_ARR=[];var DIGIOH_USE_BUGSNAG=false;var DIGIOH_USE_CONSOLE=false;var DIGIOH_USE_RESPONSIVE=false;var DIGIOH_USE_REAL_TIME_SUBMISSIONS=false;var DIGIOH_USE_PRQ=true;var DIGIOH_IS_QA=false;var DIGIOH_IS_PREVIEW=false;var DIGIOH_IS_DEV=false;var DIGIOH_KEEN_PV=false;var DIGIOH_BLIP_LZ='NoIg7GB0Bs2QnABkgJgIxpAGgAQgCxxrQCsqJakGJ2e0KqayaAHCzCrSPY8xaui4pE8KkgRwkQxHBRzIUNAGZE02fMUzpotOJL4q-7WOT6ELY7uRKlqY.12il-NQIZlhnXCDRhb-MiZKVks9AylvYVEHeCh8LzxhdQYoT1DTA2VVSJk3GFRnVzl3VHj0.N0XHJ0wqjBsxNzihTEqxuSW9AtqyBioCMaajKolbsHe4NiCtpAkvLgSMdmm-Vkynr7GJaiJsVT18atezPoi-UDCLl9.QMRghuWh46pL72vSk-QwGZ2j-CIVOUzCwEssOroqFoekczBgZu8ApDKIsrn5IIigpDoKibkiXti3miMXcqGh4UTbpQDiBKXVwksmLZRGBJGAuGB2GgSKlWFQ5FxoJzBaSyCjvMLiJyydN2VBvmJbChCuKhVLbgS8BzDDz2CgNeApcx6qgoXRVaTMoCVVQJVy-aCtRgjcg0tbJSLzOzDXVmPAlhAFJl4IqlPrHdytqSHgH5boQzRvLSyQCHmgUB404weeTFfgTjzU2iUHmbftQe9iyddcq8BWS8RUiRC7n81scR8bbrqZnhAZ0CnLHrIbZiD8mQxnAgHsIoKNICwoIKuCxJhPgrppLP2Av5.AuIQbR5hKTMBtKMJRUseOhmPgqWy3unGAx0DzT3QX0x50RhPZJooyQFT9bypBM8CTA8myA3h51sFglGgm8RlEJVpxEExICUSYZmvL9k3RPdxWA.EFEIj8YNYbd9VwkD0Wo4jlBQwQiJg8MyO4Yj4PnHCGLYTD9QPYgjxdLk.z2XolkE0gBBdO9EK.YsyHwB88Ck4TGAQ7w1Jkk0HglW1NHoii73RK9eJ0HiKJYURthWBgIThdtK1LOoGSLetoFSRBy3c1tKicjzFHqdtERXLEQrIMKQQi-dgjc3EwscwkEsoAYfF8lziFBHZ-AvEZUyfdBPx5MD0pS-0YrC2BKuRZt0Ui4IrXIpCuUoNh5OYJQUNDDqbXs6lfnEeBAjMqyuxUjixoUUEaOQmUWKQrU.F6xiCk05q8K6j4Vr44t2NmyiCjQ6Jz0QQJAIWzbuv2hiTJIUqDq24t30eDDhtQfUEQaj6AqrVzfs7QNBx.RRoHYnL.14coiFGxbOW-cp3p83EhuOt6yGqnJwR0fksbyBzTmhIbbjE3RUj1XquLSg7crOlb4l6dbJpap6N0u5geG5MS8ops8TRG4HSR0LnoSHNMDAR0WiAckgmd-MXixkwXxdi5XpRXZXvJ9NWLLl9C0x.TIFx1-cJvl6XhdsnGLcMcH0M2LI1Ylq2-UNhRSvNyEDCUbL9bFxADACTXA5-P2iAD4dg.nX3reHUko6YNGDa9k0E49sOU7AGPXbj5QxwQCcDGi9nvyFqOWHT2OmCL.VPerqdy7NjP65YUOq4j4KpZTi7DjFiEIE1-ywfLl3k5VzHe.DgwSDt9ui9nnPGUjrv6-HleI6YX2t1NmA7e3ndO8afeoHgzdMO3OV0-PmAr.PneJ-Wa.JaPu-D731-5RemcP4UWyn-zo4rBAgcjPnOA-TM6ytjSt.MBcom7X08srRWxQdo6GWiXfCzENocyHqAi-Lx4E.zTF.RA18uRoTITYPBO9lCENgSMUOZCSBbyIT1HIZCMDUJ3GmFh9DWpcMbAIl4t96G11IUQ387CJF6w4e.PhXV6ZwGsoo02K1rxiMoX.H-SohF0PwXI.BGBeH4N5i.PhFDWEiJMYwoheYhFaPoZIsxhiSFkJsXw.AMiJFCOTD4qxNCNG2IcYYu4QjgxhMCfQ-Arif7wHcfg9qUjzEWKiRNA6-BOTFh8YgJmB0eAZPppk3Jt0GCE2wXNJUsM8KCVMczPCfFE7ZLSQxHgTVH5EO8tkm6xl7JtIOnxV4zid5-n3EQaSxYiDoMnkLSEeiaFMBNo0om1g-xGRapzSyLUBkxPMcEmhpp2lRIMfs0qkDdJ8hejTYIWcdrsDAA9Fpn4vEePYj2COrd5rlPwmvdo-M4AIwALpAA_';var COUPON_GROUP_POPULATE_OBJ={};var ClientJsDomMaxWaitSeconds=0;var CDP_VARS={'enabled':1,'dimension':0,'save_email':0,'embed_type':'','account_type':'','esp_params':'','ua_tracking_id':''};var USE_LZ=true;var ACCOUNT_METADATA={'brand':'alrcom','useProductionApi':'1'};CJSAPPS_ARR=['420','163','34','139','372','251','140','331','173','241','255','328'];CJSAPPS_PARENT={};CJSAPPS_PARENT['420']={};CJSAPPS_PARENT['420']['AfterDocReady']=function(api,window,document,$,s){var console={};console.log=DIGIOH_CUSTOM_JS.log;try{const FIXED_WIDTH=api.isMobile()?'40%':'520px';const infoPanelBgColor='#e3f7fc',infoPanelBorderColor='#dae1e4',errorPanelBgColor='#ffecec',errorPanelBorderColor='#e4d7d7',warningPanelBgColor='#fff8c4',warningPanelBorderColor='#f3e26a',successPanelBgColor='#e9ffd9',successPanelBorderColor='#a7f46f',panelStyle={width:FIXED_WIDTH,position:'relative',bottom:'30px',marginBottom:'5px',borderRadius:'10px',padding:'2.5px 5px 2.5px',},closelButtonPanel={position:'absolute',bottom:'5px',background:'blue',border:'1px solid #545b62','border-radius':'10px',padding:'5px 10px',color:'#fff',font:'14px Arial, sans-serif',cursor:'pointer',},disableButtonPanel={position:'absolute',left:'80px',bottom:'5px',background:'red',border:'1px solid red','border-radius':'10px',padding:'5px 5px',color:'rgb(255, 255, 255)',font:'14px Arial, sans-serif',cursor:'pointer',},exitQAModeButton={font:'14px Arial, sans-serif',color:'white',position:'absolute',left:'162px',bottom:'5px',background:'green',border:'1px solid green','border-radius':'10px',padding:'5px',cursor:'pointer',},textStyle={font:'14px Arial, sans-serif'},infoIconImageBase64URL='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAE/klEQVRoge3ZbWwTdRwH8O//dr3uCQaxYwuCUNAxXCIhE1FfaJTIC6JofLGIIzEoxvgQ8WFB3BIzNZEXaDAaognRRAK8IMZowEWRblETE2ImgpIACWNZNhxD0u6hW9f2fl9frHVb79b27rr5wv3e7Jq7/u7zvf+/19u/wHzN1/+7VKEabegYqE4m9AcEqp7kWgiqSFlEKgUyTOF1ABcE6jdTof3SI4G+QpzXU4D641dLzeLSRgU+RfJeEgoESIKpv9NfA5jc/lUJDtGnvrj4aOXwnAaoO0bDHxjcRWETiCVpYP749D4ARFiID2OI7+ttWD426wHWnxq6Ryn5nGTtVKAb/OR7CSGugOrZrm3VIScezcnB9aFIk1LyU6HxqR5BUE6uOtz3Nsi8L2x+B5KqvmPofZKvZQILgc88jsSRwOhfOzqfuzORi5bXCNS3D+2fQzxANP7trz6EVub05TygPhTZQ3DXHOJBEgI8sWxF73u5fFmn0PpQ+D4FFSKpO8VLfBwSjwEEoPsB3cgbP6UvCbW17+llJxwHuLWN/gr/4Dkha5zi1dgImtctwJbgIgDAt5cjePfMIMQoc4JPb18zisza7h3BiJ1zxilUYQy94QYviTieDBajcW0Ai4t1LC7Wsb0ugO2rSiCJhFM8QFSNJ9RbMzltA2xsu7FQIK+6mvOmiVULDUvP1RUGaJpO8al96vnAxz1L8w4QN7SdIBa5+sBqOjp6Ryw9Qz0jgFbkAg+QKC7S5QU7q+1nYP0P4bMk73B7tzFjUWyq1LBlZTkA4PjlYbRfMwGj1A0+fY6egYEVQbQqyRpg3amhGiXJi27x/wLNJCQeBwko3QeqIi94kIQQd994KXh6qlfPDKAxuUk84hmLwhyPTR4XA5TPDxilrvEkoAk3AcgeQEzeBSj3V56EOR7DlZ23T+t7yyd/QvOVusaDhAAbM72WAIRaYwU6/IYVZrZN7XOPT+2ryRkAwpsn3uMSn9q2+if7ucQD5PLMvpbbKIEFhXi2sRkAr3iQKMUxFmUPQGqFeDCzXhjPeJBUCHdOM1sCKCJaaHx6aD3iQSKGjP8RLAGEHPCCn3ht4/eOBwQDmX2tjxLERa942ynkHQ+SF3IGEKgzXvG2s8g7HoT6PbOt9ZvYRIcJb3jazKGp/VzhCQjZnnMEzidu6iTZ5xqfgloDeMOTHIzG9B9zBkCDMkEc8YK3m0Ie8SD4JVqDsdwBACRM8wDJuFu87a3UAx4EYfIjO6ttgK6GpT0UHHGNn3EKucIDgq+jLbXn8g4AAKap3iRVxA3edgCgXOFJjCU1NM3kzLqsEjzav1NBDjrDEzI+Chkfm471FUP5SpziAWJ3tKVmn6sAALDy8NWjALfli595yjm+8qCwbbSl5mEoZTOmE5VzZS5pmM+A+HnO8eAfRtJozIbPK0Bvw/IxJONbSf4yh1f+rNKTmyOt9otZjgIAQPeOYCQZ0x4i+dXs4+WkX9fvj+6u68/H5uwHDlIt+6z3ZSH3AigpMD5O4p3RxG17M5dOChcgVVUHu4MatQ9IPsbU/dEj/nsNfGW4eY3laXNWAqRryadd6zRqrwvxOMkyh/gYqL4xyf1jzTWnc5xqdgKkq/LA+XJB2WbNlAcF2EBiDciKDPwwyUskOyls9yn9u/Ce1YNez12w34kzq2pff9mIb7Sc1LQyIzp8/cU664LpfM3Xf1//AAIVjTb2n+23AAAAAElFTkSuQmCC',errorIconImageBase64URL='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAADt0lEQVRoge2ZTWvcVhSG3+ORlnG7aOLQdBkwtJs6GeOQNv7AYHBxsAsXwzCLyQ/I/JYukj8wi5GJnYWDF954Y4dSikOT4G2h7aJN4tbBoWSRRDpvF5ImJpZGV9KopmXezQgz3Ps8o/t5DAwzzDD/6YjNl16vNFaouEsShN4e3VrfrALmr6uzK6q8CxIMeHvs4GFmP5kCfy83jVDXSDogATJQldZH2/e6g8EOczgxawCugXSoYT8AW2MH3/ftZyQnPEjUBNp5tWiaFcIDZI2qnRefX+vbT6pACnyvcSg7rxa+LS2RAg9SAWVNlZ0/xidT+0kcQtGY30iBB9nryCfZ/Hhnc70Q/JW5VVC7KfDv+1H6SppLPz968GEbiW8gmrBZ8Ii+0z2eu7laITxIOkK9k9ROskBM3R8+fnYI5JLICQ9QQWViW8kC1HY4PDLho2c4VHaPpr/JlCgI74NsWwuMbq1vQtkA6VvA94aTEN7LrxZTJ9zhxKwpAB+I8talX5+cGv+pAgBwbnvjvgANRhIZ8HHHNVI7L68tnJLIWG36wbc+/e1J6l7Qdx84t71xnwzfhAV8CEPWFOz8OTnfk6gKHrA8ShzPLxsAIUB/+PBv0U5KoEU/eFMVvLUAABzP3Vwl0AXhWMBHzxq/uVwTltDmZ788tdpbrAUA4Hh2yZDikepawPcAq/jlCwkAwNGNJSNQD0r3rOELCQDA0fVFA6gH0j1L+MICocSCodKD0j0r+FICAHA0NW+o8Ei6ZwFfWgAADuvzRjQIJf5leABwygogCEBQ8sCrMnj8OvjhnfbdR61SqoUiO2wIrz++pXxdE3S2Pvmy1KWosEA5eFx3IKhBau7ISGfnwpXCEoXmwIDg4YjADT8DUFozh/vVL6MVwMcQAQtI5BKoED5ObglrgaJH4p/s4eP4FGnOPN+3OsxZTeIy5/m35HcO5J0lPAA4Qnq7F9JLKSeT+QYGcRnZOj9hXBHPhbgZ8CdjNZz6tjXIm9TO+bpxR+AJ4Nrx20mkClRxDdy7WDcgPAxQIlEgqhJv5IS3ukntXpxcFbKLfMcYH4CZfmFZmYtK3JVcA2ee769TpBlB2cYBYF+ZA8mq7rAlJBKTXJkL2EavqDVY+IISPgD7ytzYwcNNUW2Q6mdVzIrAn5SAoJEhEZByK2n8AxnL6LMvpgyCsB5UxWUkTrQ6reH0xC6+jMZ5Nj5loPE/OgYPHydBovxGFuf3y/Vlod6JJnY7rdBaNntj9WW8X23aacNmmGGG+R/lH9jQPofrfpcrAAAAAElFTkSuQmCC',warningIconImageBase64URL='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAHb0lEQVRoge2Y349dVRXHP2vtc+f3LT+KUkqQQEAhJEasolHwFxQUqZJYFPRFfDEafTASE0HwxUgCEoKA2MR/QEkwMQIWqmhKIPJqTEjVBEOi7QMynR+d6czd6+vD3ufcO9Ci0Nsak9mTM+fcOfvuvb5rfdd3rT2wOTbH5vi/HnayFl58etfngvV7zRpMuq2/8/HHTsY+JwXA0gs3bRssLB1IPtHHG0Re9JneO+euePTguPfycS8IEIsre9x7fUsNZonkE/1YGuw5GXuNPQJHnt71wXWL/d5MNqQeZo4hIufcJD42feWjz45zv7FHYC3pEWt6jaUG93JBg3lKOcePx73fWAEs7d99q2HvMe9h1sMsgTnmqX2+fPkPu786zj3HRiFpR2/xd+e85L2J7ZYmMWtwTwgDBAoir6F89OBsvHqBffz3q+PYd2wRWN5/3j2YbYeSuO6p8t8xc8DK3dK2ZU6/e1z7jiUCy0/dvD2npQPWTMymNEVRn6bQB1CNgGJA5KPkwdGV3kS6dPrDj/39RPceSwTUO7LH3Gfdm+L19gIww7x8FoZ7wi1Nrx9df3gce58wgIV9n71Kka837+HWFGNJmBnujmGgMjd5TWpz3O1TK7/d9Yn/OQD3/KClxt1HjHcrhgNguLWfheF4SiD3dfKDJ7r/CeXA4Wdu+IaLB0kTpDSBpx5YDzDu/vmrvPDiCgBXXDLN7TefiRSgAZFLLmiwCsQ3+1c/+dBbteEtR0DP3TRtOX/PPJFSU+hDwgB348DLq0QEEcFfXl4FAzejqFHJBTwh6fsH9147e8oBHFld/pG5n22WQDWQJswK4eemrQMwN2MYgloV2rC7OcBZ0w33nlIA87/+9IURcau7F5UxK1ZZNVPB7CQdgNnJ9psCK3jNHDyVViPnr6w+tfPiUwagmVx/BLNprKhNJ5kSJmEGc1MjAKYMFB2I0cSrEjt5NAY/OSUA5vddvzMUO1vqGA5EMUyVJhEbKNSfpsyJXAACbdAkq1VbVy/su/aGkwpAwl1rD7g35u6FwyZo660CJEJBfyQC/SkDCUyIQERdzEtiWwJrTOur90tvzqY3NXlx3zXfBi7F26QtnuwiUI1zgtmRCMxOGVKgiEozKmBhTqWhgXHR4t6P3nZSAOjZz/SNwXfciudLmxAQAQqMAAtMA7DMlumRCEwLb99bRlafa4k2U9du5Lz+Xe2/8oyxA1hcOvwAsrPwVhALe1Q/RfWwUJHOqY0AIgrYCKHIlHRRvaq4mpPcTl84nO8fK4CFvddeAvGltrt0K5faxI3AImgTFWX6UyLnTM6Z/hRA+bspuks1CmbCK5XwhDy++K8nP/DusQGA5T1mPuGt3EvFWEUxjGK8YgBkTJkt1esRQX9GoFznDjAr802FSiUcpVJboWgvSf9Vt/ofASzsvepGiavMDJkViqgojimj+iwVDytnImf6s0MAW6aAGKAYoBxELvMUueRQzQWNmBURV84/8f4vnBAA/eKmpMHafYYZEhaqiRfF6HpQMVXjlBEZKbO1D5ed3+Oy83ucOQcRuXI/l4QmAyLatWqNAEp1x9FgcI/27Oi9kY3NG71cmnvpLvALh61ClORFtc+PWlVHamuAObjgZ9/aSpHXwTDprRQv03Ctzv8mXCJLWEmydyxsj7uAO49n43HbaT2z46yFI/ZXS81pZk2RTktVMGpXWX/LrMqoQRSDzOphnvZWnCCpvJPKWq2SSfXsn4nIhDLEGor1xd7MzMVz1/zx0LHsPC6FFpb1sMFppf9S/SkJa1X3jdLflys6GhmZ/X9a5rrbD/LJOw7y7J+PAO27QheRqwgMVcnIJbouimAYBv3BytJxzwvHjMD845e/j9DzllJT/jHl9bRVS6+6G2DVq5UfVgBfd8crHJrPAGw7I/GbH2ylI4zaqI1EqK3OplJPar5EHhCxlnvoI1tufPG519p6zBywyD/FvHG6Lqd6a3i+bd905I6R4qaStBGlAy3FOndfNTO8XU7W0aoo2vBMIdp8spQjPwS897W2vo5Cr/7qsi8rtAMKX1ULE8qdyoQykdeRBkgDiFxqQAz/ductM7xtC7z9NLjrlpkiszEYyqkGRFUvyMMaQi7FsPZXbf6EdPn8L9/1tdc5e/SDnrho8vBa72/m6VxqzyPz2ru1DVz12PBbtQ5pOEVqGTGyiw1lqKNim9CU0o6Qirq1B6OutkQmtHZo5ZxtF5z3oedX2t03UGh+1e/DdS5REqltezXC99ZgN3Ws6jwlwFtAnSi1ZBtKrtUnQbTgNHK3eq5QYUE72cPO7v/jn/cBXz8mAJQ/3+5Uqqt1jtsYslKNC+/LZt2pIJfuUuqcPIRe6mEHxMxqULwwpnNG3aUekKSagyYGMdh9XAAizILa7g5DHGU1zFSYOdrTtxrurZS3vGWD3zuvd1Eph+OuSFbR1MjciqI+RMlJNo4NAHJev8PNfwi2tZ73qlxWdVBrXO2HKO/RMArD4tUaoWqYaotQjI0R41t5VhuVCkKykSgKI16BfNyqvDk2x+bYHKd+/Bsb2Wwr/BTaGwAAAABJRU5ErkJggg==',successIconImageBase64URL='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAFP0lEQVRoge2ZW0wUVxjH/2d2Fq1VYmWb1CKhihTtW4XW9MEHrA+14i0ES0tvpgo1StqHqhS8bNOmadKkSaNY6YPGCkFAjZTW9KEhPhuMb1KJTahcjFzWB+3e2P3+fZhdQPYys+ywNpHvYSezM/N9v//5vnNmzjnAvM3b023KFi/tFY58LHkdlFIoVUzhGhDLCS4GCRKPQA4DuE3yBhS7h+4UXofbLemGTktAwZXdeeEJbT/A90nmggBJgACNE5CA8RO9FvkPHCRUsxZE49DelsGMCljdvvv5kKa+AdXHALMmoa3DT14jGYTCGS2ojg7XtI7NuYBVlz55T4gTIJYZIGnBI3IDSDUO4YH71W0X5kRAcVO10+OSUyT3YBLELvjIEQSomka4tBY1P0/YJuDFrupFCwPhiwJsnlv46DPqqlP5K4ZrurxmbJrZDcVN1c7MwgOAvB0UZyfaK7LSFuBxyanMwk/G2JQzGvrRjC9pCa26vLdKRJqfAPy0o1R6ajvbUhaQe/nDHJ3Ov5TA9cTgjRPPRECKHn7RFXeITVhCTtG//R/Ag8Qy3al9lVIGVl/asyIk/Bvpv6TM4UlQjC+KyOPxYgQBFj74rOuupQyEhAcyAi8C3S8oz3sD2aEsIMxEMbKE3BePNVaA260RrMoEvMMvOLPlME5vPYg/qr6HSz0LhCVuDAg+QHuFw1RA/it314NcMfctT5zf1oC3CtcDAApz8tBafgziDyWKkZs96Cs2zwClNBPwv2yrx6aCkpjwyWIokY0zb9djPagSS/BCQAgqhclRxAK8wy84U1YXA983NoDK9uNQC/SEDSSkeQZIvmwKHyKyQ05sX/4adL+AYbHc8tPLJmq9I/3Y0nIQo/wXVIgLH/FTZJ4BYyaVFP45WYCO7cex1pWPiv6b+Ojqd5jIimRjFi2/o/VLjNObHN6gWG6egalpYNx6FH8QLWUNWOvKBwCUvvQqzm4+BIefxggyFy0/ld0lpgIsddgZ9ubKYpzbchiOgBhjuYUO2zvSj22tddZafgZT8gwYE/CE8NpCHe/++jV6x/6JEdFcVg89QCDMaWVzOL2yeaxf4aGpAJD3EsGDBBXwQPOj/PKxGBGlK9fh/NZ6OIOAwy84W1YXUzZ9YwPY2nIolbKZ1q8MtuQCwD7TcV4BHuVH+aVYERtXrsO5sjq7an7moHDbVACJHkuOFTCuvNjZcRS3Rvsf87GpoMTGspkaFBTRYyoAit2WHSsFTwIRM+FnXzZTIxrD0m0qYOhO4XWAA5YdK4UHyoud7Q24NRIrwjZ44V2vbLhhngG3WwjVYtUxYHRsD3zY0Vb/mAjb4EkosCXeUmTc+YAWRCPJoCX4aJCoiAv1uHmvDzfv9aXbYaeOYICKjfFYE86JXzhb+ROEn1qCjx5hvI2jn8RqgW4HPAB10nfkz9q4jZ1IgB4ON5AYSwmexveQWqhDPeO0B54Y10OhhHPihAIG93R4IKhNCT4CY7CZvEuswQPCfQ/d1xIu+iZd2Lpf3XYBVE1PDl4afce7O5Ixmq7MjSzlflJdyTg88buP/NyMz1QAdnWEs5S/iuTVzMHzN58s2gX3tVD6AgAM13R5xzTXDpKnM1I2IjvhNl+ZBmaxwbHsxPZ3QJwk4LIXnqMQ7Der+ZlmKQPTzVPb2TahaWtAnAIQsAE+AKiTzrBzTarwQJqbfDk/lOWGNByAoApgXorwA4pspmKj70j30GwZ7Nlmdbu17OyeEiWyUchiEEUAc0ksjsA/AjFIsk8RPQxLt1c23LBjm3Xe5u1pt/8AL1oe32v4mI4AAAAASUVORK5CYII=';if(!api.panelContainer){api.panelContainer=window.parent.document.createElement('div');api.panelContainer.id='panel-container';$(api.panelContainer).css({'position':'fixed','bottom':'0px','width':FIXED_WIDTH,'display':'flex','flexDirection':'column','marginLeft':'5px','zIndex':11111111});window.parent.document.body.append(api.panelContainer);}
let globalLinkCounter=0;let functionalLinks=[];function processLinks(html){const rxBasicLink=/\[(https?:\/\/[^|]+)\|([a-zA-Z0-9_\.\!\,\-\s]*)\]/;while(rxBasicLink.test(html)){const basicMatch=html.match(rxBasicLink);const tag=basicMatch[0];const url=basicMatch[1];const linkContent=basicMatch[2];const linkHtml='<a href="'+url+'">'+linkContent+'</a>';html=html.replace(tag,linkHtml);}
const rxFunctionalLink=/\[(api|window)\.([a-zA-Z0-9_]+)\(['"]?([a-zA-Z0-9_\.\!\,\-\s]*)['"]?\)\|([a-zA-Z0-9_\.\!\,\-\s]*)\]/;while(rxFunctionalLink.test(html)){const functionalMatch=html.match(rxFunctionalLink);const tag=functionalMatch[0];const fContainerName=functionalMatch[1];const fContainer=fContainerName==='api'?api:window.parent;const functionName=functionalMatch[2];const functionParam=functionalMatch[3];const linkContent=functionalMatch[4];let linkHtml;if(functionName&&functionName.length>0){linkHtml='<u style="display: inline-block; text-decoration:underline;color: blue;cursor: pointer;" id="digiohNotificationLink'+globalLinkCounter.toString()+'">'+linkContent+'</u>';const apiFunctionWrapper=(function(container,name,param){return function(){const apiFunction=container[name];if(typeof apiFunction!=='function'){api.errorNotifyApp(fContainerName+'.'+functionName+' is not a function');}else{apiFunction(functionParam);}};})(fContainer,functionName,functionParam);functionalLinks.push({id:'digiohNotificationLink'+globalLinkCounter,f:apiFunctionWrapper});}else{linkHtml='<a href="#" id=digiohNotificationLink'+globalLinkCounter.toString()+'>'+linkContent+'</a>';}
html=html.replace(tag,linkHtml);globalLinkCounter++;}
return html;}
function postProcessFunctionalLinks(){console.log('postProcessFunctionalLinks: '+JSON.stringify(functionalLinks));for(const idf of functionalLinks)
api.get$()('#'+idf.id).click(idf.f);functionalLinks=[];}
function showNotification(html,type,closeSecs,suppressMergeTags){if(api.disableAllNotifications){return;}
if(!suppressMergeTags)html=processLinks(html);let panelBackgroundColor,panelIconAndText,panelHTML,panelBorderColor;if(type=='info'){panelBackgroundColor=infoPanelBgColor;panelIconAndText='<img style="margin-right:2px;height:20px;display:inline;vertical-align: middle;" src='+infoIconImageBase64URL+'>';panelBorderColor=infoPanelBorderColor;}else if(type=='error'){panelBackgroundColor=errorPanelBgColor;panelBorderColor=errorPanelBorderColor;panelIconAndText='<img style="margin-right:2px;height:20px;display:inline;vertical-align: middle;" src='+errorIconImageBase64URL+'>';}else if(type=='warning'){panelBackgroundColor=warningPanelBgColor;panelBorderColor=warningPanelBorderColor;panelIconAndText='<img style="margin-right:2px;height:20px;display:inline;vertical-align: middle;" src='+warningIconImageBase64URL+'>';}else if(type=='success'){panelBackgroundColor=successPanelBgColor;panelBorderColor=successPanelBorderColor;panelIconAndText='<img style="margin-right:2px;height:20px;display:inline;vertical-align: middle;" src='+successIconImageBase64URL+'>';}else{throw new Error('Unsupported notification type '+type);}
const panel=window.parent.document.createElement('div');$(panel).css(panelStyle);$(panel).css({'backgroundColor':panelBackgroundColor,'border':'1px solid'+panelBorderColor});panelHTML=`
        ${html}
    `;const panelBody=window.parent.document.createElement('span');panelBody.innerHTML=panelIconAndText+'<span style="vertical-align: middle;">'+panelHTML+'</span>';$(panelBody).css(textStyle);panel.onclick=function(event){let targetElement=$(event.target);if(!targetElement.is("a")&&!targetElement.is("u")){panel.remove();}};panel.append(panelBody);window.parent.document.getElementById('panel-container').append(panel);api.closeAllNotificationButton=api.closeAllNotificationButton||closeAllNotificationButton();api.disableAllNotifications=api.disableAllNotifications||disableAllNotifications();if(!suppressMergeTags)postProcessFunctionalLinks();if(closeSecs){setTimeout(()=>{panel.remove();},closeSecs*1000);}
return panel;}
api.warnNotify=function(html,closeSecs){return showNotification(html,'warning',closeSecs);};api.errorNotify=function(html,closeSecs){return showNotification(html,'error',closeSecs);};api.successNotify=function(html,closeSecs){return showNotification(html,'success',closeSecs);};api.infoNotify=function(html,closeSecs){return showNotification(html,'info',closeSecs);};api.warnNotifyApp=function(html,closeSecs){if(isPreviewOrQa())return showNotification(html,'warning',closeSecs);};api.errorNotifyApp=function(html,closeSecs){if(isPreviewOrQa())return showNotification(html,'error',closeSecs);};api.successNotifyApp=function(html,closeSecs){if(isPreviewOrQa())return showNotification(html,'success',closeSecs);};api.infoNotifyApp=function(html,closeSecs){if(isPreviewOrQa())return showNotification(html,'info',closeSecs);};function isPreviewOrQa(){return /^\/Box\/Preview/.test(api.getPagePath())||api.isQaMode();}
function closeAllNotificationButton(){const closeallnotif=document.createElement('div');closeallnotif.setAttribute('id','close-all-notifications');$(closeallnotif).css(closelButtonPanel);closeallnotif.textContent='Close All';window.parent.document.getElementById('panel-container').append(closeallnotif);closeallnotif.onclick=function(event){window.parent.document.getElementById('panel-container').innerHTML='';api.closeAllNotificationButton=false;};return true;}
function disableAllNotifications(){const existingButton=window.parent.document.getElementById('disable-all-notifications');if(existingButton){return false;}
const disableAllButton=document.createElement('div');disableAllButton.setAttribute('id','disable-all-notifications');$(disableAllButton).css(disableButtonPanel);disableAllButton.textContent='Disable All';window.parent.document.getElementById('panel-container').append(disableAllButton);disableAllButton.onclick=function(event){window.parent.document.getElementById('panel-container').innerHTML='';api.disableAllNotifications=true;};return false;}
function exitQAMode(){const existingButton=window.parent.document.getElementById('exit-qa-mode');if(existingButton){return false;}
const exitQAButton=document.createElement('div');exitQAButton.setAttribute('id','exit-qa-mode');$(exitQAButton).css(exitQAModeButton);exitQAButton.textContent='Exit QA Mode';window.parent.document.getElementById('panel-container').append(exitQAButton);exitQAButton.onclick=function(event){api.turnOffQAMode();window.parent.document.getElementById('panel-container').innerHTML='';};return false;}
api.initAppNotifications=function(appName,hideSuppressionMessage){api.notificationAppActives=api.notificationAppActives||{};if(api.notificationAppActives[appName]){return api.notificationAppActives[appName];}
api.showNotifications=api.showNotifications||{};if(!hideSuppressionMessage){const appNotifyId='app_notify_'+appName.replace(/[^a-zA-Z0-9]/g,'_');api.infoNotifyApp(appName+' activated: <a href=# id="'+appNotifyId+'">Stop Notifications</a>');api.showNotifications[appName]=true;api.get$()('#'+appNotifyId).click(function(){if(api.showNotifications[appName]!==false){api.showNotifications[appName]=false;api.get$()('#'+appNotifyId).text('Reactivate Notifications');}else{api.showNotifications[appName]=true;api.get$()('#'+appNotifyId).text('Stop Notifications');}});}
const notifier={infoNotifyApp:function(msg,closeSecs){if(api.showNotifications[appName]!==true)return;msg=appName+': '+msg;api.infoNotifyApp(msg,closeSecs);},warnNotify:function(msg,closeSecs){if(api.showNotifications[appName]!==true)return;msg=appName+': '+msg;api.warnNotify(msg,closeSecs);},errorNotify:function(msg,closeSecs){if(api.showNotifications[appName]!==true)return;msg=appName+': '+msg;api.errorNotify(msg,closeSecs);},successNotify:function(msg,closeSecs){if(api.showNotifications[appName]!==true)return;msg=appName+': '+msg;api.successNotify(msg,closeSecs);},infoNotify:function(msg,closeSecs){if(api.showNotifications[appName]!==true)return;msg=appName+': '+msg;api.infoNotify(msg,closeSecs);},warnNotifyApp:function(msg,closeSecs){if(api.showNotifications[appName]!==true)return;msg=appName+': '+msg;api.warnNotifyApp(msg,closeSecs);},errorNotifyApp:function(msg,closeSecs){if(api.showNotifications[appName]!==true)return;msg=appName+': '+msg;api.errorNotifyApp(msg,closeSecs);},successNotifyApp:function(msg,closeSecs){if(api.showNotifications[appName]!==true)return;msg=appName+': '+msg;api.successNotifyApp(msg,closeSecs);}};api.notificationAppActives[appName]=notifier;return notifier;};if(isPreviewOrQa()){if(typeof api.isQaMode=='function'&&api.isQaMode()&&!api.doneQaModeNotify){api.infoNotifyApp('Digioh Box QA Mode Enabled: apps show notifications and run QA Custom JS.');exitQAMode();api.doneQaModeNotify=true;}
if(typeof boxapi=='object'&&api.GET_EFFECTS(boxapi.getGuid())&&api.GET_EFFECTS(boxapi.getGuid()).sidebar&&api.GET_EFFECTS(boxapi.getGuid()).sidebar.auto_close&&api.GET_EFFECTS(boxapi.getGuid()).sidebar.auto_close.click){api.GET_EFFECTS(boxapi.getGuid()).sidebar.auto_close.click=false;let setIntervalForClassExistenceCheck=setInterval(function(){let overLayClass=window.parent.document.getElementsByClassName("fb_lightbox-overlay");if(overLayClass.length){clearInterval(setIntervalForClassExistenceCheck);overLayClass[0].addEventListener(api.isMobile()?'touchstart':'mousedown',function(evt){if(evt.target.classList.contains('fb_lightbox-overlay')){boxapi.closeBox();}});}},100);}}}catch(e){DIGIOH_CUSTOM_JS.logError(e,'custom_js_parent_apps');e.message='DIGIOH: Custom JS Apps #420 (Parent: AfterDocReady) -- '+e.message;window.console.error(e);return true;}};CJSAPPS_PARENT['163']={};CJSAPPS_PARENT['34']={};CJSAPPS_PARENT['139']={};CJSAPPS_PARENT['372']={};CJSAPPS_PARENT['251']={};CJSAPPS_PARENT['140']={};CJSAPPS_PARENT['331']={};CJSAPPS_PARENT['173']={};CJSAPPS_PARENT['241']={};CJSAPPS_PARENT['255']={};CJSAPPS_PARENT['328']={};DIGIOH_CUSTOM_JS={runCustomJsOnDocumentReady:function(api,window,document,$,s){try{var console={};console.log=DIGIOH_CUSTOM_JS.log;}
catch(e){DIGIOH_CUSTOM_JS.logError(e,'runCustomJsOnDocumentReady');e.message='DIGIOH: Custom JS Parent -- '+e.message;window.console.error(e);}
return true;},runCustomJsBeforeLightboxDisplay:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS.log;}
catch(e){DIGIOH_CUSTOM_JS.logError(e,'runCustomJsBeforeLightboxDisplay');e.message='DIGIOH: Custom JS Parent -- '+e.message;window.console.error(e);}
return true;},runCustomJsOnLightboxDisplay:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS.log;}
catch(e){DIGIOH_CUSTOM_JS.logError(e,'runCustomJsOnLightboxDisplay');e.message='DIGIOH: Custom JS Parent -- '+e.message;window.console.error(e);}},runCustomJsOnChangePages:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS.log;}
catch(e){DIGIOH_CUSTOM_JS.logError(e,'runCustomJsOnChangePages');e.message='DIGIOH: Custom JS Parent -- '+e.message;window.console.error(e);}},runCustomJsOnLightboxSubmit:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS.log;}
catch(e){DIGIOH_CUSTOM_JS.logError(e,'runCustomJsOnLightboxSubmit');e.message='DIGIOH: Custom JS Parent -- '+e.message;window.console.error(e);}},runCustomJsOnLightboxRedirect:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS.log;}
catch(e){DIGIOH_CUSTOM_JS.logError(e,'runCustomJsOnLightboxRedirect');e.message='DIGIOH: Custom JS Parent -- '+e.message;window.console.error(e);}},runCustomJsOnLightboxDownload:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS.log;}
catch(e){DIGIOH_CUSTOM_JS.logError(e,'runCustomJsOnLightboxDownload');e.message='DIGIOH: Custom JS Parent -- '+e.message;window.console.error(e);}},runCustomJsOnLightboxClose:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS.log;}
catch(e){DIGIOH_CUSTOM_JS.logError(e,'runCustomJsOnLightboxClose');e.message='DIGIOH: Custom JS Parent -- '+e.message;window.console.error(e);}},runCustomJsCdpEspId:function(api,window,document,$,s){try{var console={};console.log=DIGIOH_CUSTOM_JS.log;return '_empty_';}
catch(e){DIGIOH_CUSTOM_JS.logError(e,'runCustomJsCdpEspId');e.message='DIGIOH: Custom JS Parent -- '+e.message;window.console.error(e);}},log:function(msg){try{DIGIOH_API.log(msg,'CUSTOM_JS_PARENT');}
catch(e)
{e.message='DIGIOH: Custom JS Parent -- '+e.message;window.console.error(e);}},logError:function(e,fcn){try{DIGIOH_API.log(e.message,'CUSTOM_JS_PARENT.'+fcn+'()');DIGIOH_API.logErrorFromCustomJsParent(e,'CUSTOM_JS_PARENT.'+fcn);}
catch(e)
{e.message='DIGIOH: Custom JS Parent -- '+e.message;window.console.error(e);}}};DIGIOH_CUSTOM_JS_SUPER={runCustomJsOnDocumentReady:function(api,window,document,$,s){try{var console={};console.log=DIGIOH_CUSTOM_JS_SUPER.log;}
catch(e){DIGIOH_CUSTOM_JS_SUPER.logError(e,'runCustomJsOnDocumentReady');e.message='DIGIOH: Custom JS Global -- '+e.message;window.console.error(e);}
return true;},runCustomJsBeforeLightboxDisplay:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS_SUPER.log;}
catch(e){DIGIOH_CUSTOM_JS_SUPER.logError(e,'runCustomJsBeforeLightboxDisplay');e.message='DIGIOH: Custom JS Global -- '+e.message;window.console.error(e);}
return true;},runCustomJsOnLightboxDisplay:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS_SUPER.log;}
catch(e){DIGIOH_CUSTOM_JS_SUPER.logError(e,'runCustomJsOnLightboxDisplay');e.message='DIGIOH: Custom JS Global -- '+e.message;window.console.error(e);}},runCustomJsOnChangePages:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS_SUPER.log;}
catch(e){DIGIOH_CUSTOM_JS_SUPER.logError(e,'runCustomJsOnChangePages');e.message='DIGIOH: Custom JS Global -- '+e.message;window.console.error(e);}},runCustomJsOnLightboxSubmit:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS_SUPER.log;}
catch(e){DIGIOH_CUSTOM_JS_SUPER.logError(e,'runCustomJsOnLightboxSubmit');e.message='DIGIOH: Custom JS Global -- '+e.message;window.console.error(e);}},runCustomJsOnLightboxRedirect:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS_SUPER.log;}
catch(e){DIGIOH_CUSTOM_JS_SUPER.logError(e,'runCustomJsOnLightboxRedirect');e.message='DIGIOH: Custom JS Global -- '+e.message;window.console.error(e);}},runCustomJsOnLightboxDownload:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS_SUPER.log;}
catch(e){DIGIOH_CUSTOM_JS_SUPER.logError(e,'runCustomJsOnLightboxDownload');e.message='DIGIOH: Custom JS Global -- '+e.message;window.console.error(e);}},runCustomJsOnLightboxClose:function(api,window,document,$,lightbox_id,variation_id,s){try{var console={};console.log=DIGIOH_CUSTOM_JS_SUPER.log;}
catch(e){DIGIOH_CUSTOM_JS_SUPER.logError(e,'runCustomJsOnLightboxClose');e.message='DIGIOH: Custom JS Global -- '+e.message;window.console.error(e);}},log:function(msg){try{DIGIOH_API.log(msg,'CUSTOM_JS_GLOBAL');}
catch(e)
{e.message='DIGIOH: Custom JS Global -- '+e.message;window.console.error(e);}},logError:function(e,fcn){try{DIGIOH_API.log(e.message,'CUSTOM_JS_GLOBAL.'+fcn+'()');DIGIOH_API.logErrorFromCustomJsParent(e,'CUSTOM_JS_GLOBAL.'+fcn);}
catch(e)
{e.message='DIGIOH: Custom JS Global -- '+e.message;window.console.error(e);}}};var DIGIOH_WIN_PARENT;var DIGIOH_DOC_PARENT;var DIGIOH_WIN_CHILD;if(DIGIOH_VENDOR_GUID!=='f5736c5c-cae5-4054-81ae-a82b7b8ef0aa'&&DIGIOH_VENDOR_GUID!=='12967-17a4d24d-3070-4072-8e41-0c409aac0086'){if(DIGIOH_EMBED_TYPE=='lightning'){DIGIOH_WIN_PARENT=window.parent;DIGIOH_DOC_PARENT=window.parent.document;DIGIOH_WIN_CHILD=window;}else{DIGIOH_WIN_PARENT=window;DIGIOH_DOC_PARENT=window.document;DIGIOH_WIN_CHILD=window;}}
if(window.parent.document&&window.parent.document.getElementById(DIGIOH_VENDOR_GUID)!==null){window.parent.document.getElementById(DIGIOH_VENDOR_GUID).style.display='none';}
var DIGIOH_LIGHTBOX_ANALYTICS={};var DIGIOH_BUGSNAG=null;!function(a,c,b){if(typeof define=="function"&&define.amd){define("keen",[],function(d){return b()})}if(typeof module==="object"&&typeof module.exports==="object"){module.exports=b()}else{c[a]=b()}}("Keen",this,function(Keen){;function Keen(config){this.configure(config||{})}Keen.version="3.1.0";Keen.utils={};Keen.canXHR=false;if(typeof XMLHttpRequest==="object"||typeof XMLHttpRequest==="function"){if("withCredentials"in new XMLHttpRequest()){Keen.canXHR=true}}Keen.urlMaxLength=16000;if(navigator.userAgent.indexOf("MSIE")!==-1||navigator.appVersion.indexOf("Trident/")>0){Keen.urlMaxLength=2000}Keen.enabled=true;Keen.loaded=true;Keen.ready=function(callback){if(Keen.loaded){callback()}else{Keen.on("ready",callback)}};Keen.debug=false;Keen.log=function(message){if(Keen.debug&&typeof console=="object"){console.log("[Keen IO]",message)}};var Events=Keen.Events={on:function(name,callback){this.listeners||(this.listeners={});var events=this.listeners[name]||(this.listeners[name]=[]);events.push({callback:callback});return this},once:function(name,callback,context){var self=this;var once=_once(function(){self.off(name,once);callback.apply(this,arguments)});once._callback=callback;return self.on(name,once,context)},off:function(name,callback,context){if(!this.listeners){return this}if(!name&&!callback&&!context){this.listeners=void 0;return this}var names=[];if(name){names.push(name)}else{_each(this.listeners,function(value,key){names.push(key)})}for(var i=0,length=names.length;i<length;i++){name=names[i];var events=this.listeners[name];if(!events){continue}if(!callback&&!context){delete this.listeners[name];continue}var remaining=[];for(var j=0,k=events.length;j<k;j++){var event=events[j];if(callback&&callback!==event.callback&&callback!==event.callback._callback||context&&context!==event.context){remaining.push(event)}}if(remaining.length){this.listeners[name]=remaining}else{delete this.listeners[name]}}return this},trigger:function(name){if(!this.listeners){return this}var args=Array.prototype.slice.call(arguments,1);var events=this.listeners[name]||[];for(var i=0;i<events.length;i++){events[i]["callback"].apply(this,args)}return this}};function _once(func){var ran=false,memo;return function(){if(ran){return memo}ran=true;memo=func.apply(this,arguments);func=null;return memo}}_extend(Keen.prototype,Events);_extend(Keen,Events);function _loadAsync(){var loaded=window.Keen,cached=window._Keen||{},clients,ready;if(loaded&&cached){clients=cached.clients||{},ready=cached.ready||[];for(var instance in clients){if(clients.hasOwnProperty(instance)){var client=clients[instance];for(var method in Keen.prototype){if(Keen.prototype.hasOwnProperty(method)){loaded.prototype[method]=Keen.prototype[method]}}loaded.Query=(Keen.Query)?Keen.Query:function(){};loaded.Visualization=(Keen.Visualization)?Keen.Visualization:function(){};if(client._config){client.configure.call(client,client._config);client._config=undefined;try{delete client._config}catch(e){}}if(client._setGlobalProperties){var globals=client._setGlobalProperties;for(var i=0;i<globals.length;i++){client.setGlobalProperties.apply(client,globals[i])}client._setGlobalProperties=undefined;try{delete client._setGlobalProperties}catch(e){}}if(client._addEvent){var queue=client._addEvent||[];for(var i=0;i<queue.length;i++){client.addEvent.apply(client,queue[i])}client._addEvent=undefined;try{delete client._addEvent}catch(e){}}var callback=client._on||[];if(client._on){for(var i=0;i<callback.length;i++){client.on.apply(client,callback[i])}client.trigger("ready");client._on=undefined;try{delete client._on}catch(e){}}}}for(var i=0;i<ready.length;i++){var callback=ready[i];Keen.once("ready",function(){callback()})}}}Keen.prototype.addEvent=function(eventCollection,payload,success,error){var response;if(!eventCollection||typeof eventCollection!=="string"){response="Event not recorded: Collection name must be a string";Keen.log(response);if(error){error.call(this,response)}return}_uploadEvent.apply(this,arguments)};Keen.prototype.configure=function(cfg){var config=cfg||{};if(!Keen.canXHR&&config.requestType==="xhr"){config.requestType="jsonp"}if(config.host){config.host.replace(/.*?:\/\//g,"")}if(config.protocol&&config.protocol==="auto"){config.protocol=location.protocol.replace(/:/g,"")}this.config={projectId:config.projectId,writeKey:config.writeKey,readKey:config.readKey,masterKey:config.masterKey,requestType:config.requestType||"jsonp",host:config.host||"api.keen.io/3.0",protocol:config.protocol||"https",globalProperties:null};this.trigger("ready");Keen.trigger("client",this,config)};Keen.prototype.masterKey=function(str){if(!arguments.length){return this.config.masterKey}this.config.masterKey=(str?String(str):null);return this};Keen.prototype.projectId=function(str){if(!arguments.length){return this.config.projectId}this.config.projectId=(str?String(str):null);return this};Keen.prototype.readKey=function(str){if(!arguments.length){return this.config.readKey}this.config.readKey=(str?String(str):null);return this};Keen.prototype.setGlobalProperties=function(newGlobalProperties){if(newGlobalProperties&&typeof(newGlobalProperties)=="function"){this.config.globalProperties=newGlobalProperties}else{Keen.log("Invalid value for global properties: "+newGlobalProperties)}};Keen.prototype.trackExternalLink=function(jsEvent,eventCollection,payload,timeout,timeoutCallback){var evt=jsEvent,target=(evt.currentTarget)?evt.currentTarget:(evt.srcElement||evt.target),timer=timeout||500,triggered=false,targetAttr="",callback,win;if(target.getAttribute!==void 0){targetAttr=target.getAttribute("target")}else{if(target.target){targetAttr=target.target}}if((targetAttr=="_blank"||targetAttr=="blank")&&!evt.metaKey){win=window.open("about:blank");win.document.location=target.href}if(target.nodeName==="A"){callback=function(){if(!triggered&&!evt.metaKey&&(targetAttr!=="_blank"&&targetAttr!=="blank")){triggered=true;window.location=target.href}}}else{if(target.nodeName==="FORM"){callback=function(){if(!triggered){triggered=true;target.submit()}}}else{Keen.log("#trackExternalLink method not attached to an <a> or <form> DOM element")}}if(timeoutCallback){callback=function(){if(!triggered){triggered=true;timeoutCallback()}}}_uploadEvent.call(this,eventCollection,payload,callback,callback);setTimeout(callback,timer);if(!evt.metaKey){return false}};Keen.prototype.url=function(path){return this.config.protocol+"://"+this.config.host+path};Keen.prototype.writeKey=function(str){if(!arguments.length){return this.config.writeKey}this.config.writeKey=(str?String(str):null);return this};function _clone(target){return JSON.parse(JSON.stringify(target))}function _each(o,cb,s){var n;if(!o){return 0}s=!s?o:s;if(o instanceof Array){for(n=0;n<o.length;n++){if(cb.call(s,o[n],n,o)===false){return 0}}}else{for(n in o){if(o.hasOwnProperty(n)){if(cb.call(s,o[n],n,o)===false){return 0}}}}return 1}_extend(Keen.utils,{each:_each});function _extend(target){for(var i=1;i<arguments.length;i++){for(var prop in arguments[i]){target[prop]=arguments[i][prop]}}return target}_extend(Keen.utils,{extend:_extend});function _parseParams(str){var urlParams={},match,pl=/\+/g,search=/([^&=]+)=?([^&]*)/g,decode=function(s){return decodeURIComponent(s.replace(pl," "))},query=str.split("?")[1];while(!!(match=search.exec(query))){urlParams[decode(match[1])]=decode(match[2])}return urlParams}_extend(Keen.utils,{parseParams:_parseParams});function _sendBeacon(url,params,success,error){var successCallback=success,errorCallback=error,loaded=false,img=document.createElement("img");success=null;error=null;img.onload=function(){loaded=true;if("naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0){this.onerror();return}}else{if(this.width+this.height===0){this.onerror();return}}if(successCallback){successCallback({created:true});successCallback=errorCallback=null}};img.onerror=function(){loaded=true;if(errorCallback){errorCallback();successCallback=errorCallback=null}};img.src=url+"&c=clv1"}function _sendJsonp(url,params,success,error){var timestamp=new Date().getTime(),successCallback=success,errorCallback=error,script=document.createElement("script"),parent=document.getElementsByTagName("head")[0],callbackName="keenJSONPCallback",loaded=false;success=null;error=null;callbackName+=timestamp;while(callbackName in window){callbackName+="a"}window[callbackName]=function(response){if(loaded===true){return}loaded=true;if(successCallback&&response){successCallback(response)}cleanup()};script.src=url+"&jsonp="+callbackName;parent.appendChild(script);script.onreadystatechange=function(){if(loaded===false&&this.readyState==="loaded"){loaded=true;if(errorCallback){errorCallback()}}};script.onerror=function(){if(loaded===false){loaded=true;if(errorCallback){errorCallback()}cleanup()}};function cleanup(){window[callbackName]=undefined;try{delete window[callbackName]}catch(e){}successCallback=errorCallback=null;parent.removeChild(script)}}function _sendXhr(method,url,headers,body,success,error){var ids=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],successCallback=success,errorCallback=error,payload,xhr;success=null;error=null;if(window.XMLHttpRequest){xhr=new XMLHttpRequest()}else{for(var i=0;i<ids.length;i++){try{xhr=new ActiveXObject(ids[i]);break}catch(e){}}}xhr.onreadystatechange=function(){var response;if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300){try{response=JSON.parse(xhr.responseText)}catch(e){Keen.log("Could not parse HTTP response: "+xhr.responseText);if(errorCallback){errorCallback(xhr,e);successCallback=errorCallback=null}}if(successCallback&&response){successCallback(response);successCallback=errorCallback=null}}else{Keen.log("HTTP request failed.");if(errorCallback){errorCallback(xhr,null);successCallback=errorCallback=null}}}};xhr.open(method,url,true);_each(headers,function(value,key){xhr.setRequestHeader(key,value)});if(body){payload=JSON.stringify(body)}if(method&&method.toUpperCase()==="GET"){xhr.send()}else{if(method&&method.toUpperCase()==="POST"){xhr.send(payload)}}}function _uploadEvent(eventCollection,payload,success,error){var urlBase,urlQueryString,reqType,data;if(!Keen.enabled){Keen.log("Event not recorded: Keen.enabled = false");return}if(!this.projectId()){Keen.log("Event not recorded: Missing projectId property");return}if(!this.writeKey()){Keen.log("Event not recorded: Missing writeKey property");return}urlBase=this.url("/projects/"+this.projectId()+"/events/"+eventCollection);urlQueryString="";reqType=this.config.requestType;data={};if(this.config.globalProperties){data=this.config.globalProperties(eventCollection)}_each(payload,function(value,key){data[key]=value});if(reqType!=="xhr"){urlQueryString+="?api_key="+encodeURIComponent(this.writeKey());urlQueryString+="&data="+encodeURIComponent(Keen.Base64.encode(JSON.stringify(data)));urlQueryString+="&modified="+encodeURIComponent(new Date().getTime());if(String(urlBase+urlQueryString).length<Keen.urlMaxLength){if(reqType==="jsonp"){_sendJsonp(urlBase+urlQueryString,null,success,error)}else{_sendBeacon(urlBase+urlQueryString,null,success,error)}return}}if(Keen.canXHR){_sendXhr("POST",urlBase,{Authorization:this.writeKey(),"Content-Type":"application/json"},data,success,error)}else{Keen.log("Event not sent: URL length exceeds current browser limit, and XHR (POST) is not supported.")}return};Keen.Base64={map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(n){var o="",i=0,m=this.map,i1,i2,i3,e1,e2,e3,e4;n=this.utf8.encode(n);while(i<n.length){i1=n.charCodeAt(i++);i2=n.charCodeAt(i++);i3=n.charCodeAt(i++);e1=(i1>>2);e2=(((i1&3)<<4)|(i2>>4));e3=(isNaN(i2)?64:((i2&15)<<2)|(i3>>6));e4=(isNaN(i2)||isNaN(i3))?64:i3&63;o=o+m.charAt(e1)+m.charAt(e2)+m.charAt(e3)+m.charAt(e4)}return o},decode:function(n){var o="",i=0,m=this.map,cc=String.fromCharCode,e1,e2,e3,e4,c1,c2,c3;n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(i<n.length){e1=m.indexOf(n.charAt(i++));e2=m.indexOf(n.charAt(i++));e3=m.indexOf(n.charAt(i++));e4=m.indexOf(n.charAt(i++));c1=(e1<<2)|(e2>>4);c2=((e2&15)<<4)|(e3>>2);c3=((e3&3)<<6)|e4;o=o+(cc(c1)+((e3!=64)?cc(c2):""))+(((e4!=64)?cc(c3):""))}return this.utf8.decode(o)},utf8:{encode:function(n){var o="",i=0,cc=String.fromCharCode,c;while(i<n.length){c=n.charCodeAt(i++);o=o+((c<128)?cc(c):((c>127)&&(c<2048))?(cc((c>>6)|192)+cc((c&63)|128)):(cc((c>>12)|224)+cc(((c>>6)&63)|128)+cc((c&63)|128)))}return o},decode:function(n){var o="",i=0,cc=String.fromCharCode,c2,c;while(i<n.length){c=n.charCodeAt(i);o=o+((c<128)?[cc(c),i++][0]:((c>191)&&(c<224))?[cc(((c&31)<<6)|((c2=n.charCodeAt(i+1))&63)),(i+=2)][0]:[cc(((c&15)<<12)|(((c2=n.charCodeAt(i+1))&63)<<6)|((c3=n.charCodeAt(i+2))&63)),(i+=3)][0])}return o}}};;if(typeof JSON!=="object"){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case "string":return quote(value);case "number":return isFinite(value)?String(value):"null";case "boolean":case "null":return String(value);case "object":if(!value){return "null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return "\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());(function(root,factory){root.utils.domready=factory()}(Keen,function(ready){var fns=[],fn,f=false,doc=document,testEl=doc.documentElement,hack=testEl.doScroll,domContentLoaded="DOMContentLoaded",addEventListener="addEventListener",onreadystatechange="onreadystatechange",readyState="readyState",loadedRgx=hack?/^loaded|^c/:/^loaded|c/,loaded=loadedRgx.test(doc[readyState]);function flush(f){loaded=1;while(f=fns.shift()){f()}}doc[addEventListener]&&doc[addEventListener](domContentLoaded,fn=function(){doc.removeEventListener(domContentLoaded,fn,f);flush()},f);hack&&doc.attachEvent(onreadystatechange,fn=function(){if(/^c/.test(doc[readyState])){doc.detachEvent(onreadystatechange,fn);flush()}});return(ready=hack?function(fn){self!=top?loaded?fn():fns.push(fn):function(){try{testEl.doScroll("left")}catch(e){return setTimeout(function(){ready(fn)},50)}fn()}()}:function(fn){loaded?fn():fns.push(fn)})}));if(Keen.loaded){setTimeout(function(){Keen.utils.domready(function(){Keen.trigger("ready")})},0)}_loadAsync();return Keen});var LZString=(function(){var f=String.fromCharCode;var keyStrBase64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var keyStrUriSafe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$";var baseReverseDic={};function getBaseValue(alphabet,character){if(!baseReverseDic[alphabet]){baseReverseDic[alphabet]={};for(var i=0;i<alphabet.length;i++){baseReverseDic[alphabet][alphabet.charAt(i)]=i;}}
return baseReverseDic[alphabet][character];}
var LZString={compressToBase64:function(input){if(input==null)return "";var res=LZString._compress(input,6,function(a){return keyStrBase64.charAt(a);});var resMod=res.length%4;if(resMod==1)res+="===";if(resMod==2)res+="==";if(resMod==3)res+="=";res=res.split("+").join("-").split("/").join(".").split("=").join("_");return res;},decompressFromBase64:function(input){if(input==null)return "";if(input=="")return null;input=input.split("-").join("+").split(".").join("/").split("_").join("=");return LZString._decompress(input.length,32,function(index){return getBaseValue(keyStrBase64,input.charAt(index));});},compressToUTF16:function(input){if(input==null)return "";return LZString._compress(input,15,function(a){return f(a+32);})+" ";},decompressFromUTF16:function(compressed){if(compressed==null)return "";if(compressed=="")return null;return LZString._decompress(compressed.length,16384,function(index){return compressed.charCodeAt(index)-32;});},compressToUint8Array:function(uncompressed){var compressed=LZString.compress(uncompressed);var buf=new Uint8Array(compressed.length*2);for(var i=0,TotalLen=compressed.length;i<TotalLen;i++){var current_value=compressed.charCodeAt(i);buf[i*2]=current_value>>>8;buf[i*2+1]=current_value%256;}
return buf;},decompressFromUint8Array:function(compressed){if(compressed===null||compressed===undefined){return LZString.decompress(compressed);}else{var buf=new Array(compressed.length/2);for(var i=0,TotalLen=buf.length;i<TotalLen;i++){buf[i]=compressed[i*2]*256+compressed[i*2+1];}
var result=[];buf.forEach(function(c){result.push(f(c));});return LZString.decompress(result.join(''));}},compressToEncodedURIComponent:function(input){if(input==null)return "";return LZString._compress(input,6,function(a){return keyStrUriSafe.charAt(a);});},decompressFromEncodedURIComponent:function(input){if(input==null)return "";if(input=="")return null;input=input.replace(/ /g,"+");return LZString._decompress(input.length,32,function(index){return getBaseValue(keyStrUriSafe,input.charAt(index));});},compress:function(uncompressed){return LZString._compress(uncompressed,16,function(a){return f(a);});},_compress:function(uncompressed,bitsPerChar,getCharFromInt){if(uncompressed==null)return "";var i,value,context_dictionary={},context_dictionaryToCreate={},context_c="",context_wc="",context_w="",context_enlargeIn=2,context_dictSize=3,context_numBits=2,context_data=[],context_data_val=0,context_data_position=0,ii;for(ii=0;ii<uncompressed.length;ii+=1){context_c=uncompressed.charAt(ii);if(!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)){context_dictionary[context_c]=context_dictSize++;context_dictionaryToCreate[context_c]=true;}
context_wc=context_w+context_c;if(Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)){context_w=context_wc;}else{if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1);if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0;}else{context_data_position++;}}
value=context_w.charCodeAt(0);for(i=0;i<8;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0;}else{context_data_position++;}
value=value>>1;}}else{value=1;for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|value;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0;}else{context_data_position++;}
value=0;}
value=context_w.charCodeAt(0);for(i=0;i<16;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0;}else{context_data_position++;}
value=value>>1;}}
context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++;}
delete context_dictionaryToCreate[context_w];}else{value=context_dictionary[context_w];for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0;}else{context_data_position++;}
value=value>>1;}}
context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++;}
context_dictionary[context_wc]=context_dictSize++;context_w=String(context_c);}}
if(context_w!==""){if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1);if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0;}else{context_data_position++;}}
value=context_w.charCodeAt(0);for(i=0;i<8;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0;}else{context_data_position++;}
value=value>>1;}}else{value=1;for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|value;if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0;}else{context_data_position++;}
value=0;}
value=context_w.charCodeAt(0);for(i=0;i<16;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0;}else{context_data_position++;}
value=value>>1;}}
context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++;}
delete context_dictionaryToCreate[context_w];}else{value=context_dictionary[context_w];for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0;}else{context_data_position++;}
value=value>>1;}}
context_enlargeIn--;if(context_enlargeIn==0){context_enlargeIn=Math.pow(2,context_numBits);context_numBits++;}}
value=2;for(i=0;i<context_numBits;i++){context_data_val=(context_data_val<<1)|(value&1);if(context_data_position==bitsPerChar-1){context_data_position=0;context_data.push(getCharFromInt(context_data_val));context_data_val=0;}else{context_data_position++;}
value=value>>1;}
while(true){context_data_val=(context_data_val<<1);if(context_data_position==bitsPerChar-1){context_data.push(getCharFromInt(context_data_val));break;}
else context_data_position++;}
return context_data.join('');},decompress:function(compressed){if(compressed==null)return "";if(compressed=="")return null;return LZString._decompress(compressed.length,32768,function(index){return compressed.charCodeAt(index);});},_decompress:function(length,resetValue,getNextValue){var dictionary=[],next,enlargeIn=4,dictSize=4,numBits=3,entry="",result=[],i,w,bits,resb,maxpower,power,c,data={val:getNextValue(0),position:resetValue,index:1};for(i=0;i<3;i+=1){dictionary[i]=i;}
bits=0;maxpower=Math.pow(2,2);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++);}
bits|=(resb>0?1:0)*power;power<<=1;}
switch(next=bits){case 0:bits=0;maxpower=Math.pow(2,8);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++);}
bits|=(resb>0?1:0)*power;power<<=1;}
c=f(bits);break;case 1:bits=0;maxpower=Math.pow(2,16);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++);}
bits|=(resb>0?1:0)*power;power<<=1;}
c=f(bits);break;case 2:return "";}
dictionary[3]=c;w=c;result.push(c);while(true){if(data.index>length){return "";}
bits=0;maxpower=Math.pow(2,numBits);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++);}
bits|=(resb>0?1:0)*power;power<<=1;}
switch(c=bits){case 0:bits=0;maxpower=Math.pow(2,8);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++);}
bits|=(resb>0?1:0)*power;power<<=1;}
dictionary[dictSize++]=f(bits);c=dictSize-1;enlargeIn--;break;case 1:bits=0;maxpower=Math.pow(2,16);power=1;while(power!=maxpower){resb=data.val&data.position;data.position>>=1;if(data.position==0){data.position=resetValue;data.val=getNextValue(data.index++);}
bits|=(resb>0?1:0)*power;power<<=1;}
dictionary[dictSize++]=f(bits);c=dictSize-1;enlargeIn--;break;case 2:return result.join('');}
if(enlargeIn==0){enlargeIn=Math.pow(2,numBits);numBits++;}
if(dictionary[c]){entry=dictionary[c];}else{if(c===dictSize){entry=w+w.charAt(0);}else{return null;}}
result.push(entry);dictionary[dictSize++]=w+entry.charAt(0);enlargeIn--;w=entry;if(enlargeIn==0){enlargeIn=Math.pow(2,numBits);numBits++;}}}};return LZString;})();/*!jQuery v3.6.4 | (c) OpenJS Foundation and other contributors | jquery.org/license*/!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window.parent:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,y=n.hasOwnProperty,a=y.toString,l=a.call(Object),v={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.4",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=y.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,y,s,c,v,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&v(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!y||!y.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ve(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ye(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.cssHas=ce(function(){try{return C.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],y=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||y.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||y.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||y.push(".#.+[+~]"),e.querySelectorAll("\\\f"),y.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),d.cssHas||y.push(":has"),y=y.length&&new RegExp(y.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),v=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&v(p,e)?-1:t==C||t.ownerDocument==p&&v(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!y||!y.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),v(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace($," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,y){var v="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===y?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=v!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(v){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=y)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ye(function(){return[0]}),last:ye(function(e,t){return[t-1]}),eq:ye(function(e,t,n){return[n<0?n+t:n]}),even:ye(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ye(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ye(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ye(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,y,v,e){return y&&!y[S]&&(y=Ce(y)),v&&!v[S]&&(v=Ce(v,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?v||(e?d:l||y)?[]:t:f;if(g&&g(f,p,n,r),y){i=Te(p,u),y(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(v||d){if(v){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);v(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=v?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),v?v(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,y,v,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(y=o,m=0<(v=i).length,x=0<y.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=y[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=v[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+v.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ve(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function $(){E.removeEventListener("DOMContentLoaded",$),C.removeEventListener("load",$),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",$),C.addEventListener("load",$));var B=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)B(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):B(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),v.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",v.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,v.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=y.events)||(u=y.events=Object.create(null)),(a=y.handle)||(a=y.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Y.hasData(e)&&Y.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||S.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(t,e){S.event.special[t]={setup:function(){return Se(this,t,Ce),!1},trigger:function(){return Se(this,t),!0},_default:function(e){return Y.get(e.target,t)},delegateType:e}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!v.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ye(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ye(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ye(r)),r.parentNode&&(n&&ie(r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ye(c),r=0,i=(o=ye(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ye(e),a=a||ye(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ye(c,"script")).length&&ve(a,!f&&ye(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return B(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ye(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=/^--/,Me=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Ie=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},We=new RegExp(ne.join("|"),"i"),Fe="[\\x20\\t\\r\\n\\f]",$e=new RegExp("^"+Fe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fe+"+$","g");function Be(e,t,n){var r,i,o,a,s=Re.test(t),u=e.style;return(n=n||Me(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace($e,"$1")||void 0),""!==a||ie(e)||(a=S.style(e,t)),!v.pixelBoxStyles()&&Pe.test(a)&&We.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var ze=["Webkit","Moz","ms"],Ue=E.createElement("div").style,Xe={};function Ve(e){var t=S.cssProps[e]||Xe[e];return t||(e in Ue?e:Xe[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=ze.length;while(n--)if((e=ze[n]+t)in Ue)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var r=Me(e),i=(!v.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Re.test(t),l=e.style;if(u||(t=Ve(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Re.test(t)||(t=Ve(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Be(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ge.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):Ie(e,Ye,function(){return Ze(e,u,n)})},set:function(e,t,n){var r,i=Me(e),o=!v.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Ke(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Je(0,t,s)}}}),S.cssHooks.marginLeft=_e(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-Ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Je)}),S.fn.extend({css:function(e,t){return B(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Me(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=et.prototype.init,S.fx.step={};var tt,nt,rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,S.fx.interval),S.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=tt||ut(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=ft.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ct,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(y?"hidden"in y&&(g=y.hidden):y=Y.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ct(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=ft(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&at.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),tt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,st())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},rt=E.createElement("input"),it=E.createElement("select").appendChild(E.createElement("option")),rt.type="checkbox",v.checkOn=""!==rt.value,v.optSelected=it.selected,(rt=E.createElement("input")).value="t",rt.type="radio",v.radioValue="t"===rt.value;var pt,dt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return B(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||S.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function yt(e){return(e.match(P)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return B(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),v.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){S(this).addClass(t.call(this,e,vt(this)))}):(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=yt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){S(this).removeClass(t.call(this,e,vt(this)))}):arguments.length?(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(" "+i+" "))n=n.replace(" "+i+" "," ")}a=yt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"===a||Array.isArray(t);return m(t)?this.each(function(e){S(this).toggleClass(t.call(this,e,vt(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=mt(t),this.each(function(){if(s)for(o=S(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==a||((r=vt(this))&&Y.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":Y.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+yt(vt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:yt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},v.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in C;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!bt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,wt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var St=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function jt(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||St.test(n)?i(n,t):jt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)jt(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Nt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Dt=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=E.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function $t(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Bt(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Wt.href=Tt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,S.ajaxSettings),t):Bt(S.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,y=S.ajaxSetup({},t),v=y.context||y,m=y.context&&(v.nodeType||v.jquery)?S(v):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=y.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Ht.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(y.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),y.url=((e||y.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),y.type=t.method||t.type||y.method||y.type,y.dataTypes=(y.dataType||"*").toLowerCase().match(P)||[""],null==y.crossDomain){r=E.createElement("a");try{r.href=y.url,r.href=r.href,y.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){y.crossDomain=!0}}if(y.data&&y.processData&&"string"!=typeof y.data&&(y.data=S.param(y.data,y.traditional)),$t(Rt,y,t,T),h)return T;for(i in(g=S.event&&y.global)&&0==S.active++&&S.event.trigger("ajaxStart"),y.type=y.type.toUpperCase(),y.hasContent=!Ot.test(y.type),f=y.url.replace(qt,""),y.hasContent?y.data&&y.processData&&0===(y.contentType||"").indexOf("application/x-www-form-urlencoded")&&(y.data=y.data.replace(Dt,"+")):(o=y.url.slice(f.length),y.data&&(y.processData||"string"==typeof y.data)&&(f+=(Et.test(f)?"&":"?")+y.data,delete y.data),!1===y.cache&&(f=f.replace(Lt,"$1"),o=(Et.test(f)?"&":"?")+"_="+Ct.guid+++o),y.url=f+o),y.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(y.data&&y.hasContent&&!1!==y.contentType||t.contentType)&&T.setRequestHeader("Content-Type",y.contentType),T.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+It+"; q=0.01":""):y.accepts["*"]),y.headers)T.setRequestHeader(i,y.headers[i]);if(y.beforeSend&&(!1===y.beforeSend.call(v,T,y)||h))return T.abort();if(u="abort",b.add(y.complete),T.done(y.success),T.fail(y.error),c=$t(Mt,y,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,y]),h)return T;y.async&&0<y.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},y.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(y,T,n)),!i&&-1<S.inArray("script",y.dataTypes)&&S.inArray("json",y.dataTypes)<0&&(y.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(y,s,T,i),i?(y.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===y.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(v,[o,l,T]):x.rejectWith(v,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,y,i?o:a]),b.fireWith(v,[T,l]),g&&(m.trigger("ajaxComplete",[T,y]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=S.ajaxSettings.xhr();v.cors=!!zt&&"withCredentials"in zt,v.ajax=zt=!!zt,S.ajaxTransport(function(i){var o,a;if(v.cors||zt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ut,Xt=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),v.createHTMLDocument=((Ut=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=yt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return B(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=_e(v.pixelPosition,function(e,t){if(t)return t=Be(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Gt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Yt=C.jQuery,Qt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Qt),e&&C.jQuery===S&&(C.jQuery=Yt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});var JQUERY_DIGIOH=window.parent.jQuery.noConflict(true);RegExp.escape=function(r){return r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},function(){"use strict";var p=JQUERY_DIGIOH;p.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(r,e){if(isNaN(r))return r;if(/\./.test(r))return parseFloat(r);var a=parseInt(r);return isNaN(a)?null:a}},parsers:{parse:function(r,e){var a=e.separator,t=e.delimiter;e.state.rowNum||(e.state.rowNum=1),e.state.colNum||(e.state.colNum=1);var o=[],s=[],n=0,i="",l=!1;function u(){if(n=0,i="",e.start&&e.state.rowNum<e.start)return s=[],e.state.rowNum++,void(e.state.colNum=1);if(void 0===e.onParseEntry)o.push(s);else{var r=e.onParseEntry(s,e.state);!1!==r&&o.push(r)}s=[],e.end&&e.state.rowNum>=e.end&&(l=!0),e.state.rowNum++,e.state.colNum=1}function c(){if(void 0===e.onParseValue)s.push(i);else if(e.headers&&1===e.state.rowNum)s.push(i);else{var r=e.onParseValue(i,e.state);!1!==r&&s.push(r)}i="",n=0,e.state.colNum++}var f=RegExp.escape(a),d=RegExp.escape(t),m=/(D|S|\r\n|\n|\r|[^DS\r\n]+)/,p=m.source;return p=(p=p.replace(/S/g,f)).replace(/D/g,d),m=new RegExp(p,"gm"),r.replace(m,function(r){if(!l)switch(n){case 0:if(r===a){i+="",c();break}if(r===t){n=1;break}if(/^(\r\n|\n|\r)$/.test(r)){c(),u();break}i+=r,n=3;break;case 1:if(r===t){n=2;break}i+=r,n=1;break;case 2:if(r===t){i+=r,n=1;break}if(r===a){c();break}if(/^(\r\n|\n|\r)$/.test(r)){c(),u();break}throw Error("CSVDataError: Illegal State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(r===a){c();break}if(/^(\r\n|\n|\r)$/.test(r)){c(),u();break}if(r===t)throw Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");throw Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");default:throw Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]")}}),0!==s.length&&(c(),u()),o},splitLines:function(r,a){if(r){var t=(a=a||{}).separator||p.csv.defaults.separator,o=a.delimiter||p.csv.defaults.delimiter;a.state=a.state||{},a.state.rowNum||(a.state.rowNum=1);var e=[],s=0,n="",i=!1,l=RegExp.escape(t),u=RegExp.escape(o),c=/(D|S|\n|\r|[^DS\r\n]+)/,f=c.source;return f=(f=f.replace(/S/g,l)).replace(/D/g,u),c=new RegExp(f,"gm"),r.replace(c,function(r){if(!i)switch(s){case 0:if(r===t){n+=r,s=0;break}if(r===o){n+=r,s=1;break}if("\n"===r){d();break}if(/^\r$/.test(r))break;n+=r,s=3;break;case 1:if(r===o){n+=r,s=2;break}n+=r,s=1;break;case 2:var e=n.substr(n.length-1);if(r===o&&e===o){n+=r,s=1;break}if(r===t){n+=r,s=0;break}if("\n"===r){d();break}if("\r"===r)break;throw Error("CSVDataError: Illegal state [Row:"+a.state.rowNum+"]");case 3:if(r===t){n+=r,s=0;break}if("\n"===r){d();break}if("\r"===r)break;if(r===o)throw Error("CSVDataError: Illegal quote [Row:"+a.state.rowNum+"]");throw Error("CSVDataError: Illegal state [Row:"+a.state.rowNum+"]");default:throw Error("CSVDataError: Unknown state [Row:"+a.state.rowNum+"]")}}),""!==n&&d(),e}function d(){if(s=0,a.start&&a.state.rowNum<a.start)return n="",void a.state.rowNum++;if(void 0===a.onParseEntry)e.push(n);else{var r=a.onParseEntry(n,a.state);!1!==r&&e.push(r)}n="",a.end&&a.state.rowNum>=a.end&&(i=!0),a.state.rowNum++}},parseEntry:function(r,e){var a=e.separator,t=e.delimiter;e.state.rowNum||(e.state.rowNum=1),e.state.colNum||(e.state.colNum=1);var o=[],s=0,n="";function i(){if(void 0===e.onParseValue)o.push(n);else{var r=e.onParseValue(n,e.state);!1!==r&&o.push(r)}n="",s=0,e.state.colNum++}if(!e.match){var l=RegExp.escape(a),u=RegExp.escape(t),c=/(D|S|\n|\r|[^DS\r\n]+)/.source;c=(c=c.replace(/S/g,l)).replace(/D/g,u),e.match=new RegExp(c,"gm")}return r.replace(e.match,function(r){switch(s){case 0:if(r===a){n+="",i();break}if(r===t){s=1;break}if("\n"===r||"\r"===r)break;n+=r,s=3;break;case 1:if(r===t){s=2;break}n+=r,s=1;break;case 2:if(r===t){n+=r,s=1;break}if(r===a){i();break}if("\n"===r||"\r"===r)break;throw Error("CSVDataError: Illegal State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");case 3:if(r===a){i();break}if("\n"===r||"\r"===r)break;if(r===t)throw Error("CSVDataError: Illegal Quote [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");throw Error("CSVDataError: Illegal Data [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]");default:throw Error("CSVDataError: Unknown State [Row:"+e.state.rowNum+"][Col:"+e.state.colNum+"]")}}),i(),o}},helpers:{collectPropertyNames:function(r){var e=[],a=[],t=[];for(e in r)for(a in r[e])r[e].hasOwnProperty(a)&&t.indexOf(a)<0&&"function"!=typeof r[e][a]&&t.push(a);return t}},toArray:function(r,e,a){if(void 0!==e&&"function"==typeof e){if(void 0!==a)return console.error("You cannot 3 arguments with the 2nd argument being a function");a=e,e={}}e=void 0!==e?e:{};var t={};t.callback=void 0!==a&&"function"==typeof a&&a,t.separator="separator"in e?e.separator:p.csv.defaults.separator,t.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter;var o=void 0!==e.state?e.state:{};e={delimiter:t.delimiter,separator:t.separator,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,state:o};var s=p.csv.parsers.parseEntry(r,e);if(!t.callback)return s;t.callback("",s)},toArrays:function(r,e,a){if(void 0!==e&&"function"==typeof e){if(void 0!==a)return console.error("You cannot 3 arguments with the 2nd argument being a function");a=e,e={}}e=void 0!==e?e:{};var t={};t.callback=void 0!==a&&"function"==typeof a&&a,t.separator="separator"in e?e.separator:p.csv.defaults.separator,t.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter;var o=[];if(void 0!==(e={delimiter:t.delimiter,separator:t.separator,onPreParse:e.onPreParse,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,onPostParse:e.onPostParse,start:e.start,end:e.end,state:{rowNum:1,colNum:1}}).onPreParse&&(r=e.onPreParse(r,e.state)),o=p.csv.parsers.parse(r,e),void 0!==e.onPostParse&&(o=e.onPostParse(o,e.state)),!t.callback)return o;t.callback("",o)},toObjects:function(r,e,a){if(void 0!==e&&"function"==typeof e){if(void 0!==a)return console.error("You cannot 3 arguments with the 2nd argument being a function");a=e,e={}}e=void 0!==e?e:{};var t={};t.callback=void 0!==a&&"function"==typeof a&&a,t.separator="separator"in e?e.separator:p.csv.defaults.separator,t.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter,t.headers="headers"in e?e.headers:p.csv.defaults.headers,e.start="start"in e?e.start:1,t.headers&&e.start++,e.end&&t.headers&&e.end++;var o,s=[];e={delimiter:t.delimiter,separator:t.separator,onPreParse:e.onPreParse,onParseEntry:e.onParseEntry,onParseValue:e.onParseValue,onPostParse:e.onPostParse,start:e.start,end:e.end,state:{rowNum:1,colNum:1},match:!1,transform:e.transform};var n={delimiter:t.delimiter,separator:t.separator,start:1,end:1,state:{rowNum:1,colNum:1},headers:!0};void 0!==e.onPreParse&&(r=e.onPreParse(r,e.state));var i=p.csv.parsers.splitLines(r,n),l=p.csv.toArray(i[0],n);o=p.csv.parsers.splitLines(r,e),e.state.colNum=1,e.state.rowNum=l?2:1;for(var u=0,c=o.length;u<c;u++){for(var f=p.csv.toArray(o[u],e),d={},m=0;m<l.length;m++)d[l[m]]=f[m];void 0!==e.transform?s.push(e.transform.call(void 0,d)):s.push(d),e.state.rowNum++}if(void 0!==e.onPostParse&&(s=e.onPostParse(s,e.state)),!t.callback)return s;t.callback("",s)},fromArrays:function(r,e,a){if(void 0!==e&&"function"==typeof e){if(void 0!==a)return console.error("You cannot 3 arguments with the 2nd argument being a function");a=e,e={}}e=void 0!==e?e:{};var t={};t.callback=void 0!==a&&"function"==typeof a&&a,t.separator="separator"in e?e.separator:p.csv.defaults.separator,t.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter;var o,s,n,i,l="";for(n=0;n<r.length;n++){for(o=r[n],s=[],i=0;i<o.length;i++){var u=void 0===o[i]||null===o[i]?"":o[i].toString();-1<u.indexOf(t.delimiter)&&(u=u.replace(new RegExp(t.delimiter,"g"),t.delimiter+t.delimiter));var c="\n|\r|S|D";c=(c=c.replace("S",t.separator)).replace("D",t.delimiter),-1<u.search(c)&&(u=t.delimiter+u+t.delimiter),s.push(u)}l+=s.join(t.separator)+"\n"}if(!t.callback)return l;t.callback("",l)},fromObjects:function(r,e,a){if(void 0!==e&&"function"==typeof e){if(void 0!==a)return console.error("You cannot 3 arguments with the 2nd argument being a function");a=e,e={}}e=void 0!==e?e:{};var t={};if(t.callback=void 0!==a&&"function"==typeof a&&a,t.separator="separator"in e?e.separator:p.csv.defaults.separator,t.delimiter="delimiter"in e?e.delimiter:p.csv.defaults.delimiter,t.headers="headers"in e?e.headers:p.csv.defaults.headers,t.sortOrder="sortOrder"in e?e.sortOrder:"declare",t.manualOrder="manualOrder"in e?e.manualOrder:[],t.transform=e.transform,"string"==typeof t.manualOrder&&(t.manualOrder=p.csv.toArray(t.manualOrder,t)),void 0!==t.transform){var o,s=r;for(r=[],o=0;o<s.length;o++)r.push(t.transform.call(void 0,s[o]))}var n,i,l=p.csv.helpers.collectPropertyNames(r);if("alpha"===t.sortOrder&&l.sort(),0<t.manualOrder.length){var u,c=[].concat(t.manualOrder);for(u=0;u<l.length;u++)c.indexOf(l[u])<0&&c.push(l[u]);l=c}var f,d=[];for(t.headers&&d.push(l),n=0;n<r.length;n++){for(i=[],u=0;u<l.length;u++)(f=l[u])in r[n]&&"function"!=typeof r[n][f]?i.push(r[n][f]):i.push("");d.push(i)}return p.csv.fromArrays(d,e,t.callback)}},p.csvEntry2Array=p.csv.toArray,p.csv2Array=p.csv.toArrays,p.csv2Dictionary=p.csv.toObjects,"undefined"!=typeof module&&module.exports&&(module.exports=p.csv)}.call(this);JQUERY_DIGIOH.idleTimer=function(firstParam,elem,opts){opts=JQUERY_DIGIOH.extend({startImmediately:true,idle:false,enabled:true,timeout:30000,events:"mousemove keydown DOMMouseScroll mousewheel mousedown touchstart touchmove"},opts);elem=elem||window.parent.document;var jqElem=JQUERY_DIGIOH(elem),obj=jqElem.data("idleTimerObj")||{},toggleIdleState=function(myelem){if(typeof myelem==="number"){myelem=undefined;}
var obj=JQUERY_DIGIOH.data(myelem||elem,"idleTimerObj");obj.idle=!obj.idle;var elapsed=(+new Date())-obj.olddate;obj.olddate=+new Date();if(obj.idle&&(elapsed<opts.timeout)){obj.idle=false;window.parent.clearTimeout(JQUERY_DIGIOH.idleTimer.tId);if(opts.enabled){try{JQUERY_DIGIOH.idleTimer.tId=window.parent.setTimeout(toggleIdleState,opts.timeout);}catch(e){}}
return;}
var event=JQUERY_DIGIOH.Event(JQUERY_DIGIOH.data(elem,"idleTimer",obj.idle?"idle":"active")+".idleTimer");JQUERY_DIGIOH(elem).trigger(event);},stop=function(jqElem){var obj=jqElem.data("idleTimerObj")||{};obj.enabled=false;try{window.parent.clearTimeout(obj.tId);}catch(e){}
jqElem.off(".idleTimer");};obj.olddate=obj.olddate||+new Date();if(typeof firstParam==="number"){opts.timeout=firstParam;}else if(firstParam==="destroy"){stop(jqElem);return this;}else if(firstParam==="getElapsedTime"){return(+new Date())-obj.olddate;}
jqElem.on(JQUERY_DIGIOH.trim((opts.events+" ").split(" ").join(".idleTimer ")),function(){var obj=JQUERY_DIGIOH.data(this,"idleTimerObj");try{window.parent.clearTimeout(obj.tId);}catch(e){}
if(obj.enabled){if(obj.idle){toggleIdleState(this);}
try{obj.tId=window.parent.setTimeout(toggleIdleState,obj.timeout);}catch(e){}}});obj.idle=opts.idle;obj.enabled=opts.enabled;obj.timeout=opts.timeout;if(opts.startImmediately){try{obj.tId=window.parent.setTimeout(toggleIdleState,obj.timeout);}catch(e){}}
jqElem.data("idleTimer","active");jqElem.data("idleTimerObj",obj);};JQUERY_DIGIOH.fn.idleTimer=function(firstParam,opts){if(!opts){opts={};}
if(this[0]){JQUERY_DIGIOH.idleTimer(firstParam,this[0],opts);}
return this;};if(DIGIOH_EMBED_TYPE==='inline'){}
var hasRunJquerySelectorGenerator=false;var JquerySelectorGeneratorPrevBorder={};var JquerySelectorGeneratorPrevPath='';var runJquerySelectorGenerator=function(){if(!hasRunJquerySelectorGenerator){hasRunJquerySelectorGenerator=true;JQUERY_DIGIOH.fn.extend({getJqSelectorPath:function(){var path,node=this;while(node.length){var realNode=node[0],name=realNode.localName;if(!name)break;name=name.toLowerCase();var parent=node.parent();var sameTagSiblings=parent.children(name);if(sameTagSiblings.length>1){var allSiblings=parent.children();var index=allSiblings.index(realNode)+1;if(index>1){name+=':nth-child('+index+')';}}
path=name+(path?'>'+path:'');node=parent;}
return path;}});JQUERY_DIGIOH(window.parent.document).ready(function(){JQUERY_DIGIOH('body').append("<div id='lightbox-jquery-selector-generator-wrapper' class='lightbox-jquery-selector-generator' style='display: none; position: fixed; z-index: 7000000; top: 0px; right: 0px; width: 500px; background-color: #D5D5D5; border: 0px solid #e5e9ea; border-radius: 8px;'><a href='javascript:void(0);' id='lightbox-jquery-selector-generator-close' class='lightbox-jquery-selector-generator' style='float: right; margin-right: 5px; margin-top: 5px; text-decoration: none; border: 0px solid black;'><img id='lightbox-jquery-selector-generator-close-img' class='lightbox-jquery-selector-generator' src='https://lightbox.blob.core.windows.net/static/jquery_selector_generator_close_btn.png' style='width: 15px; border: 0px solid #D5D5D5;' /></a><input id='lightbox-jquery-selector-generator-input-1' class='lightbox-jquery-selector-generator' type='text' style='width: 452px; margin-left: 22px; height: 30px; margin-top: 20px; margin-bottom: 20px; border: 1px solid #7E7E7E; background-color: #fff; border-radius: 6px;' /><input id='lightbox-jquery-selector-generator-input-2' class='lightbox-jquery-selector-generator' type='text' style='display: none; width: 452px; margin-left: 22px; height: 30px; margin-top: -10px; margin-bottom: 20px; border: 1px solid #7E7E7E; background-color: #fff; border-radius: 6px;' /></div>");JQUERY_DIGIOH('#lightbox-jquery-selector-generator-close').click(function(){JQUERY_DIGIOH('#lightbox-jquery-selector-generator-wrapper').hide();});JQUERY_DIGIOH(window.parent.document).click(function(e){e.preventDefault();var ele=JQUERY_DIGIOH(e.target);var sp=ele.getJqSelectorPath();if(!ele.attr('id')||ele.attr('class')!=='lightbox-jquery-selector-generator'){if(JquerySelectorGeneratorPrevBorder!=={}&&JquerySelectorGeneratorPrevBorder.width!=='0px'&&JquerySelectorGeneratorPrevPath&&JquerySelectorGeneratorPrevPath!==sp){JQUERY_DIGIOH(JquerySelectorGeneratorPrevPath).css({'border-width':JquerySelectorGeneratorPrevBorder.width,'border-color':JquerySelectorGeneratorPrevBorder.color,'border-style':JquerySelectorGeneratorPrevBorder.style});}else if(JquerySelectorGeneratorPrevPath&&JquerySelectorGeneratorPrevPath!==sp){JQUERY_DIGIOH(JquerySelectorGeneratorPrevPath).css({'border':'none'});}
if(JquerySelectorGeneratorPrevPath!==sp){var blw=JQUERY_DIGIOH(sp).css("border-left-width");if(blw){JquerySelectorGeneratorPrevBorder={'width':blw,'color':JQUERY_DIGIOH(sp).css("border-color"),'style':JQUERY_DIGIOH(sp).css("border-style")};}else{JquerySelectorGeneratorPrevBorder={'width':'0px','color':'black','style':'solid'};}
if(DIGIOH_API&&DIGIOH_API.hasOwnProperty('activeInlineSelectorGeneratorBox')&&DIGIOH_API.activeInlineSelectorGeneratorBox.length&&JQUERY_DIGIOH('#lightbox-iframe-'+DIGIOH_API.activeInlineSelectorGeneratorBox).length){JQUERY_DIGIOH('#lightbox-iframe-'+DIGIOH_API.activeInlineSelectorGeneratorBox).parent().hide();}}
JquerySelectorGeneratorPrevPath=sp;JQUERY_DIGIOH(sp).css({"border-width":"1px","border-color":"#009EC5","border-style":"solid"});JQUERY_DIGIOH('#lightbox-jquery-selector-generator-input-1').val(sp);JQUERY_DIGIOH('#lightbox-jquery-selector-generator-wrapper').show();if(JQUERY_DIGIOH(sp).html().length&&(JQUERY_DIGIOH(sp).html().indexOf('<')===-1||JQUERY_DIGIOH(sp).html().indexOf('>')===-1)){if(JQUERY_DIGIOH(sp).html().indexOf("'")>=0){JQUERY_DIGIOH('#lightbox-jquery-selector-generator-input-2').val(sp+":contains("+JQUERY_DIGIOH(sp).html().trim()+")");}else{JQUERY_DIGIOH('#lightbox-jquery-selector-generator-input-2').val(sp+":contains('"+JQUERY_DIGIOH(sp).html().trim()+"')");}
JQUERY_DIGIOH('#lightbox-jquery-selector-generator-input-2').show();}else{JQUERY_DIGIOH('#lightbox-jquery-selector-generator-input-2').hide();}
if(DIGIOH_API&&DIGIOH_API.hasOwnProperty('activeInlineSelectorGeneratorBox')&&DIGIOH_API.activeInlineSelectorGeneratorBox.length){var jqueryMethod=DIGIOH_API.LIGHTBOX.getUrlParam('jquery-selector-method');if(!jqueryMethod){jqueryMethod='append';}
if(JQUERY_DIGIOH('#lightbox-iframe-'+DIGIOH_API.activeInlineSelectorGeneratorBox).length){var inlineElement=JQUERY_DIGIOH('#lightbox-iframe-'+DIGIOH_API.activeInlineSelectorGeneratorBox).parent().detach();if(JQUERY_DIGIOH(sp).length>1){JQUERY_DIGIOH(sp).eq(0)[jqueryMethod](inlineElement);}else{JQUERY_DIGIOH(sp)[jqueryMethod](inlineElement);}
JQUERY_DIGIOH('#lightbox-iframe-'+DIGIOH_API.activeInlineSelectorGeneratorBox).parent().show();}else{var lid=DIGIOH_API.activeInlineSelectorGeneratorBox;DIGIOH_LIGHTBOX_EFFECTS[lid].inline.position_using='jquery_selector';DIGIOH_LIGHTBOX_EFFECTS[lid].inline.jquery_selector=sp;DIGIOH_LIGHTBOX_EFFECTS[lid].inline.jquery_method=jqueryMethod;DIGIOH_API.LIGHTBOX.embedInlineLightboxForm(lid);}}}});});}};if(window.parent.location.href.indexOf('lightbox-jquery-selector-generator')>0){runJquerySelectorGenerator();}
var DIGIOH_STORAGE={storage_type:(DIGIOH_STORAGE_TYPE||'cookie'),data:{},callbacks:{},set:function(){if(typeof DIGIOH_STORAGE.data!=='object'||DIGIOH_STORAGE.data===null){DIGIOH_STORAGE.data={};}
if(typeof DIGIOH_STORAGE.storage_type==='string'&&DIGIOH_STORAGE.storage_type){if(DIGIOH_STORAGE.storage_type==='local_storage'){DIGIOH_LOCAL_STORAGE.set(DIGIOH_STORAGE.data);}else if(DIGIOH_STORAGE.storage_type==='cross_domain'){if(DIGIOH_CROSS_DOMAIN.isWorking){DIGIOH_CROSS_DOMAIN.set(DIGIOH_STORAGE.data);}else{DIGIOH_API.log('DIGIOH_CROSS_DOMAIN.isWorking = '+DIGIOH_CROSS_DOMAIN.isWorking+' -- Could not perform (DIGIOH_STORAGE.set) operation');}}else if(DIGIOH_STORAGE.storage_type==='cookie'){DIGIOH_COOKIE.set('xdibx',JSON.stringify(DIGIOH_STORAGE.data));DIGIOH_LOCAL_STORAGE.set(DIGIOH_STORAGE.data);}}else{DIGIOH_API.log('DIGIOH_STORAGE.storage_type ==> NOT SET!!!! -- Could not perform (DIGIOH_STORAGE.set) operation');}},get:function(callback){if(typeof DIGIOH_STORAGE.storage_type==='string'&&DIGIOH_STORAGE.storage_type){if(DIGIOH_STORAGE.storage_type==='local_storage'){callback(DIGIOH_LOCAL_STORAGE.get('xdibx'));}else if(DIGIOH_STORAGE.storage_type==='cross_domain'){if(DIGIOH_CROSS_DOMAIN.isWorking){DIGIOH_CROSS_DOMAIN.get(callback);}else{DIGIOH_API.log('DIGIOH_CROSS_DOMAIN.isWorking = '+DIGIOH_CROSS_DOMAIN.isWorking+' -- Could not perform (DIGIOH_STORAGE.get) operation');}}else if(DIGIOH_STORAGE.storage_type==='cookie'){var storageVal=DIGIOH_COOKIE.getEncoded('xdibx');var storageValLS=DIGIOH_LOCAL_STORAGE.get('xdibx');if(storageVal===null||storageVal===''){storageVal=storageValLS;DIGIOH_API.log('DIGIOH_STORAGE.get ==> pulled value from localStorage, since cookie value does not exist.');}else if(storageValLS&&(storageValLS.length>storageVal.length||storageVal.length>3500&&storageValLS.length>3500)){storageVal=storageValLS;DIGIOH_API.log('DIGIOH_STORAGE.get ==> pulled value from localStorage, since cookie value was smaller or is approaching max size limit of 4000.');}
callback(storageVal);}}else{DIGIOH_API.log('DIGIOH_STORAGE.storage_type ==> NOT SET!!!! -- Could not perform (DIGIOH_STORAGE.get) operation');}},erase:function(){if(typeof DIGIOH_STORAGE.storage_type==='string'&&DIGIOH_STORAGE.storage_type){if(DIGIOH_STORAGE.storage_type==='local_storage'){DIGIOH_LOCAL_STORAGE.erase();}else if(DIGIOH_STORAGE.storage_type==='cross_domain'){if(DIGIOH_CROSS_DOMAIN.isWorking){DIGIOH_CROSS_DOMAIN.erase();}else{DIGIOH_API.log('DIGIOH_CROSS_DOMAIN.isWorking = '+DIGIOH_CROSS_DOMAIN.isWorking+' -- Could not perform (DIGIOH_STORAGE.get) operation');}}else if(DIGIOH_STORAGE.storage_type==='cookie'){DIGIOH_COOKIE.erase('xdibx');}}else{DIGIOH_API.log('DIGIOH_STORAGE.storage_type ==> NOT SET!!!! -- Could not perform (DIGIOH_STORAGE.erase) operation');}},setStorageType:function(){if(typeof DIGIOH_STORAGE_TYPE==='string'){if(DIGIOH_STORAGE_TYPE==='local_storage'&&DIGIOH_LOCAL_STORAGE.isAvailable()===false){DIGIOH_API.log('DIGIOH_STORAGE.storage_type ==> detected that localStorage is not available, so falling back to using cookies');DIGIOH_STORAGE.storage_type='cookie';}else{DIGIOH_STORAGE.storage_type=DIGIOH_STORAGE_TYPE;}}else{DIGIOH_STORAGE.storage_type='cookie';}}};var DIGIOH_LOCAL_STORAGE={set:function(obj){var data_val='';var useLZ=(typeof USE_LZ==='undefined'||USE_LZ==true);if(typeof obj!=='object'||obj===null){if(useLZ){data_val=LZString.compressToBase64(JSON.stringify({}));}else{data_val=JSON.stringify({});}}else{if(useLZ){data_val=LZString.compressToBase64(JSON.stringify(obj));}else{data_val=JSON.stringify(obj);}}
if(DIGIOH_VENDOR_SHORT_ID=='42662')
sessionStorage.setItem('xdibx',data_val);else
localStorage.setItem('xdibx',data_val);},get:function(callback){var val=localStorage.getItem('xdibx');if(DIGIOH_VENDOR_SHORT_ID=='42662')
val=sessionStorage.getItem('xdibx');if(typeof val!=='string'){val='';}
return val;},erase:function(){if(DIGIOH_VENDOR_SHORT_ID=='42662')
sessionStorage.removeItem('xdibx');else
localStorage.removeItem('xdibx');},setManual:function(key,value){try{var data_val='';var useLZ=(typeof USE_LZ==='undefined'||USE_LZ==true);if(typeof value==='undefined'||value===null){if(useLZ){data_val=LZString.compressToBase64('');}else{data_val='';}}else if(typeof value==='object'){if(useLZ){data_val=LZString.compressToBase64(JSON.stringify(value));}else{data_val=JSON.stringify(value);}}else{if(useLZ){data_val=LZString.compressToBase64(value.toString());}else{data_val=value.toString();}}
if(DIGIOH_VENDOR_SHORT_ID=='42662')
sessionStorage.setItem(key,data_val);else
localStorage.setItem(key,data_val);}catch(e){return false;}},getManual:function(key){try{var value=localStorage.getItem(key);if(DIGIOH_VENDOR_SHORT_ID=='42662')
value=sessionStorage.getItem(key);var data_val='';var useLZ=(typeof USE_LZ==='undefined'||USE_LZ==true);if(typeof value==='undefined'||value===null){data_val='';}else if(typeof value==='string'){if(useLZ){value=LZString.decompressFromBase64(value);}
if((value.indexOf('{')===0&&value.substring(value.length-1)==='}')||(value.indexOf('[')===0&&value.substring(value.length-1)===']')){data_val=JSON.parse(value);}else{data_val=value;}}
return data_val;}catch(e){return '';}},isAvailable:function(){var t='tst';try{if(DIGIOH_VENDOR_SHORT_ID=='42662'){sessionStorage.setItem(t,t);sessionStorage.removeItem(t);}
else{localStorage.setItem(t,t);localStorage.removeItem(t);}
return true;}catch(e){return false;}}};var DIGIOH_CROSS_DOMAIN={isWorking:false,isWorkingFinished:false,callbacks:{},set:function(value){var data_val='';var useLZ=(typeof USE_LZ==='undefined'||USE_LZ==true);if(typeof value!=='object'||value===null){if(useLZ){data_val=LZString.compressToBase64(JSON.stringify({}));}else{data_val=JSON.stringify({});}}else{if(useLZ){data_val=LZString.compressToBase64(JSON.stringify(value));}else{data_val=JSON.stringify(value);}}
var obj={operation:"set",value:data_val,vid:DIGIOH_VENDOR_GUID};window.parent.frames['DigiohLocalStorageIframe'].postMessage(JSON.stringify(obj),'https://'+DIGIOH_API.CONFIG.CDN_DOMAIN);},get:function(callback){var identifier=new Date().getTime();var obj={operation:"get",identifier:identifier,vid:DIGIOH_VENDOR_GUID};DIGIOH_CROSS_DOMAIN.callbacks[identifier]=callback;window.parent.frames['DigiohLocalStorageIframe'].postMessage(JSON.stringify(obj),'https://'+DIGIOH_API.CONFIG.CDN_DOMAIN);},erase:function(){var obj={operation:"erase",vid:DIGIOH_VENDOR_GUID};window.parent.frames['DigiohLocalStorageIframe'].postMessage(JSON.stringify(obj),'https://'+DIGIOH_API.CONFIG.CDN_DOMAIN);},setInner:function(key,value){var data_type='';var data_val='';var useLZ=(typeof USE_LZ==='undefined'||USE_LZ==true);if(typeof value==='undefined'||value===null){data_type='string';if(useLZ){data_val=LZString.compressToBase64('');}else{data_val='';}}else if(typeof value==='object'){data_type='object';if(useLZ){data_val=LZString.compressToBase64(JSON.stringify(value));}else{data_val=JSON.stringify(value);}}else{data_type=(typeof value);if(useLZ){data_val=LZString.compressToBase64(value.toString());}else{data_val=value.toString();}}
var obj={operation:"set_inner",key:key,value:data_val,type:data_type,vid:DIGIOH_VENDOR_GUID};window.parent.frames['DigiohLocalStorageIframe'].postMessage(JSON.stringify(obj),'https://'+DIGIOH_API.CONFIG.CDN_DOMAIN);},getInner:function(key,callback){var identifier=new Date().getTime();var obj={operation:"get_inner",key:key,identifier:identifier,vid:DIGIOH_VENDOR_GUID};DIGIOH_CROSS_DOMAIN.callbacks[identifier]=callback;window.parent.frames['DigiohLocalStorageIframe'].postMessage(JSON.stringify(obj),'https://'+DIGIOH_API.CONFIG.CDN_DOMAIN);},eraseInner:function(key){var obj={operation:"erase_inner",key:key,vid:DIGIOH_VENDOR_GUID};window.parent.frames['DigiohLocalStorageIframe'].postMessage(JSON.stringify(obj),'https://'+DIGIOH_API.CONFIG.CDN_DOMAIN);},setManual:function(key,value){var data_val='';var useLZ=(typeof USE_LZ==='undefined'||USE_LZ==true);if(typeof value==='undefined'||value===null){if(useLZ){data_val=LZString.compressToBase64('');}else{data_val='';}}else if(typeof value==='object'){if(useLZ){data_val=LZString.compressToBase64(JSON.stringify(value));}else{data_val=JSON.stringify(value);}}else{if(useLZ){data_val=LZString.compressToBase64(value.toString());}else{data_val=value.toString();}}
var obj={operation:"set_manual",key:key,value:data_val,vid:DIGIOH_VENDOR_GUID};window.parent.frames['DigiohLocalStorageIframe'].postMessage(JSON.stringify(obj),'https://'+DIGIOH_API.CONFIG.CDN_DOMAIN);},getManual:function(key,callback){var identifier=new Date().getTime();var obj={operation:"get_manual",key:key,identifier:identifier,vid:DIGIOH_VENDOR_GUID};DIGIOH_CROSS_DOMAIN.callbacks[identifier]=callback;window.parent.frames['DigiohLocalStorageIframe'].postMessage(JSON.stringify(obj),'https://'+DIGIOH_API.CONFIG.CDN_DOMAIN);},eraseManual:function(key){var obj={operation:"erase_manual",key:key,vid:DIGIOH_VENDOR_GUID};window.parent.frames['DigiohLocalStorageIframe'].postMessage(JSON.stringify(obj),'https://'+DIGIOH_API.CONFIG.CDN_DOMAIN);}};var DIGIOH_COOKIE={set:function(name,value,days){DIGIOH_COOKIE.trySet(name,value,true,days);},setDecoded:function(name,value,days){DIGIOH_COOKIE.trySet(name,value,false,days);},trySet:function(name,value,encode,days,cookie_domain_override){var domain,domainParts,date,expires,host;var useLZ=(typeof USE_LZ==='undefined'||USE_LZ==true);var enc='';if(value){if(encode&&useLZ){enc=LZString.compressToBase64(value);}else{enc=value;}}
if(typeof days==='undefined'){days=3650;}
date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();host=location.hostname;if(cookie_domain_override){window.parent.document.cookie=name+"="+enc+expires+"; path=/; domain="+cookie_domain_override;}
else if(host.split('.').length===1){window.parent.document.cookie=name+"="+enc+expires+"; path=/";}
else if(DIGIOH_VENDOR_GUID=='5fb5fbce-1665-4cb1-a778-84825f66a775'&&host.indexOf('golfchannel.com')>=0){window.parent.document.cookie=name+"="+enc+expires+"; path=/; domain=.golfchannel.com";}
else{domainParts=host.split('.').reverse();var wasWritten=false;var idx=1;var cv='';while(!wasWritten&&idx<domainParts.length){domain="";for(var i=idx;i>=0;i--){domain+='.'+domainParts[i];}
window.parent.document.cookie=name+"="+enc+expires+"; path=/; domain="+domain+"; SameSite=Lax";cv=DIGIOH_COOKIE.getEncoded(name);wasWritten=(cv!=null&&cv==enc);idx++;if(!wasWritten){}}}},get:function(name,is_plain_text){var enc=DIGIOH_COOKIE.getEncoded(name);var useLZ=(typeof USE_LZ==='undefined'||USE_LZ==true);if(enc!==null&&typeof enc!=='undefined'){if(is_plain_text||!useLZ){return enc;}else{return LZString.decompressFromBase64(enc);}}
return null;},getEncoded:function(name){var nameEQ=name+"=";var ca=window.parent.document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);}
return null;},erase:function(name){DIGIOH_COOKIE.setDecoded(name,'hi',-1);},eraseWithoutDomain:function(name){var date=new Date();date.setTime(date.getTime()+(-1*24*60*60*1000));var expires="; expires="+date.toGMTString();window.parent.document.cookie=name+"="+'hi'+expires+"; path=/";},eraseWithSpecificDomain:function(name,domain){var date=new Date();date.setTime(date.getTime()+(-1*24*60*60*1000));var expires="; expires="+date.toGMTString();window.parent.document.cookie=name+"="+'hi'+expires+"; path=/; domain="+domain;}};if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');};}
var DIGIOH_IS_ANALYTICS_IDENTIFY_DONE={geo:false,device:false};(function(window,document,$,undefined){var H=$("html"),W=$(window),D=$(document),F=$.fb_lightbox=function(){F.open.apply(this,arguments)},IE=navigator.userAgent.match(/msie/i),didUpdate=null,isTouch=document.createTouch!==undefined,isQuery=function(obj){return obj&&obj.hasOwnProperty&&obj instanceof $},isString=function(str){return str&&$.type(str)==="string"},isPercentage=function(str){return isString(str)&&str.indexOf("%")>0},isScrollable=function(el){return(el&&!(el.style.overflow&&el.style.overflow==="hidden")&&((el.clientWidth&&el.scrollWidth>el.clientWidth)||(el.clientHeight&&el.scrollHeight>el.clientHeight)))},getScalar=function(orig,dim){var value=parseInt(orig,10)||0;if(dim&&isPercentage(orig)){value=F.getViewport()[dim]/100*value}return Math.ceil(value)},getValue=function(value,dim){return getScalar(value,dim)+"px"};$.extend(F,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!isTouch,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fb_lightbox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fb_lightbox-wrap" tabIndex="-1"><div class="fb_lightbox-skin"><div class="fb_lightbox-outer"><div class="fb_lightbox-inner"></div></div></div></div>',image:'<img class="fb_lightbox-image" src="{href}" alt="" />',iframe:'<iframe id="fb_lightbox-frame{rnd}" name="fb_lightbox-frame{rnd}" class="fb_lightbox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(IE?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fb_lightbox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fb_lightbox-item fb_lightbox-close" href="javascript:;"></a>',next:'<a title="Next" class="fb_lightbox-nav fb_lightbox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fb_lightbox-nav fb_lightbox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:$.noop,beforeLoad:$.noop,afterLoad:$.noop,beforeShow:$.noop,afterShow:$.noop,beforeChange:$.noop,beforeClose:$.noop,afterClose:$.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(group,opts){if(!group){return}if(!$.isPlainObject(opts)){opts={}}if(false===F.close(true)){return}if(!$.isArray(group)){group=isQuery(group)?$(group).get():[group]}$.each(group,function(i,element){var obj={},href,title,content,type,rez,hrefParts,selector;if($.type(element)==="object"){if(element.nodeType){element=$(element)}if(isQuery(element)){obj={href:element.data("fb_lightbox-href")||element.attr("href"),title:element.data("fb_lightbox-title")||element.attr("title"),isDom:true,element:element};if($.metadata){$.extend(true,obj,element.metadata())}}else{obj=element}}href=opts.href||obj.href||(isString(element)?element:null);title=opts.title!==undefined?opts.title:obj.title||"";content=opts.content||obj.content;type=content?"html":(opts.type||obj.type);if(!type&&obj.isDom){type=element.data("fb_lightbox-type");if(!type){rez=element.prop("class").match(/fb_lightbox\.(\w+)/);type=rez?rez[1]:null}}if(isString(href)){if(!type){if(F.isImage(href)){type="image"}else{if(F.isSWF(href)){type="swf"}else{if(href.charAt(0)==="#"){type="inline"}else{if(isString(element)){type="html";content=element}}}}}if(type==="ajax"){hrefParts=href.split(/\s+/,2);href=hrefParts.shift();selector=hrefParts.shift()}}if(!content){if(type==="inline"){if(href){content=$(isString(href)?href.replace(/.*(?=#[^\s]+$)/,""):href)}else{if(obj.isDom){content=element}}}else{if(type==="html"){content=href}else{if(!type&&!href&&obj.isDom){type="inline";content=element}}}}$.extend(obj,{href:href,type:type,content:content,title:title,selector:selector});group[i]=obj});F.opts=$.extend(true,{},F.defaults,opts);if(opts.keys!==undefined){F.opts.keys=opts.keys?$.extend({},F.defaults.keys,opts.keys):false}F.group=group;return F._start(F.opts.index)},cancel:function(){var coming=F.coming;if(!coming||false===F.trigger("onCancel")){return}F.hideLoading();if(F.ajaxLoad){F.ajaxLoad.abort()}F.ajaxLoad=null;if(F.imgPreload){F.imgPreload.onload=F.imgPreload.onerror=null}if(coming.wrap){coming.wrap.stop(true,true).trigger("onReset").remove()}F.coming=null;if(!F.current){F._afterZoomOut(coming)}},close:function(event){F.cancel();if(false===F.trigger("beforeClose")){return}F.unbindEvents();if(!F.isActive){return}if(!F.isOpen||event===true){$(".fb_lightbox-wrap").stop(true).trigger("onReset").remove();F._afterZoomOut()}else{F.isOpen=F.isOpened=false;F.isClosing=true;$(".fb_lightbox-item, .fb_lightbox-nav").remove();F.wrap.stop(true,true).removeClass("fb_lightbox-opened");F.transitions[F.current.closeMethod]()}},play:function(action){var clear=function(){clearTimeout(F.player.timer)},set=function(){clear();if(F.current&&F.player.isActive){F.player.timer=setTimeout(F.next,F.current.playSpeed)}},stop=function(){clear();D.unbind(".player");F.player.isActive=false;F.trigger("onPlayEnd")},start=function(){if(F.current&&(F.current.loop||F.current.index<F.group.length-1)){F.player.isActive=true;D.bind({"onCancel.player beforeClose.player":stop,"onUpdate.player":set,"beforeLoad.player":clear});set();F.trigger("onPlayStart")}};if(action===true||(!F.player.isActive&&action!==false)){start()}else{stop()}},next:function(direction){var current=F.current;if(current){if(!isString(direction)){direction=current.direction.next}F.jumpto(current.index+1,direction,"next")}},prev:function(direction){var current=F.current;if(current){if(!isString(direction)){direction=current.direction.prev}F.jumpto(current.index-1,direction,"prev")}},jumpto:function(index,direction,router){var current=F.current;if(!current){return}index=getScalar(index);F.direction=direction||current.direction[(index>=current.index?"next":"prev")];F.router=router||"jumpto";if(current.loop){if(index<0){index=current.group.length+(index%current.group.length)}index=index%current.group.length}if(current.group[index]!==undefined){F.cancel();F._start(index)}},reposition:function(e,onlyAbsolute){var current=F.current,wrap=current?current.wrap:null,pos;if(wrap){pos=F._getPosition(onlyAbsolute);if(e&&e.type==="scroll"){delete pos.position;wrap.stop(true,true).animate(pos,200)}else{wrap.css(pos);current.pos=$.extend({},current.dim,pos)}}},update:function(e){var type=(e&&e.type),anyway=!type||type==="orientationchange";if(anyway){clearTimeout(didUpdate);didUpdate=null}if(!F.isOpen||didUpdate){return}didUpdate=setTimeout(function(){var current=F.current;if(!current||F.isClosing){return}F.wrap.removeClass("fb_lightbox-tmp");if(anyway||type==="load"||(type==="resize"&&current.autoResize)){F._setDimension()}if(!(type==="scroll"&&current.canShrink)){F.reposition(e)}F.trigger("onUpdate");didUpdate=null},(anyway&&!isTouch?0:300))},toggle:function(action){if(F.isOpen){F.current.fitToView=$.type(action)==="boolean"?action:!F.current.fitToView;if(isTouch){F.wrap.removeAttr("style").addClass("fb_lightbox-tmp");F.trigger("onUpdate")}F.update()}},hideLoading:function(){D.unbind(".loading");$("#fb_lightbox-loading").remove()},showLoading:function(){var el,viewport;F.hideLoading();el=$('<div id="fb_lightbox-loading"><div></div></div>').click(F.cancel).appendTo("body");D.bind("keydown.loading",function(e){if((e.which||e.keyCode)===27){e.preventDefault();F.cancel()}});if(!F.defaults.fixed){viewport=F.getViewport();el.css({position:"absolute",top:(viewport.h*0.5)+viewport.y,left:(viewport.w*0.5)+viewport.x})}},getViewport:function(){var locked=(F.current&&F.current.locked)||false,rez={x:W.scrollLeft(),y:W.scrollTop()};if(locked){rez.w=locked[0].clientWidth;rez.h=locked[0].clientHeight}else{rez.w=isTouch&&window.innerWidth?window.innerWidth:W.width();rez.h=isTouch&&window.innerHeight?window.innerHeight:W.height()}return rez},unbindEvents:function(){if(F.wrap&&isQuery(F.wrap)){F.wrap.unbind(".fb")}D.unbind(".fb");W.unbind(".fb")},bindEvents:function(){var current=F.current,keys;if(!current){return}W.bind("orientationchange.fb"+(isTouch?"":" resize.fb")+(current.autoCenter&&!current.locked?" scroll.fb":""),F.update);keys=current.keys;if(keys){D.bind("keydown.fb",function(e){var code=e.which||e.keyCode,target=e.target||e.srcElement;if(code===27&&F.coming){return false}if(!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.metaKey&&!(target&&(target.type||$(target).is("[contenteditable]")))){$.each(keys,function(i,val){if(current.group.length>1&&val[code]!==undefined){F[i](val[code]);e.preventDefault();return false}if($.inArray(code,val)>-1){F[i]();e.preventDefault();return false}})}})}if($.fn.mousewheel&&current.mouseWheel){F.wrap.bind("mousewheel.fb",function(e,delta,deltaX,deltaY){var target=e.target||null,parent=$(target),canScroll=false;while(parent.length){if(canScroll||parent.is(".fb_lightbox-skin")||parent.is(".fb_lightbox-wrap")){break}canScroll=isScrollable(parent[0]);parent=$(parent).parent()}if(delta!==0&&!canScroll){if(F.group.length>1&&!current.canShrink){if(deltaY>0||deltaX>0){F.prev(deltaY>0?"down":"left")}else{if(deltaY<0||deltaX<0){F.next(deltaY<0?"up":"right")}}e.preventDefault()}}})}},trigger:function(event,o){var ret,obj=o||F.coming||F.current;if(!obj){return}if($.isFunction(obj[event])){ret=obj[event].apply(obj,Array.prototype.slice.call(arguments,1))}if(ret===false){return false}if(obj.helpers){$.each(obj.helpers,function(helper,opts){if(opts&&F.helpers[helper]&&$.isFunction(F.helpers[helper][event])){F.helpers[helper][event]($.extend(true,{},F.helpers[helper].defaults,opts),obj)}})}D.trigger(event)},isImage:function(str){return isString(str)&&str.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(str){return isString(str)&&str.match(/\.(swf)((\?|#).*)?$/i)},_start:function(index){var coming={},obj,href,type,margin,padding;index=getScalar(index);obj=F.group[index]||null;if(!obj){return false}coming=$.extend(true,{},F.opts,obj);margin=coming.margin;padding=coming.padding;if($.type(margin)==="number"){coming.margin=[margin,margin,margin,margin]}if($.type(padding)==="number"){coming.padding=[padding,padding,padding,padding]}if(coming.modal){$.extend(true,coming,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}})}if(coming.autoSize){coming.autoWidth=coming.autoHeight=true}if(coming.width==="auto"){coming.autoWidth=true}if(coming.height==="auto"){coming.autoHeight=true}coming.group=F.group;coming.index=index;F.coming=coming;if(false===F.trigger("beforeLoad")){F.coming=null;return}type=coming.type;href=coming.href;if(!type){F.coming=null;if(F.current&&F.router&&F.router!=="jumpto"){F.current.index=index;return F[F.router](F.direction)}return false}F.isActive=true;if(type==="image"||type==="swf"){coming.autoHeight=coming.autoWidth=false;coming.scrolling="visible"}if(type==="image"){coming.aspectRatio=true}if(type==="iframe"&&isTouch){coming.scrolling="scroll"}coming.wrap=$(coming.tpl.wrap).addClass("fb_lightbox-"+(isTouch?"mobile":"desktop")+" fb_lightbox-type-"+type+" fb_lightbox-tmp "+coming.wrapCSS).appendTo(coming.parent||"body");$.extend(coming,{skin:$(".fb_lightbox-skin",coming.wrap),outer:$(".fb_lightbox-outer",coming.wrap),inner:$(".fb_lightbox-inner",coming.wrap)});$.each(["Top","Right","Bottom","Left"],function(i,v){coming.skin.css("padding"+v,getValue(coming.padding[i]))});F.trigger("onReady");if(type==="inline"||type==="html"){if(!coming.content||!coming.content.length){return F._error("content")}}else{if(!href){return F._error("href")}}if(type==="image"){F._loadImage()}else{if(type==="ajax"){F._loadAjax()}else{if(type==="iframe"){F._loadIframe()}else{F._afterLoad()}}}},_error:function(type){$.extend(F.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:type,content:F.coming.tpl.error});F._afterLoad()},_loadImage:function(){var img=F.imgPreload=new Image();img.onload=function(){this.onload=this.onerror=null;F.coming.width=this.width/F.opts.pixelRatio;F.coming.height=this.height/F.opts.pixelRatio;F._afterLoad()};img.onerror=function(){this.onload=this.onerror=null;F._error("image")};img.src=F.coming.href;if(img.complete!==true){F.showLoading()}},_loadAjax:function(){var coming=F.coming;F.showLoading();F.ajaxLoad=$.ajax($.extend({},coming.ajax,{url:coming.href,error:function(jqXHR,textStatus){if(F.coming&&textStatus!=="abort"){F._error("ajax",jqXHR)}else{F.hideLoading()}},success:function(data,textStatus){if(textStatus==="success"){coming.content=data;F._afterLoad()}}}))},_loadIframe:function(){var coming=F.coming,iframe=$(coming.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",isTouch?"auto":coming.iframe.scrolling).attr("src",coming.href);$(coming.wrap).bind("onReset",function(){try{$(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}});if(coming.iframe.preload){F.showLoading();iframe.one("load",function(){$(this).data("ready",1);if(!isTouch){$(this).bind("load.fb",F.update)}$(this).parents(".fb_lightbox-wrap").width("100%").removeClass("fb_lightbox-tmp").show();F._afterLoad()})}coming.content=iframe.appendTo(coming.inner);if(!coming.iframe.preload){F._afterLoad()}},_preloadImages:function(){var group=F.group,current=F.current,len=group.length,cnt=current.preload?Math.min(current.preload,len-1):0,item,i;for(i=1;i<=cnt;i+=1){item=group[(current.index+i)%len];if(item.type==="image"&&item.href){new Image().src=item.href}}},_afterLoad:function(){var coming=F.coming,previous=F.current,placeholder="fb_lightbox-placeholder",current,content,type,scrolling,href,embed;F.hideLoading();if(!coming||F.isActive===false){return}if(false===F.trigger("afterLoad",coming,previous)){coming.wrap.stop(true).trigger("onReset").remove();F.coming=null;return}if(previous){F.trigger("beforeChange",previous);previous.wrap.stop(true).removeClass("fb_lightbox-opened").find(".fb_lightbox-item, .fb_lightbox-nav").remove()}F.unbindEvents();current=coming;content=coming.content;type=coming.type;scrolling=coming.scrolling;$.extend(F,{wrap:current.wrap,skin:current.skin,outer:current.outer,inner:current.inner,current:current,previous:previous});href=current.href;switch(type){case "inline":case "ajax":case "html":if(current.selector){content=$("<div>").html(content).find(current.selector)}else{if(isQuery(content)){if(!content.data(placeholder)){content.data(placeholder,$('<div class="'+placeholder+'"></div>').insertAfter(content).hide())}content=content.show().detach();current.wrap.bind("onReset",function(){if($(this).find(content).length){content.hide().replaceAll(content.data(placeholder)).data(placeholder,false)}})}}break;case "image":content=current.tpl.image.replace("{href}",href);break;case "swf":content='<object id="fb_lightbox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+href+'"></param>';embed="";$.each(current.swf,function(name,val){content+='<param name="'+name+'" value="'+val+'"></param>';embed+=" "+name+'="'+val+'"'});content+='<embed src="'+href+'" type="application/x-shockwave-flash" width="100%" height="100%"'+embed+"></embed></object>";break}if(!(isQuery(content)&&content.parent().is(current.inner))){current.inner.append(content)}F.trigger("beforeShow");current.inner.css("overflow",scrolling==="yes"?"scroll":(scrolling==="no"?"hidden":scrolling));F._setDimension();F.reposition();F.isOpen=false;F.coming=null;F.bindEvents();if(!F.isOpened){$(".fb_lightbox-wrap").not(current.wrap).stop(true).trigger("onReset").remove()}else{if(previous.prevMethod){F.transitions[previous.prevMethod]()}}F.transitions[F.isOpened?current.nextMethod:current.openMethod]();F._preloadImages()},_setDimension:function(){var viewport=F.getViewport(),steps=0,canShrink=false,canExpand=false,wrap=F.wrap,skin=F.skin,inner=F.inner,current=F.current,width=current.width,height=current.height,minWidth=current.minWidth,minHeight=current.minHeight,maxWidth=current.maxWidth,maxHeight=current.maxHeight,scrolling=current.scrolling,scrollOut=current.scrollOutside?current.scrollbarWidth:0,margin=current.margin,wMargin=getScalar(margin[1]+margin[3]),hMargin=getScalar(margin[0]+margin[2]),wPadding,hPadding,wSpace,hSpace,origWidth,origHeight,origMaxWidth,origMaxHeight,ratio,width_,height_,maxWidth_,maxHeight_,iframe,body;wrap.add(skin).add(inner).width("auto").height("auto").removeClass("fb_lightbox-tmp");wPadding=getScalar(skin.outerWidth(true)-skin.width());hPadding=getScalar(skin.outerHeight(true)-skin.height());wSpace=wMargin+wPadding;hSpace=hMargin+hPadding;origWidth=isPercentage(width)?(viewport.w-wSpace)*getScalar(width)/100:width;origHeight=isPercentage(height)?(viewport.h-hSpace)*getScalar(height)/100:height;if(current.type==="iframe"){iframe=current.content;if(current.autoHeight&&iframe.data("ready")===1){try{if(iframe[0].contentWindow.document.location){inner.width(origWidth).height(9999);body=iframe.contents().find("body");if(scrollOut){body.css("overflow-x","hidden")}origHeight=body.outerHeight(true)}}catch(e){}}}else{if(current.autoWidth||current.autoHeight){inner.addClass("fb_lightbox-tmp");if(!current.autoWidth){inner.width(origWidth)}if(!current.autoHeight){inner.height(origHeight)}if(current.autoWidth){origWidth=inner.width()}if(current.autoHeight){origHeight=inner.height()}inner.removeClass("fb_lightbox-tmp")}}width=getScalar(origWidth);height=getScalar(origHeight);ratio=origWidth/origHeight;minWidth=getScalar(isPercentage(minWidth)?getScalar(minWidth,"w")-wSpace:minWidth);maxWidth=getScalar(isPercentage(maxWidth)?getScalar(maxWidth,"w")-wSpace:maxWidth);minHeight=getScalar(isPercentage(minHeight)?getScalar(minHeight,"h")-hSpace:minHeight);maxHeight=getScalar(isPercentage(maxHeight)?getScalar(maxHeight,"h")-hSpace:maxHeight);origMaxWidth=maxWidth;origMaxHeight=maxHeight;if(current.fitToView){maxWidth=Math.min(viewport.w-wSpace,maxWidth);maxHeight=Math.min(viewport.h-hSpace,maxHeight)}maxWidth_=viewport.w-wMargin;maxHeight_=viewport.h-hMargin;if(current.aspectRatio){if(width>maxWidth){width=maxWidth;height=getScalar(width/ratio)}if(height>maxHeight){height=maxHeight;width=getScalar(height*ratio)}if(width<minWidth){width=minWidth;height=getScalar(width/ratio)}if(height<minHeight){height=minHeight;width=getScalar(height*ratio)}}else{width=Math.max(minWidth,Math.min(width,maxWidth));if(current.autoHeight&&current.type!=="iframe"){inner.width(width);height=inner.height()}height=Math.max(minHeight,Math.min(height,maxHeight))}if(current.fitToView){inner.width(width).height(height);wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height();if(current.aspectRatio){while((width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight){if(steps++>19){break}height=Math.max(minHeight,Math.min(maxHeight,height-10));width=getScalar(height*ratio);if(width<minWidth){width=minWidth;height=getScalar(width/ratio)}if(width>maxWidth){width=maxWidth;height=getScalar(width/ratio)}inner.width(width).height(height);wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height()}}else{width=Math.max(minWidth,Math.min(width,width-(width_-maxWidth_)));height=Math.max(minHeight,Math.min(height,height-(height_-maxHeight_)))}}if(scrollOut&&scrolling==="auto"&&height<origHeight&&(width+wPadding+scrollOut)<maxWidth_){width+=scrollOut}inner.width(width).height(height);wrap.width(width+wPadding);width_=wrap.width();height_=wrap.height();canShrink=(width_>maxWidth_||height_>maxHeight_)&&width>minWidth&&height>minHeight;canExpand=current.aspectRatio?(width<origMaxWidth&&height<origMaxHeight&&width<origWidth&&height<origHeight):((width<origMaxWidth||height<origMaxHeight)&&(width<origWidth||height<origHeight));$.extend(current,{dim:{width:getValue(width_),height:getValue(height_)},origWidth:origWidth,origHeight:origHeight,canShrink:canShrink,canExpand:canExpand,wPadding:wPadding,hPadding:hPadding,wrapSpace:height_-skin.outerHeight(true),skinSpace:skin.height()-height});if(!iframe&&current.autoHeight&&height>minHeight&&height<maxHeight&&!canExpand){inner.height("auto")}},_getPosition:function(onlyAbsolute){var current=F.current,viewport=F.getViewport(),margin=current.margin,width=F.wrap.width()+margin[1]+margin[3],height=F.wrap.height()+margin[0]+margin[2],rez={position:"absolute",top:margin[0],left:margin[3]};if(current.autoCenter&&current.fixed&&!onlyAbsolute&&height<=viewport.h&&width<=viewport.w){rez.position="fixed"}else{if(!current.locked){rez.top+=viewport.y;rez.left+=viewport.x}}rez.top=getValue(Math.max(rez.top,rez.top+((viewport.h-height)*current.topRatio)));rez.left=getValue(Math.max(rez.left,rez.left+((viewport.w-width)*current.leftRatio)));return rez},_afterZoomIn:function(){var current=F.current;if(!current){return}F.isOpen=F.isOpened=true;F.wrap.css("overflow","visible").addClass("fb_lightbox-opened");F.update();if(current.closeClick||(current.nextClick&&F.group.length>1)){F.inner.css("cursor","pointer").bind("click.fb",function(e){if(!$(e.target).is("a")&&!$(e.target).parent().is("a")){e.preventDefault();F[current.closeClick?"close":"next"]()}})}if(current.closeBtn){$(current.tpl.closeBtn).appendTo(F.skin).bind("click.fb",function(e){e.preventDefault();F.close()})}if(current.arrows&&F.group.length>1){if(current.loop||current.index>0){$(current.tpl.prev).appendTo(F.outer).bind("click.fb",F.prev)}if(current.loop||current.index<F.group.length-1){$(current.tpl.next).appendTo(F.outer).bind("click.fb",F.next)}}F.trigger("afterShow");if(!current.loop&&current.index===current.group.length-1){F.play(false)}else{if(F.opts.autoPlay&&!F.player.isActive){F.opts.autoPlay=false;F.play()}}},_afterZoomOut:function(obj){obj=obj||F.current;$(".fb_lightbox-wrap").trigger("onReset").remove();$.extend(F,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});F.trigger("afterClose",obj)}});F.transitions={getOrigPosition:function(){var current=F.current,element=current.element,orig=current.orig,pos={},width=50,height=50,hPadding=current.hPadding,wPadding=current.wPadding,viewport=F.getViewport();if(!orig&&current.isDom&&element.is(":visible")){orig=element.find("img:first");if(!orig.length){orig=element}}if(isQuery(orig)){pos=orig.offset();if(orig.is("img")){width=orig.outerWidth();height=orig.outerHeight()}}else{pos.top=viewport.y+(viewport.h-height)*current.topRatio;pos.left=viewport.x+(viewport.w-width)*current.leftRatio}if(F.wrap.css("position")==="fixed"||current.locked){pos.top-=viewport.y;pos.left-=viewport.x}pos={top:getValue(pos.top-hPadding*current.topRatio),left:getValue(pos.left-wPadding*current.leftRatio),width:getValue(width+wPadding),height:getValue(height+hPadding)};return pos},step:function(now,fx){var ratio,padding,value,prop=fx.prop,current=F.current,wrapSpace=current.wrapSpace,skinSpace=current.skinSpace;if(prop==="width"||prop==="height"){ratio=fx.end===fx.start?1:(now-fx.start)/(fx.end-fx.start);if(F.isClosing){ratio=1-ratio}padding=prop==="width"?current.wPadding:current.hPadding;value=now-padding;F.skin[prop](getScalar(prop==="width"?value:value-(wrapSpace*ratio)));F.inner[prop](getScalar(prop==="width"?value:value-(wrapSpace*ratio)-(skinSpace*ratio)))}},zoomIn:function(){var current=F.current,startPos=current.pos,effect=current.openEffect,elastic=effect==="elastic",endPos=$.extend({opacity:1},startPos);delete endPos.position;if(elastic){startPos=this.getOrigPosition();if(current.openOpacity){startPos.opacity=0.1}}else{if(effect==="fade"){startPos.opacity=0.1}}F.wrap.css(startPos).animate(endPos,{duration:effect==="none"?0:current.openSpeed,easing:current.openEasing,step:elastic?this.step:null,complete:F._afterZoomIn})},zoomOut:function(){var current=F.current,effect=current.closeEffect,elastic=effect==="elastic",endPos={opacity:0.1};if(elastic){endPos=this.getOrigPosition();if(current.closeOpacity){endPos.opacity=0.1}}F.wrap.animate(endPos,{duration:effect==="none"?0:current.closeSpeed,easing:current.closeEasing,step:elastic?this.step:null,complete:F._afterZoomOut})},changeIn:function(){var current=F.current,effect=current.nextEffect,startPos=current.pos,endPos={opacity:1},direction=F.direction,distance=200,field;startPos.opacity=0.1;if(effect==="elastic"){field=direction==="down"||direction==="up"?"top":"left";if(direction==="down"||direction==="right"){startPos[field]=getValue(getScalar(startPos[field])-distance);endPos[field]="+="+distance+"px"}else{startPos[field]=getValue(getScalar(startPos[field])+distance);endPos[field]="-="+distance+"px"}}if(effect==="none"){F._afterZoomIn()}else{F.wrap.css(startPos).animate(endPos,{duration:current.nextSpeed,easing:current.nextEasing,complete:F._afterZoomIn})}},changeOut:function(){var previous=F.previous,effect=previous.prevEffect,endPos={opacity:0.1},direction=F.direction,distance=200;if(effect==="elastic"){endPos[direction==="down"||direction==="up"?"top":"left"]=(direction==="up"||direction==="left"?"-":"+")+"="+distance+"px"}previous.wrap.animate(endPos,{duration:effect==="none"?0:previous.prevSpeed,easing:previous.prevEasing,complete:function(){$(this).trigger("onReset").remove()}})}};F.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!isTouch,fixed:true},overlay:null,fixed:false,el:$("html"),create:function(opts){opts=$.extend({},this.defaults,opts);if(this.overlay){this.close()}this.overlay=$('<div class="fb_lightbox-overlay"></div>').appendTo(F.coming?F.coming.parent:opts.parent);this.fixed=false;if(opts.fixed&&F.defaults.fixed){this.overlay.addClass("fb_lightbox-overlay-fixed");this.fixed=true}},open:function(opts){var that=this;opts=$.extend({},this.defaults,opts);if(this.overlay){this.overlay.unbind(".overlay").width("auto").height("auto")}else{this.create(opts)}if(!this.fixed){W.bind("resize.overlay",$.proxy(this.update,this));this.update()}if(opts.closeClick){this.overlay.bind("click.overlay",function(e){if($(e.target).hasClass("fb_lightbox-overlay")){if(F.isActive){F.close()}else{that.close()}return false}})}this.overlay.css(opts.css).show()},close:function(){var scrollV,scrollH;W.unbind("resize.overlay");if(this.el.hasClass("fb_lightbox-lock")){$(".fb_lightbox-margin").removeClass("fb_lightbox-margin");scrollV=W.scrollTop();scrollH=W.scrollLeft();this.el.removeClass("fb_lightbox-lock");W.scrollTop(scrollV).scrollLeft(scrollH)}$(".fb_lightbox-overlay").remove().hide();$.extend(this,{overlay:null,fixed:false})},update:function(){var width="100%",offsetWidth;this.overlay.width(width).height("100%");if(IE){offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(D.width()>offsetWidth){width=D.width()}}else{if(D.width()>W.width()){width=D.width()}}this.overlay.width(width).height(D.height())},onReady:function(opts,obj){var overlay=this.overlay;$(".fb_lightbox-overlay").stop(true,true);if(!overlay){this.create(opts)}if(opts.locked&&this.fixed&&obj.fixed){if(!overlay){this.margin=D.height()>W.height()?$("html").css("margin-right").replace("px",""):false}obj.locked=this.overlay.append(obj.wrap);obj.fixed=false}if(opts.showEarly===true){this.beforeShow.apply(this,arguments)}},beforeShow:function(opts,obj){var scrollV,scrollH;if(obj.locked){if(this.margin!==false){$("*").filter(function(){return($(this).css("position")==="fixed"&&!$(this).hasClass("fb_lightbox-overlay")&&!$(this).hasClass("fb_lightbox-wrap"))}).addClass("fb_lightbox-margin");this.el.addClass("fb_lightbox-margin")}scrollV=W.scrollTop();scrollH=W.scrollLeft();this.el.addClass("fb_lightbox-lock");W.scrollTop(scrollV).scrollLeft(scrollH)}this.open(opts)},onUpdate:function(){if(!this.fixed){this.update()}},afterClose:function(opts){if(this.overlay&&!F.coming){this.overlay.fadeOut(opts.speedOut,$.proxy(this.close,this))}}};F.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(opts){var current=F.current,text=current.title,type=opts.type,title,target;if($.isFunction(text)){text=text.call(current.element,current)}if(!isString(text)||$.trim(text)===""){return}title=$('<div class="fb_lightbox-title fb_lightbox-title-'+type+'-wrap">'+text+"</div>");switch(type){case "inside":target=F.skin;break;case "outside":target=F.wrap;break;case "over":target=F.inner;break;default:target=F.skin;title.appendTo("body");if(IE){title.width(title.width())}title.wrapInner('<span class="child"></span>');F.current.margin[2]+=Math.abs(getScalar(title.css("margin-bottom")));break}title[(opts.position==="top"?"prependTo":"appendTo")](target)}};$.fn.fb_lightbox=function(options){var index,that=$(this),selector=this.selector||"",run=function(e){var what=$(this).blur(),idx=index,relType,relVal;if(!(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&!what.is(".fb_lightbox-wrap")){relType=options.groupAttr||"data-fb_lightbox-group";relVal=what.attr(relType);if(!relVal){relType="rel";relVal=what.get(0)[relType]}if(relVal&&relVal!==""&&relVal!=="nofollow"){what=selector.length?$(selector):that;what=what.filter("["+relType+'="'+relVal+'"]');idx=what.index(this)}options.index=idx;if(F.open(what,options)!==false){e.preventDefault()}}};options=options||{};index=options.index||0;if(!selector||options.live===false){that.unbind("click.fb-start").bind("click.fb-start",run)}else{D.undelegate(selector,"click.fb-start").delegate(selector+":not('.fb_lightbox-item, .fb_lightbox-nav')","click.fb-start",run)}this.filter("[data-fb_lightbox-start=1]").trigger("click");return this};D.ready(function(){var w1,w2;if($.scrollbarWidth===undefined){$.scrollbarWidth=function(){var parent=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),child=parent.children(),width=child.innerWidth()-child.height(99).innerWidth();parent.remove();return width}}if($.support.fixedPosition===undefined){$.support.fixedPosition=(function(){var elem=$('<div style="position:fixed;top:20px;"></div>').appendTo("body"),fixed=(elem[0].offsetTop===20||elem[0].offsetTop===15);elem.remove();return fixed}())}$.extend(F.defaults,{scrollbarWidth:$.scrollbarWidth(),fixed:$.support.fixedPosition,parent:$("body")});w1=$(window).width();H.addClass("fb_lightbox-lock-test");w2=$(window).width();H.removeClass("fb_lightbox-lock-test");$("<style type='text/css'>.fb_lightbox-margin{margin-right:"+(w2-w1)+"px;}</style>").appendTo("head")})}(window.parent,window.parent.document,JQUERY_DIGIOH));JQUERY_DIGIOH.easing['jswing']=JQUERY_DIGIOH.easing['swing'];JQUERY_DIGIOH.extend(JQUERY_DIGIOH.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return JQUERY_DIGIOH.easing[JQUERY_DIGIOH.easing.def](x,t,b,c,d);},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-JQUERY_DIGIOH.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return JQUERY_DIGIOH.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return JQUERY_DIGIOH.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});(function($,window){function noop(){}
function genericCallback(data){lastValue=[data];}
function callIfDefined(method,object,parameters){return method&&method.apply(object.context||object,parameters);}
function qMarkOrAmp(url){return /\?/.test(url)?"&":"?";}
var
STR_ASYNC="async",STR_CHARSET="charset",STR_EMPTY="",STR_ERROR="error",STR_INSERT_BEFORE="insertBefore",STR_JQUERY_JSONP="_jqjsp",STR_ON="on",STR_ON_CLICK=STR_ON+"click",STR_ON_ERROR=STR_ON+STR_ERROR,STR_ON_LOAD=STR_ON+"load",STR_ON_READY_STATE_CHANGE=STR_ON+"readystatechange",STR_READY_STATE="readyState",STR_REMOVE_CHILD="removeChild",STR_SCRIPT_TAG="<script>",STR_SUCCESS="success",STR_TIMEOUT="timeout",win=window,Deferred=$.Deferred,head=$("head")[0]||document.documentElement,pageCache={},count=0,lastValue,xOptionsDefaults={callback:STR_JQUERY_JSONP,url:location.href},opera=win.opera,oldIE=!!$("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;function jsonp(xOptions){xOptions=$.extend({},xOptionsDefaults,xOptions);var successCallback=xOptions.success,errorCallback=xOptions.error,completeCallback=xOptions.complete,dataFilter=xOptions.dataFilter,callbackParameter=xOptions.callbackParameter,successCallbackName=xOptions.callback,cacheFlag=xOptions.cache,pageCacheFlag=xOptions.pageCache,charset=xOptions.charset,url=xOptions.url,data=xOptions.data,timeout=xOptions.timeout,pageCached,done=0,cleanUp=noop,supportOnload,supportOnreadystatechange,firstChild,script,scriptAfter,timeoutTimer;Deferred&&Deferred(function(defer){defer.done(successCallback).fail(errorCallback);successCallback=defer.resolve;errorCallback=defer.reject;}).promise(xOptions);xOptions.abort=function(){!(done++)&&cleanUp();};if(callIfDefined(xOptions.beforeSend,xOptions,[xOptions])===!1||done){return xOptions;}
url=url||STR_EMPTY;data=data?((typeof data)=="string"?data:$.param(data,xOptions.traditional)):STR_EMPTY;url+=data?(qMarkOrAmp(url)+data):STR_EMPTY;callbackParameter&&(url+=qMarkOrAmp(url)+encodeURIComponent(callbackParameter)+"=?");!cacheFlag&&!pageCacheFlag&&(url+=qMarkOrAmp(url)+"_"+(new Date()).getTime()+"=");url=url.replace(/=\?(&|$)/,"="+successCallbackName+"$1");function notifySuccess(json){if(!(done++)){cleanUp();pageCacheFlag&&(pageCache[url]={s:[json]});dataFilter&&(json=dataFilter.apply(xOptions,[json]));callIfDefined(successCallback,xOptions,[json,STR_SUCCESS,xOptions]);callIfDefined(completeCallback,xOptions,[xOptions,STR_SUCCESS]);}}
function notifyError(type){if(!(done++)){cleanUp();pageCacheFlag&&type!=STR_TIMEOUT&&(pageCache[url]=type);callIfDefined(errorCallback,xOptions,[xOptions,type]);callIfDefined(completeCallback,xOptions,[xOptions,type]);}}
if(pageCacheFlag&&(pageCached=pageCache[url])){pageCached.s?notifySuccess(pageCached.s[0]):notifyError(pageCached);}else{win[successCallbackName]=genericCallback;script=$(STR_SCRIPT_TAG)[0];script.id=STR_JQUERY_JSONP+count++;if(charset){script[STR_CHARSET]=charset;}
opera&&opera.version()<11.60?((scriptAfter=$(STR_SCRIPT_TAG)[0]).text="document.getElementById('"+script.id+"')."+STR_ON_ERROR+"()"):(script[STR_ASYNC]=STR_ASYNC);if(oldIE){script.htmlFor=script.id;script.event=STR_ON_CLICK;}
script[STR_ON_LOAD]=script[STR_ON_ERROR]=script[STR_ON_READY_STATE_CHANGE]=function(result){if(!script[STR_READY_STATE]||!/i/.test(script[STR_READY_STATE])){try{script[STR_ON_CLICK]&&script[STR_ON_CLICK]();}catch(_){}
result=lastValue;lastValue=0;result?notifySuccess(result[0]):notifyError(STR_ERROR);}};script.src=url;cleanUp=function(i){timeoutTimer&&clearTimeout(timeoutTimer);script[STR_ON_READY_STATE_CHANGE]=script[STR_ON_LOAD]=script[STR_ON_ERROR]=null;head[STR_REMOVE_CHILD](script);scriptAfter&&head[STR_REMOVE_CHILD](scriptAfter);};head[STR_INSERT_BEFORE](script,(firstChild=head.firstChild));scriptAfter&&head[STR_INSERT_BEFORE](scriptAfter,firstChild);timeoutTimer=timeout>0&&setTimeout(function(){notifyError(STR_TIMEOUT);},timeout);}
return xOptions;}
jsonp.setup=function(xOptions){$.extend(xOptionsDefaults,xOptions);};$.jsonp=jsonp;})(JQUERY_DIGIOH,window.parent);var DeviceAtlas=DeviceAtlas||{},DeviceAtlas=function(e,d,f,u){var c={apiVersion:"1.4",propsCache:"",cookieName:DeviceAtlas.cookieName||"DAPROPS",cookieExpiryDays:DeviceAtlas.cookieExpiryDays||1,cookieDomain:DeviceAtlas.cookieDomain||null,cookiePath:DeviceAtlas.cookiePath||"/",divStyle:null,ns:{svg:"http://www.w3.org/2000/svg"},cssPrfxs:["Webkit","Moz","O","ms","Khtml"],fncPrfxs:["webkit","moz","o","ms","khtml"],properties:DeviceAtlas.properties||{},getPropertiesAsString:function(){return this.propsCache},getBattery:function(){return"undefined"===typeof this.battery?null:this.battery}},g={},n={"js.accessDom":function(){return!!d.getElementById&&!!d.getElementsByTagName&&!!d.getElementsByName},cookieSupport:function(){return r()},"css.animations":function(){return k("animationName")},"css.columns":function(){return k("columnCount")},"css.transforms":function(){return!!t(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])},"css.transitions":function(){return k("transitionProperty")},deviceAspectRatio:function(){var a;a:{a="2/3 40/71 3/4 16/9 16/10 375/667 9/16 10/16".split(" ");if("undefined"!=typeof e.matchMedia)for(var b in a)if(e.matchMedia("(device-aspect-ratio:"+a[b]+")").matches){a=a[b]+"";break a}a=null}return a},devicePixelRatio:function(){var a=1;try{a=e.devicePixelRatio}catch(b){}return a+""},displayColorDepth:function(){return screen.colorDepth},flashCapable:function(){try{if(f.plugins&&0<f.plugins.length&&f.mimeTypes&&f.mimeTypes["application/x-shockwave-flash"]&&f.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return!0;if("function"==typeof ActiveXObject||"object"==typeof ActiveXObject){var a=["ShockwaveFlash.ShockwaveFlash.7","ShockwaveFlash.ShockwaveFlash.7","ShockwaveFlash.ShockwaveFlash"],b;for(b in a)try{return new ActiveXObject(a[b]),!0}catch(l){}}}catch(l){}return!1},"html.audio":function(){if(!d.createElement)return!1;var a,b=new Boolean;a=d.createElement("audio");try{if(b=!!a.canPlayType)b.ogg=a.canPlayType('audio/ogg; codecs="vorbis"'),b.mp3=a.canPlayType("audio/mpeg;"),b.wav=a.canPlayType('audio/wav; codecs="1"'),b.m4a=a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")}catch(l){}return b.valueOf()},"html.canvas":function(){if(!d.createElement)return!1;var a;a=d.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},"html.inlinesvg":function(){if(!d.createElement)return!1;var a;a=d.createElement("div");a.innerHTML="<svg/>";return(a.firstChild&&a.firstChild.namespaceURI)==c.ns.svg},"html.svg":function(){return!!d.createElementNS&&!!d.createElementNS(c.ns.svg,"svg").createSVGRect},"html.video":function(){if(!d.createElement)return!1;var a,b=new Boolean;a=d.createElement("video");try{if(b=!!a.canPlayType)b.ogg=a.canPlayType('video/ogg; codecs="theora"'),b.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"')||a.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"'),b.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"')}catch(l){}return b.valueOf()},"js.applicationCache":function(){return!!e.applicationCache},"js.deviceMotion":function(){return!!e.DeviceMotionEvent},"js.deviceOrientation":function(){return"js.deviceOrientation"in g?g["js.deviceOrientation"]:!1},"js.geoLocation":function(){return!!f.geolocation},"js.indexedDB":function(){return m(e,"indexedDB")},"js.json":function(){return"object"==typeof JSON&&"function"==typeof JSON.stringify},"js.localStorage":function(){try{return!!localStorage.getItem}catch(a){return!1}},"js.modifyCss":function(){if(!d.createElement)return!1;var a;a=d.createElement("div");if("object"!=typeof a.style||"undefined"==typeof a.style.display)return!1;a.style.display="none";return"none"==a.style.display},"js.modifyDom":function(){if(!d.createElement||!d.appendChild)return!1;var a,b;a=d.createElement("span");b=d.createElement("div");b.appendChild(a);return b==a.parentNode},"js.querySelector":function(){return!!d.querySelector},"js.sessionStorage":function(){try{return!!sessionStorage.getItem}catch(a){return!1}},"js.supportBasicJavaScript":function(){return"function"!=typeof alert||"function"!=typeof confirm||"function"!=typeof setTimeout||"function"!=typeof setInterval?!1:!!d.location&&!!d.forms},"js.supportConsoleLog":function(){return"object"==typeof console&&"function"==typeof console.log},"js.supportEventListener":function(){return!!e.addEventListener},"js.supportEvents":function(){var a={submit:"form",click:"input",change:"input",load:"img",select:"input"},b;for(b in a){var c;c=b;if(d.createElement){var h,e;h=d.createElement(a[b]);c="on"+c;e=c in h;e||(h.setAttribute||(h=d.createElement("div")),h.setAttribute&&h.removeAttribute&&(h.setAttribute(c,""),e="function"==typeof h[c]));c=e}else c=!1;if(!c)return!1}return!0},"js.touchEvents":function(){return"ontouchstart"in e},"js.webGl":function(){return!!e.WebGLRenderingContext},"js.webSockets":function(){return m(e,"WebSocket")},"js.webSqlDatabase":function(){return!!e.openDatabase},"js.webWorkers":function(){return!!e.Worker},"js.xhr":function(){return"function"==typeof XMLHttpRequest||"object"==typeof XMLHttpRequest},orientation:function(){return"undefined"!=typeof e.orientation?e.orientation:null},userMedia:function(){return m(f,"getUserMedia")},"js.battery":function(){if(!("js.battery"in g)){var a=f.battery||f.webkitBattery||f.mozBattery;a&&(c.battery=a)}return!!c.battery}},k=function(a){var b=a.charAt(0).toUpperCase()+a.substr(1);a=(a+" "+c.cssPrfxs.join(b+" ")+b).split(" ");return t(a)},t=function(a){if(!d.createElement)return null;null==c.divStyle&&(c.divStyle=d.createElement("div").style);if("undefined"==typeof c.divStyle)return null;for(var b in a)if("undefined"!=typeof c.divStyle[a[b]])return!0;return!1},m=function(a,b){if(a[b])return!0;for(var d=b.charAt(0).toUpperCase()+b.substr(1),e=-1,f=c.fncPrfxs.length;++e<f;)if(a[c.fncPrfxs[e]+d])return 1<f&&(c.fncPrfxs=[c.fncPrfxs[e]],c.cssPrfxs=[c.cssPrfxs[e]]),!0;return!1},p=function(a,b){var d;-1!=a.indexOf(".")?(d=a.split("."),"undefined"==typeof c[d[0]]&&(c[d[0]]={}),c[d[0]][d[1]]=b):c[a]=b;g[a]=b},r=function(){return"undefined"==typeof f.cookieEnabled&&"string"==typeof d.cookie?!0:!!f.cookieEnabled},q=function(a){if(r()){a=new Date;a.setDate(a.getDate()+
c.cookieExpiryDays);var b="";null!=c.cookieDomain&&(b=";domain="+c.cookieDomain);}};(function(){if(e.addEventListener&&e.removeEventListener){var a=function(b){null!=b&&null!=b.alpha&&(p("js.deviceOrientation",!0),q(g));e.removeEventListener("deviceorientation",a,!1)};e.addEventListener("deviceorientation",a,!1)}})();(function(){("undefined"===typeof c.battery||null==c.battery)&&f.getBattery&&f.getBattery().then(function(a){c.battery=a;p("js.battery",!0);q(g)},function(a){})})();(function(){var a,b;for(b in c.properties)n[b]=c.properties[b];for(b in n)a=n[b](),null!=a&&"undefined"!=typeof a&&p(b,a)})();c.propsCache=function(a){var b="",c,d;for(d in a)c=a[d],c="boolean"==typeof c?"b":"number"==typeof c?"i":"s",b+=c+d+":"+("b"==c?a[d]+0:a[d])+"|";return b.slice(0,-1)}(g);q(g);return c}(window,document,navigator);function DIGIOH_ANALYTICS($,showErrors,vendorGUID,isPreview,baseUrl){this.jQuery=$;this.ShowErrors=showErrors;this.BaseDomain=baseUrl;this.IsNewSession=true;this.IsNewVisitor=true;this.RanSetCurrent=false;this.PageviewStart=(new Date()).getTime();this.SessionStart=0;this.SessionLengthTicks=1800000;this.OverwriteCurrentCookie=false;this.PreviousPageviewTs=0;this.VARS={};this.VARS.VendorGuid=vendorGUID;this.VARS.IsLoaded=false;this.VARS.IsPreview=isPreview;this.VARS.current_page_url="";this.VARS.referring_website_url="";this.VARS.landing_page="";this.VARS.landing_page_ip="";this.VARS.date_of_visit=0;this.VARS.web_source="Direct Traffic";this.VARS.past_visits=0;this.VARS.page_visits=0;this.VARS.page_visits_session=0;this.VARS.pages_navigated="";this.VARS.search_engine="";this.VARS.device="";this.VARS.device_apple="";this.VARS.browser_type="";this.VARS.browser_version="";this.VARS.operating_system="";this.VARS.utm_campaign_source="";this.VARS.utm_campaign_medium="";this.VARS.utm_campaign_term="";this.VARS.utm_campaign_content="";this.VARS.utm_campaign_name="";this.VARS.total_time_seconds=0;this.VARS.active_time_seconds=0;this.VARS.idle_time_seconds=0;this.VARS.continent="";this.VARS.continent_name="";this.VARS.country="";this.VARS.country_name="";this.VARS.region_name="";this.VARS.state="";this.VARS.city="";this.VARS.ip_address="";this.VARS.zipcode="";this.VARS.latitude=0;this.VARS.longitude=0;this.VARS.metro_code="";this.VARS.time_zone="";this.VARS.area_code="";this.VARS.segments=[];this.VARS.scroll_percent=0;this.VARS.scroll_pixels=0;this.VARS.exit_intent="";this.VARS.click_jquery_selector={};this.VARS.hover_jquery_selector={};this.VARS.exists_jquery_selector={};this.VARS.lightbox_activity={};this.VARS.master_rules={};this.VARS.lightbox_events={};this.VARS.DeviceAtlas={};this.VARS.DeviceAtlas.primaryHardwareType="";this.VARS.DeviceAtlas.mobileDevice="";this.VARS.DeviceAtlas.isApp="";this.VARS.DeviceAtlas.isTablet="";this.VARS.DeviceAtlas.isMobilePhone="";this.VARS.DeviceAtlas.model="";this.VARS.DeviceAtlas.vendor="";this.VARS.DeviceAtlas.touchScreen="";this.VARS.DeviceAtlas.osName="";this.VARS.DeviceAtlas.osVersion="";this.VARS.DeviceAtlas.browserName="";this.VARS.DeviceAtlas.browserVersion="";this.VARS.DeviceAtlas.osAndroid="";this.VARS.DeviceAtlas.osiOs="";this.VARS.DeviceAtlas.isRobot="";this.VARS.DeviceAtlas.isBrowser="";this.VARS.geo_source="";this.VARS.device_source="";this.VARS.PagesNavigated=new Array();this.VARS.PastVisitsText="";}
DIGIOH_ANALYTICS.prototype.onDocumentReady=function(){try{this.setDevice();this.setCurrent();this.setPrevious();}
catch(error){this.logError(error,"onDocumentReady");}};DIGIOH_ANALYTICS.prototype.loadAllVars=function(){try{this.getCurrent();this.getPrevious();}
catch(error){this.logError(error,"loadAllVars");}};DIGIOH_ANALYTICS.prototype.getDeviceAtlasServerPropsMap=function(){try{var x={};x.ea='bjs.webGl';x.eb='bjs.geoLocation';x.ec='bjs.webSqlDatabase';x.ed='bjs.indexedDB';x.ef='bjs.webSockets';x.eg='bjs.localStorage';x.eh='bjs.sessionStorage';x.ei='bjs.webWorkers';x.ej='bjs.applicationCache';x.ek='bjs.supportBasicJavaScript';x.el='bjs.modifyDom';x.em='bjs.modifyCss';x.en='bjs.supportEvents';x.eo='bjs.touchEvents';x.ep='bjs.supportEventListener';x.eq='bjs.xhr';x.er='bjs.supportConsoleLog';x.es='bjs.json';x.et='bjs.deviceOrientation';x.eu='bjs.deviceMotion';x.ev='bjs.querySelector';x.ew='bjs.battery';x.ex='bjs.accessDom';x.fa='bhtml.canvas';x.fb='bhtml.video';x.fc='bhtml.audio';x.fd='bhtml.svg';x.fe='bhtml.inlinesvg';x.ga='bcss.animations';x.gb='bcss.columns';x.gc='bcss.transforms';x.ge='bcss.transitions';x.ba='js.webSockets';x.bb='js.deviceMotion';x.bd='js.applicationCache';x.bg='js.xhr';x.bi='js.deviceOrientation';x.bl='js.webWorkers';x.bm='js.querySelector';x.bp='js.json';x.bs='js.supportEventListener';x.bz='js.localStorage';x.cd='js.supportEvents';x.cl='js.touchEvents';x.ci='js.geoLocation';x.cr='js.webGl';x.cx='js.indexedDB';x.db='js.modifyCss';x.dc='js.webSqlDatabase';x.dg='js.sessionStorage';x.dh='js.supportConsoleLog';x.dq='js.modifyDom';x.ds='js.supportBasicJavaScript';x.dt='js.battery';x.du='js.accessDom';x.ck='html.svg';x.cn='html.inlinesvg';x.ch='html.video';x.bt='html.audio';x.df='html.canvas';x.dd='css.transforms';x.de='css.columns';x.bc='css.animations';x.bq='css.transitions';x.bu='image.Jpg';x.cc='image.Gif87';x.ce='image.Png';x.cu='image.Gif89a';x.ca='markup.xhtmlMp10';x.bw='markup.wml1';x.cm='markup.xhtmlBasic10';x.cy='markup.xhtmlMp12';x.cz='markup.xhtmlMp11';x.ha='iorientation';x.hb='idisplayColorDepth';x.hc='idevicePixelRatio';x.ia='bcookieSupport';x.ib='bflashCapable';x.ic='baccessDom';x.ie='buserMedia';x.ja='sdeviceAspectRatio';x.jb='sdevicePixelRatio';x.aa='touchScreen';x.ab='isBrowser';x.ac='isMobilePhone';x.ad='primaryHardwareType';x.ae='isFilter';x.af='mobileDevice';x.ag='isSpam';x.ah='isGamesConsole';x.ai='isMasqueradingAsDesktop';x.aj='botName';x.ak='marketingName';x.al='manufacturer';x.am='yearReleased';x.an='displayWidth';x.ao='displayHeight';x.ap='diagonalScreenSize';x.aq='displayPpi';x.ar='devicePixelRatio';x.as='displayColorDepth';x.at='nfc';x.au='camera';x.av='osProprietary';x.aw='developerPlatform';x.ax='developerPlatformVersion';x.ay='language';x.az='languageLocale';x.be='jsr139';x.bf='jqm';x.bh='uriSchemeSms';x.bj='id';x.bk='https';x.bn='umts';x.bo='usableDisplayWidth';x.br='supportsClientSide';x.bv='isSpam';x.bx='jsr118';x.by='hspaEvolved';x.cb='uriSchemeTel';x.cf='jsr37';x.cg='jsr30';x.cj='flashCapable';x.co='hsdpa';x.cp='memoryLimitMarkup';x.cq='memoryLimitDownload';x.cs='edge';x.ct='vCardDownload';x.cv='drmOmaCombinedDelivery';x.cw='usableDisplayHeight';x.da='drmOmaSeparateDelivery';x.di='gprs';x.dj='lteAdvanced';x.dk='lte';x.dl='memoryLimitEmbeddedMedia';x.dm='hscsd';x.dn='cookieSupport';x.do='uriSchemeSmsTo';x.dp='csd';x.dr='drmOmaForwardLock';x.dv='accessDom';x.dw='userMedia';x.dx='orientation';x.a='isRobot';x.b='osRim';x.c='isDownloader';x.d='osWindowsRt';x.e='isEReader';x.f='osWindowsMobile';x.g='isTablet';x.h='osVersion';x.i='osWindowsPhone';x.j='isFeedReader';x.k='vendor';x.l='osSymbian';x.m='browserVersion';x.n='browserName';x.o='model';x.p='isChecker';x.q='osiOs';x.r='osBada';x.s='isTV';x.t='osWebOs';x.u='isMediaPlayer';x.v='osAndroid';x.w='isSetTopBox';x.x='isApp';x.y='osName';x.z='browserRenderingEngine';return x;}
catch(err){this.logError(err,'getDeviceAtlasServerPropsMap');}}
DIGIOH_ANALYTICS.prototype.getDeviceAtlasServerPropsArr=function(){try{return['ea','eb','ec','ed','ef','eg','eh','ei','ej','ek','el','em','en','eo','ep','eq','er','es','et','eu','ev','ew','ex','fa','fb','fc','fd','fe','ga','gb','gc','ge','ba','bb','bd','bg','bi','bl','bm','bp','bs','bz','cd','cl','ci','cr','cx','db','dc','dg','dh','dq','ds','dt','du','ck','cn','ch','bt','df','dd','de','bc','bq','bu','cc','ce','cu','ca','bw','cm','cy','cz','ha','hb','hc','ia','ib','ic','ie','ja','jb','aa','ab','ac','ad','ae','af','ag','ah','ai','aj','ak','al','am','an','ao','ap','aq','ar','as','at','au','av','aw','ax','ay','az','be','bf','bh','bj','bk','bn','bo','br','bv','bx','by','cb','cf','cg','cj','co','cp','cq','cs','ct','cv','cw','da','di','dj','dk','dl','dm','dn','do','dp','dr','dv','dw','dx','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z'];}
catch(err){this.logError(err,'getDeviceAtlasServerPropsArr');}}
DIGIOH_ANALYTICS.prototype.getDeviceAtlasServerPropsInclude=function(){try{return ',primaryHardwareType,mobileDevice,isApp,isTablet,isMobilePhone,model,vendor,touchScreen,osName,osVersion,browserName,browserVersion,osAndroid,osiOs,isRobot,isBrowser,';}
catch(err){this.logError(err,'getDeviceAtlasServerPropsInclude');}}
DIGIOH_ANALYTICS.prototype.reduceDeviceAtlasServerProps=function(invalObj){try{if(typeof invalObj!=='object'||!invalObj){return{};}
var DEVICE_ATLAS_SERVER_PROPS_MAP=this.getDeviceAtlasServerPropsMap();var DEVICE_ATLAS_SERVER_PROPS_ARR=this.getDeviceAtlasServerPropsArr();var DEVICE_ATLAS_SERVER_PROPS_INCLUDE=this.getDeviceAtlasServerPropsInclude();var outval=invalObj;if(outval.hasOwnProperty('properties')&&typeof outval.properties==='object'&&outval.properties){outval=outval.properties;}
var prop='';for(var i=0;i<DEVICE_ATLAS_SERVER_PROPS_ARR.length;i++){prop=DEVICE_ATLAS_SERVER_PROPS_ARR[i];if(DEVICE_ATLAS_SERVER_PROPS_MAP.hasOwnProperty(prop)&&DEVICE_ATLAS_SERVER_PROPS_MAP[prop]&&outval.hasOwnProperty(DEVICE_ATLAS_SERVER_PROPS_MAP[prop])&&DEVICE_ATLAS_SERVER_PROPS_INCLUDE.indexOf(','+DEVICE_ATLAS_SERVER_PROPS_MAP[prop]+',')===-1){delete outval[DEVICE_ATLAS_SERVER_PROPS_MAP[prop]];}}
outval=JSON.stringify(outval);for(var i=0;i<DEVICE_ATLAS_SERVER_PROPS_ARR.length;i++){prop=DEVICE_ATLAS_SERVER_PROPS_ARR[i];if(DEVICE_ATLAS_SERVER_PROPS_MAP.hasOwnProperty(prop)&&DEVICE_ATLAS_SERVER_PROPS_MAP[prop]&&outval.indexOf('"'+DEVICE_ATLAS_SERVER_PROPS_MAP[prop]+'"')>=0){outval=outval.replace(('"'+DEVICE_ATLAS_SERVER_PROPS_MAP[prop]+'"'),('"'+prop+'"'));}}
outval=outval.replace(new RegExp(':false,','g'),':"-",');outval=outval.replace(new RegExp(':true,','g'),':"_",');outval=outval.replace(new RegExp(':false}','g'),':"-"}');outval=outval.replace(new RegExp(':true}','g'),':"_"}');return JSON.parse(outval);}
catch(err){this.logError(err,'reduceDeviceAtlasServerProps');return invalObj;}}
DIGIOH_ANALYTICS.prototype.expandDeviceAtlasServerProps=function(invalObj){try{if(typeof invalObj!=='object'||!invalObj){return{};}
var DEVICE_ATLAS_SERVER_PROPS_MAP=this.getDeviceAtlasServerPropsMap();var DEVICE_ATLAS_SERVER_PROPS_ARR=this.getDeviceAtlasServerPropsArr();var DEVICE_ATLAS_SERVER_PROPS_INCLUDE=this.getDeviceAtlasServerPropsInclude();var outval=invalObj;if(outval.hasOwnProperty('properties')&&typeof outval.properties==='object'&&outval.properties){outval=outval.properties;}
outval=JSON.stringify(outval);var prop='';for(var i=0;i<DEVICE_ATLAS_SERVER_PROPS_ARR.length;i++){prop=DEVICE_ATLAS_SERVER_PROPS_ARR[i];if(DEVICE_ATLAS_SERVER_PROPS_MAP.hasOwnProperty(prop)&&outval.indexOf('"'+prop+'"')>=0){outval=outval.replace(('"'+prop+'"'),('"'+DEVICE_ATLAS_SERVER_PROPS_MAP[prop]+'"'));}}
outval=outval.replace(new RegExp(':"-"}','g'),':false}');outval=outval.replace(new RegExp(':"_"}','g'),':true}');outval=outval.replace(new RegExp(':"-",','g'),':false,');outval=outval.replace(new RegExp(':"_",','g'),':true,');return JSON.parse(outval);}
catch(err){this.logError(err,'expandDeviceAtlasServerProps');return invalObj;}}
DIGIOH_ANALYTICS.prototype.expandDeviceAtlasServerPropsFromModulus=function(inval){try{if(inval===''||!inval){return '';}
var DEVICE_ATLAS_SERVER_PROPS_MAP=this.getDeviceAtlasServerPropsMap();var DEVICE_ATLAS_SERVER_PROPS_ARR=this.getDeviceAtlasServerPropsArr();var outval='{"'+inval.split('zzzz').join('"')+'"}';outval=outval.split('~').join('|#');outval=outval.split('*').join('|@');outval=outval.split('|').join('":"');outval=outval.split('$').join('":');outval=outval.split('@').join('_","');outval=outval.split('#').join('-","');outval=outval.split('%').join('","');outval=outval.split('^').join(',"');outval=outval.split('aaaa').join('~');outval=outval.split('bbbb').join('*');outval=outval.split('cccc').join('|');outval=outval.split('dddd').join('$');outval=outval.split('eeee').join('@');outval=outval.split('ffff').join('#');outval=outval.split('gggg').join('%');outval=outval.split('hhhh').join('^');outval=outval.split(':"-"').join(':false');outval=outval.split(':"_"').join(':true');var prop='';for(var i=0;i<DEVICE_ATLAS_SERVER_PROPS_ARR.length;i++){prop=DEVICE_ATLAS_SERVER_PROPS_ARR[i];if(DEVICE_ATLAS_SERVER_PROPS_MAP.hasOwnProperty(prop)){if(outval.indexOf(',"'+prop+'":')>=0){outval=outval.replace((',"'+prop+'":'),(',"'+DEVICE_ATLAS_SERVER_PROPS_MAP[prop]+'":'));}
else if(outval.indexOf('{"'+prop+'":')>=0){outval=outval.replace(('{"'+prop+'":'),('{"'+DEVICE_ATLAS_SERVER_PROPS_MAP[prop]+'":'));}}}
return outval;}
catch(err){this.logError(err,'expandDeviceAtlasServerPropsFromModulus');return inval;}}
DIGIOH_ANALYTICS.prototype.setGeoData=function(json){try{if(typeof json==='object'&&json.hasOwnProperty("geo")&&json.geo.hasOwnProperty("ip")&&json.geo.ip){this.VARS.ip_address=json.geo.ip;this.VARS.landing_page_ip=json.geo.ip;if(json.geo.hasOwnProperty("continent_code")&&json.geo.continent_code!=null)this.VARS.continent=json.geo.continent_code;if(json.geo.hasOwnProperty("continent_name")&&json.geo.continent_name!=null)this.VARS.continent_name=json.geo.continent_name;if(json.geo.hasOwnProperty("country_code")&&json.geo.country_code!=null)this.VARS.country=json.geo.country_code;if(json.geo.hasOwnProperty("country_name")&&json.geo.country_name!=null)this.VARS.country_name=json.geo.country_name;if(json.geo.hasOwnProperty("region_name")&&json.geo.region_name!=null)this.VARS.region_name=json.geo.region_name;if(json.geo.hasOwnProperty("region_code")&&json.geo.region_code!=null)this.VARS.state=json.geo.region_code;if(json.geo.hasOwnProperty("city")&&json.geo.city!=null)this.VARS.city=json.geo.city;if(json.geo.hasOwnProperty("zipcode")&&json.geo.zipcode!=null)this.VARS.zipcode=json.geo.zipcode;if(json.geo.hasOwnProperty("latitude")&&json.geo.latitude!=null)this.VARS.latitude=json.geo.latitude;if(json.geo.hasOwnProperty("longitude")&&json.geo.longitude!=null)this.VARS.longitude=json.geo.longitude;if(json.geo.hasOwnProperty("metro_code")&&json.geo.metro_code!=null)this.VARS.metro_code=json.geo.metro_code;if(json.geo.hasOwnProperty("time_zone")&&json.geo.time_zone!=null)this.VARS.time_zone=json.geo.time_zone;if(json.geo.hasOwnProperty("area_code")&&json.geo.area_code!=null)this.VARS.area_code=json.geo.area_code;this.VARS.geo_source="azure-maxmind";}}
catch(error){this.logError(error,"setGeoData");}};DIGIOH_ANALYTICS.prototype.setDeviceData=function(json){try{if(typeof json==='object'&&json.hasOwnProperty("da")&&json.da){var expanded=JSON.parse(this.expandDeviceAtlasServerPropsFromModulus(json.da));this.VARS.DeviceAtlas=expanded;this.logger('DIGIOH: successfully expanded the reduced device props from azure:');this.logger(this.VARS.DeviceAtlas);if(json.hasOwnProperty("devsrc")){this.VARS.device_source=json.devsrc;}else{this.VARS.device_source="unspecified";}}
else if(typeof json==='object'&&json.hasOwnProperty("device")&&typeof json.device==='object'&&json.device&&json.device.hasOwnProperty("properties")&&typeof json.device.properties==='object'&&json.device.properties&&json.device.properties.hasOwnProperty("primaryHardwareType")&&json.device.properties.primaryHardwareType){this.VARS.DeviceAtlas=json.device.properties;if(json.hasOwnProperty("devsrc")){this.VARS.device_source=json.devsrc;}else{this.VARS.device_source="unspecified";}}
else if(typeof json==='object'&&json.hasOwnProperty("device")&&typeof json.device==='object'&&json.device&&json.device.hasOwnProperty("primaryHardwareType")&&json.device.primaryHardwareType){this.VARS.DeviceAtlas=json.device;if(json.hasOwnProperty("devsrc")){this.VARS.device_source=json.devsrc;}else{this.VARS.device_source="unspecified";}}
if(this.VARS.DeviceAtlas!==null&&typeof this.VARS.DeviceAtlas==='object'){if(this.VARS.DeviceAtlas.hasOwnProperty('browserName')&&typeof this.VARS.DeviceAtlas.browserName==='string'){var bn=this.VARS.DeviceAtlas.browserName.toLowerCase();if(bn.indexOf('safari')>=0){this.VARS.browser_type='Safari';}
if(bn.indexOf('chrome')>=0){this.VARS.browser_type='Chrome';}
if(bn.indexOf('edge')>=0||bn.indexOf('explorer')>=0){this.VARS.browser_type='Internet Explorer';}
if(bn.indexOf('firefox')>=0){this.VARS.browser_type='Firefox';}
if(bn.indexOf('opera')>=0){this.VARS.browser_type='Opera';}}}}
catch(error){this.logError(error,"setDeviceData");}};DIGIOH_ANALYTICS.prototype.loadMasterRulesViewEvents=function(){try{var lbEvMap=this.VARS.lightbox_events;var foundViewEvent=false;var lastViewTimestamp=0;var viewTimestamp=0;var ignoreInline=false;if(typeof DIGIOH_LIGHTBOX_MASTER_RULES!=="undefined"&&(typeof DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes==="undefined"||DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes===true)){this.logger("IgnoreForInlineBoxes: Master rule ignoring inline lightboxes (view events).");ignoreInline=true;}
for(lbid in lbEvMap){var isInline=DIGIOH_API.LIGHTBOX.isInlineLightbox(lbid);if(ignoreInline&&isInline){this.logger('DIGIOH: loadMasterRulesViewEvents ==> ignoreInline ==> '+lbid);continue;}
else if(lbEvMap.hasOwnProperty(lbid)&&lbEvMap[lbid].hasOwnProperty('v')&&lbEvMap[lbid]['v']['c']>0&&lbEvMap[lbid]['v']['t'].length>0){foundViewEvent=true;this.logger('DIGIOH: loadMasterRulesViewEvents ==> foundViewEvent 1 ==> '+lbid);var ts_len=lbEvMap[lbid]['v']['t'].length;viewTimestamp=lbEvMap[lbid]['v']['t'][ts_len-1];if(lastViewTimestamp<viewTimestamp){lastViewTimestamp=viewTimestamp;}}else if(lbEvMap.hasOwnProperty(lbid)&&lbEvMap[lbid].hasOwnProperty('v')&&lbEvMap[lbid]['v']['c']>0&&lbEvMap[lbid]['v']['t'].length>0){foundViewEvent=true;this.logger('DIGIOH: loadMasterRulesViewEvents ==> foundViewEvent 2 ==> '+lbid);var ts_len=lbEvMap[lbid]['v']['t'].length;viewTimestamp=lbEvMap[lbid]['v']['t'][ts_len-1];if(lastViewTimestamp<viewTimestamp){lastViewTimestamp=viewTimestamp;}}}
if(this.IsNewVisitor){this.VARS.master_rules["Once per visitor"]=true;this.VARS.master_rules["Once per session"]=true;this.VARS.master_rules["Once per pageview"]=true;}else if(this.IsNewSession){this.VARS.master_rules["Once per visitor"]=!foundViewEvent;this.VARS.master_rules["Once per session"]=true;this.VARS.master_rules["Once per pageview"]=true;}else{this.VARS.master_rules["Once per visitor"]=!foundViewEvent;this.VARS.master_rules["Once per session"]=!foundViewEvent||(lastViewTimestamp<this.SessionStart);this.VARS.master_rules["Once per pageview"]=!foundViewEvent||(lastViewTimestamp<this.PageviewStart);}}
catch(error){this.logError(error,"loadMasterRulesViewEvents");}};DIGIOH_ANALYTICS.prototype.loadMasterRulesSubmitEvents=function(){try{var lbEvMap=this.VARS.lightbox_events;var foundSubmitEvent=false;var lastSubmitTimestamp=0;var submitTimestamp=0;var ignoreInline=false;if(typeof DIGIOH_LIGHTBOX_MASTER_RULES!=="undefined"&&(typeof DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes==="undefined"||DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes===true)){this.logger("IgnoreForInlineBoxes: Master rule ignoring inline lightboxes (submit events).");ignoreInline=true;}
for(lbid in lbEvMap){var isInline=DIGIOH_API.LIGHTBOX.isInlineLightbox(lbid);if(ignoreInline&&isInline){this.logger('DIGIOH: loadMasterRulesSubmitEvents ==> ignoreInline ==> '+lbid);}
else if(lbEvMap.hasOwnProperty(lbid)&&lbEvMap[lbid].hasOwnProperty('s')&&lbEvMap[lbid]['s']['c']>0){foundSubmitEvent=true;this.logger('DIGIOH: loadMasterRulesSubmitEvents ==> foundSubmitEvent ==> '+lbid);break;}}
this.VARS.master_rules["Until form is submitted"]=!foundSubmitEvent;}
catch(error){this.logError(error,"loadMasterRulesSubmitEvents");}};DIGIOH_ANALYTICS.prototype.loadLightboxActivity=function(){try{this.loadAllEventsByLightboxGuid();this.loadMasterRulesViewEvents();this.loadMasterRulesSubmitEvents();var lbEvMap=this.VARS.lightbox_events;var viewTimestamp=0;for(lbid in lbEvMap){if(lbEvMap.hasOwnProperty(lbid)){if(!this.VARS.lightbox_activity.hasOwnProperty(lbid)){this.VARS.lightbox_activity[lbid]={};}
this.VARS.lightbox_activity[lbid]["Until form is submitted"]=(!lbEvMap[lbid].hasOwnProperty('s')||lbEvMap[lbid]['s']['c']==0);this.VARS.lightbox_activity[lbid]["Until lightbox is closed"]=(!lbEvMap[lbid].hasOwnProperty('c')||lbEvMap[lbid]['c']['c']==0);if(lbEvMap[lbid].hasOwnProperty('v')&&lbEvMap[lbid]['v']['c']>0&&lbEvMap[lbid]['v']['t'].length>0){var ts_len=lbEvMap[lbid]['v']['t'].length;viewTimestamp=lbEvMap[lbid]['v']['t'][ts_len-1];this.VARS.lightbox_activity[lbid]["Days since last view"]=Math.floor((this.PageviewStart-viewTimestamp)/(1000*60*60*24));}else{viewTimestamp=0;this.VARS.lightbox_activity[lbid]["Days since last view"]=-1;}
if(this.IsNewVisitor){this.VARS.lightbox_activity[lbid]["Once per visitor"]=true;this.VARS.lightbox_activity[lbid]["Once per session"]=true;this.VARS.lightbox_activity[lbid]["Once per pageview"]=true;}else if(this.IsNewSession){this.VARS.lightbox_activity[lbid]["Once per visitor"]=(!lbEvMap[lbid].hasOwnProperty('v')||lbEvMap[lbid]['v']['c']==0);this.VARS.lightbox_activity[lbid]["Once per session"]=true;this.VARS.lightbox_activity[lbid]["Once per pageview"]=true;}else{this.VARS.lightbox_activity[lbid]["Once per visitor"]=(!lbEvMap[lbid].hasOwnProperty('v')||lbEvMap[lbid]['v']['c']==0);this.VARS.lightbox_activity[lbid]["Once per session"]=(!lbEvMap[lbid].hasOwnProperty('v')||lbEvMap[lbid]['v']['c']==0)||(viewTimestamp>0&&viewTimestamp<this.SessionStart);this.VARS.lightbox_activity[lbid]["Once per pageview"]=(!lbEvMap[lbid].hasOwnProperty('v')||lbEvMap[lbid]['v']['c']==0)||(viewTimestamp>0&&viewTimestamp<this.PageviewStart);}}}}
catch(error){this.logError(error,"loadLightboxActivity");}};DIGIOH_ANALYTICS.prototype.getBaseDomain=function(host){var baseName=this.getBaseDomainName(host);var baseDomain=host.substring(host.indexOf(baseName));return baseDomain;};DIGIOH_ANALYTICS.prototype.getBaseDomainName=function(url){try{var TLDs=["ac","ad","ae","aero","af","ag","ai","al","am","an","ao","aq","ar","arpa","as","asia","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","biz","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cat","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","com","coop","cr","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","edu","ee","eg","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gov","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","info","int","io","iq","ir","is","it","je","jm","jo","jobs","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mil","mk","ml","mm","mn","mo","mobi","mp","mq","mr","ms","mt","mu","museum","mv","mw","mx","my","mz","na","name","nc","ne","net","nf","ng","ni","nl","no","np","nr","nu","nz","om","org","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","pro","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sy","sz","tc","td","tel","tf","tg","th","tj","tk","tl","tm","tn","to","tp","tr","travel","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","xn--0zwm56d","xn--11b5bs3a9aj6g","xn--3e0b707e","xn--45brj9c","xn--80akhbyknj4f","xn--90a3ac","xn--9t4b11yi5a","xn--clchc0ea0b2g2a9gcd","xn--deba0ad","xn--fiqs8s","xn--fiqz9s","xn--fpcrj9c3d","xn--fzc2c9e2c","xn--g6w251d","xn--gecrj9c","xn--h2brj9c","xn--hgbk6aj7f53bba","xn--hlcj6aya9esc7a","xn--j6w193g","xn--jxalpdlp","xn--kgbechtv","xn--kprw13d","xn--kpry57d","xn--lgbbat1ad8j","xn--mgbaam7a8h","xn--mgbayh7gpa","xn--mgbbh1a71e","xn--mgbc0a9azcg","xn--mgberp4a5d4ar","xn--o3cw4h","xn--ogbpf8fl","xn--p1ai","xn--pgbs0dh","xn--s9brj9c","xn--wgbh1c","xn--wgbl6a","xn--xkc2al3hye2a","xn--xkc2dl3a5ee0h","xn--yfro4i67o","xn--ygbi2ammx","xn--zckzah","xxx","ye","yt","za","zm","zw"].join();var parts=url.split('.');if(parts[0]==='www'&&parts[1]!=='com'){parts.shift();}
var ln=parts.length,i=ln,minLength=parts[parts.length-1].length,part;while(part=parts[--i]){if(i===0||i<ln-2||part.length<minLength||TLDs.indexOf(part)<0){return part;}}}
catch(error){this.logError(error,"getBaseDomainName");}};DIGIOH_ANALYTICS.prototype.formatDate=function(d){try{if(d.getMonth&&d.getDate&&d.getFullYear){var time=(1+d.getMonth())+"/"+d.getDate()+"/"+d.getFullYear()+" ";var hours=d.getHours();var minutes=this.padStr(d.getMinutes());if(hours>12)
time+=(hours-12)+":"+minutes+" PM";else if(hours==12)
time+="12:"+minutes+" PM";else if(hours==0)
time+="12:"+minutes+" AM";else
time+=hours+":"+minutes+" AM";return time;}
return "";}
catch(error){this.logError(error,"formatDate");}};DIGIOH_ANALYTICS.prototype.formatDateWithSeconds=function(d){try{var time=(1+d.getMonth())+"/"+d.getDate()+"/"+d.getFullYear()+" ";var hours=d.getHours();var minutes=this.padStr(d.getMinutes());var seconds=this.padStr(d.getSeconds());if(hours>12)
time+=(hours-12)+":"+minutes+":"+seconds+" PM";else if(hours==12)
time+="12:"+minutes+":"+seconds+" PM";else if(hours==0)
time+="12:"+minutes+":"+seconds+" AM";else
time+=hours+":"+minutes+":"+seconds+" AM";return time;}
catch(error){this.logError(error,"formatDateWithSeconds");}};DIGIOH_ANALYTICS.prototype.formatDateWithSecondsForSalesforce=function(d){try{return d.getFullYear()+"-"+this.padStr(1+d.getMonth())+"-"+d.getDate()+" "+this.padStr(d.getHours())+":"+this.padStr(d.getMinutes())+":"+this.padStr(d.getSeconds());}
catch(error){this.logError(error,"formatDateWithSecondsForSalesforce");}};DIGIOH_ANALYTICS.prototype.getReadableHMS=function(seconds){try{if(seconds<60){return seconds+" secs";}else if(seconds<3600){var minutes=Math.floor(seconds/60);seconds=seconds-(minutes*60);return minutes+" mins "+seconds+" secs";}else{var hours=Math.floor(seconds/3600);seconds=seconds-(hours*3600);var minutes=Math.floor(seconds/60);seconds=seconds-(minutes*60);return hours+" hrs "+minutes+" mins "+seconds+" secs";}}
catch(error){this.logError(error,"getReadableHMS");}};DIGIOH_ANALYTICS.prototype.padStr=function(i){try{return(i<10)?"0"+i:""+i;}
catch(error){this.logError(error,"padStr");}};DIGIOH_ANALYTICS.prototype.getSearchEngine=function(url){try{if(!url){return "";}
var bd=url.toLowerCase();if(bd.indexOf('http://')===0)
bd=bd.substring(7);else if(bd.indexOf('https://')===0)
bd=bd.substring(8);if(bd.indexOf('?')>0)
bd=bd.split('?')[0];if(bd.indexOf('/')>0)
bd=bd.split('/')[0];if(bd.indexOf('#')>0)
bd=bd.split('#')[0];if(bd.indexOf(':')>0)
bd=bd.split(':')[0];if(bd.indexOf('.google.')>=0||bd.indexOf('google.')===0)
return 'google';if(bd.indexOf('.bing.')>=0||bd.indexOf('bing.')===0)
return 'bing';if(bd.indexOf('.yahoo.')>=0||bd.indexOf('yahoo.')===0)
return 'yahoo';if(bd.indexOf('.ask.')>=0||bd.indexOf('ask.')===0)
return 'ask';if(bd.indexOf('.aol.')>=0||bd.indexOf('aol.')===0)
return 'aol';if(bd.indexOf('.myway.')>=0||bd.indexOf('myway.')===0)
return 'myway';if(bd.indexOf('.baidu.')>=0||bd.indexOf('baidu.')===0)
return 'baidu';if(bd.indexOf('.yandex.')>=0||bd.indexOf('yandex.')===0)
return 'yandex';if(bd.indexOf('.excite.')>=0)
return 'excite';if(bd.indexOf('.duckduckgo.')>=0||bd.indexOf('duckduckgo.')===0)
return 'duckduckgo';if(bd.indexOf('.lycos.')>=0)
return 'lycos';if(bd.indexOf('.wolframalpha.')>=0||bd.indexOf('wolframalpha.')===0)
return 'wolframalpha';if(bd.indexOf('.wow.com')>=0)
return 'wow';if(bd.indexOf('.webcrawler.')>=0||bd.indexOf('webcrawler.')===0)
return 'webcrawler';if(bd.indexOf('.mywebsearch.')>=0||bd.indexOf('mywebsearch.')===0)
return 'mywebsearch';if(bd.indexOf('.infospace.')>=0||bd.indexOf('infospace.')===0)
return 'infospace';if(bd.indexOf('.info.com')>=0)
return 'info';if(bd.indexOf('.contenko.')>=0)
return 'contenko';if(bd.indexOf('.dogpile.')>=0)
return 'dogpile';if(bd.indexOf('.alhea.')>=0)
return 'alhea';if(bd.indexOf('.ixquick.')>=0||bd.indexOf('ixquick.')===0)
return 'ixquick';return "";}
catch(error){this.logError(error,"getSearchEngine");return "";}};DIGIOH_ANALYTICS.prototype.isGoogleAdWordsUrl=function(landingUrl,referringUrl,search_engine){try{if(landingUrl&&(landingUrl.toLowerCase().indexOf('gclid=')>0||landingUrl.toLowerCase().indexOf('wbraid=')>0||landingUrl.toLowerCase().indexOf('gbraid=')>0))
return true;if(referringUrl&&referringUrl.toLowerCase().indexOf('/aclk?')>0)
return true;return false;}
catch(error){this.logError(error,"isGoogleAdWordsUrl");return false;}};DIGIOH_ANALYTICS.prototype.isFacebookUrl=function(url){try{if(!url){return false;}
var bd=url.toLowerCase();if(bd.indexOf('http://')===0)
bd=bd.substring(7);else if(bd.indexOf('https://')===0)
bd=bd.substring(8);if(bd.indexOf('?')>0)
bd=bd.split('?')[0];if(bd.indexOf('/')>0)
bd=bd.split('/')[0];if(bd.indexOf('#')>0)
bd=bd.split('#')[0];if(bd.indexOf(':')>0)
bd=bd.split(':')[0];if(bd.indexOf('.facebook.com')>=0||bd.indexOf('facebook.com')===0)
return true;else
return false;}
catch(error){this.logError(error,"isFacebookUrl");return false;}};DIGIOH_ANALYTICS.prototype.isAndroidAppUrl=function(url){try{if(!url){return false;}
var bd=url.toLowerCase();if(bd.indexOf('android-app://')===0)
return true;else
return false;}
catch(error){this.logError(error,"isAndroidAppUrl");return false;}};DIGIOH_ANALYTICS.prototype.removeUrlBeginning=function(url){try{if(url.length==0)return "";if(url.toLowerCase().indexOf('https://www.')==0)return url.substring(12);else if(url.toLowerCase().indexOf('http://www.')==0)return url.substring(11);else if(url.toLowerCase().indexOf('https://')==0)return url.substring(8);else if(url.toLowerCase().indexOf('http://')==0)return url.substring(7);else return url;}
catch(error){this.logError(error,"removeUrlBeginning");return "";}};DIGIOH_ANALYTICS.prototype.removeUrlProtocol=function(url){try{if(url.length==0)return "";if(url.toLowerCase().indexOf('https://')==0)return url.substring(8);else if(url.toLowerCase().indexOf('http://')==0)return url.substring(7);else return url;}
catch(error){this.logError(error,"removeUrlProtocol");}};DIGIOH_ANALYTICS.prototype.removeUrlEnding=function(url){try{if(url.length==0)return "";var ending=url.substring(url.length-1);if(ending=='/'||ending=='#'||ending=='?'||ending=='&'){url=url.substring(0,url.length-1);}
return url;}
catch(error){this.logError(error,"removeUrlEnding");}};DIGIOH_ANALYTICS.prototype.getUrlBaseDomain=function(url){try{if(url==undefined||url.length==0)return "";var a=url.split(/\/\//g)[1].split(/[:\/?#]/)[0].split('.');var f=(a.length>1?(a[a.length-2]+'.'+a[a.length-1]):"").toLowerCase();return f;}
catch(error){this.logError(error,"getUrlBaseDomain");}};DIGIOH_ANALYTICS.prototype.getUrlSubdomain=function(url){try{if(url.length==0)return "";return this.removeUrlBeginning(url).split(/[:\/?#]/)[0];}
catch(error){this.logError(error,"getUrlSubdomain");}};DIGIOH_ANALYTICS.prototype.doSubdomainsMatch=function(url1,url2){try{return(url1.length>0&&url2.length>0&&this.getUrlSubdomain(url1).toLowerCase()==this.getUrlSubdomain(url2).toLowerCase());}
catch(error){this.logError(error,"doSubdomainsMatch");}};DIGIOH_ANALYTICS.prototype.hasUTMCampaign=function(url){try{if(url.length>0&&url.indexOf('?')!==-1){var queryString=url.split('?')[1];if(queryString.length>0&&queryString.indexOf('=')!==-1){var queryVars=queryString.split('&');for(var i=0;i<queryVars.length;i++){var pair=queryVars[i].split('=');if(decodeURIComponent(pair[0]).toLowerCase()=="utm_campaign"){return true;}}}}}
catch(error){this.logError(error,"hasUTMCampaign");}
return false;};DIGIOH_ANALYTICS.prototype.isStringAnInteger=function(str){try{if(str.length==0)return false;return!isNaN(str);}
catch(error){this.logError(error,"isStringAnInteger");}
return false;};DIGIOH_ANALYTICS.prototype.updateLightboxActivity=function(eventKey,lbguid,timestamp){try{this.logger('updateLightboxActivity: '+eventKey+' ==> '+lbguid);var boxShortId='';if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbguid)&&DIGIOH_LIGHTBOX_IDS[lbguid]){boxShortId=DIGIOH_LIGHTBOX_IDS[lbguid];}
if(!this.VARS.lightbox_activity.hasOwnProperty(lbguid)){this.VARS.lightbox_activity[boxShortId]={};}else{this.VARS.lightbox_activity[boxShortId]=DIGIOH_API.LIGHTBOX.cloneObj(this.VARS.lightbox_activity[lbguid]);delete this.VARS.lightbox_activity[lbguid];}
var ignoreInline=false;if(typeof DIGIOH_LIGHTBOX_MASTER_RULES!=="undefined"&&(typeof DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes==="undefined"||DIGIOH_LIGHTBOX_MASTER_RULES.IgnoreForInlineBoxes===true)){ignoreInline=true;}
var isInline=DIGIOH_API.LIGHTBOX.isInlineLightbox(lbguid);if(ignoreInline&&isInline){this.logger('DIGIOH: updateLightboxActivity ==> ignoreInline ==> '+lbguid);}
if(eventKey==='view'||eventKey==='v'){this.VARS.lightbox_activity[boxShortId]["Once per visitor"]=false;this.VARS.lightbox_activity[boxShortId]["Once per session"]=false;this.VARS.lightbox_activity[boxShortId]["Once per pageview"]=false;this.VARS.lightbox_activity[boxShortId]["Days since last view"]=0;if(!ignoreInline||!isInline){this.VARS.master_rules["Once per visitor"]=false;this.VARS.master_rules["Once per session"]=false;this.VARS.master_rules["Once per pageview"]=false;}}else if(eventKey=='submit'||eventKey==='s'){this.VARS.lightbox_activity[boxShortId]["Until form is submitted"]=false;if(!ignoreInline||!isInline){this.VARS.master_rules["Until form is submitted"]=false;}}else if(eventKey=='close'||eventKey==='c'){this.VARS.lightbox_activity[boxShortId]["Until lightbox is closed"]=false;}}
catch(error){this.logError(error,"updateLightboxActivity");}};DIGIOH_ANALYTICS.prototype.setLightboxEvent=function(eventKey,lbguid,isOptionalDelete){try{var cookieName="__bxevents";var timestamp=new Date().getTime();var boxShortId='';if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbguid)&&DIGIOH_LIGHTBOX_IDS[lbguid]){boxShortId=DIGIOH_LIGHTBOX_IDS[lbguid];}
var key=eventKey;if(key=='view'||key=='v')key='v';else if(key=='submit'||key=='s')key='s';else if(key=='redirect'||key=='r')key='r';else if(key=='download'||key=='d')key='d';else if(key=='close'||key=='c')key='c';if(!this.VARS.lightbox_events.hasOwnProperty(lbguid)&&!this.VARS.lightbox_events.hasOwnProperty(boxShortId)){this.VARS.lightbox_events[boxShortId]={'v':{'c':0,'t':[]},'s':{'c':0,'t':[]},'r':{'c':0,'t':[]},'d':{'c':0,'t':[]},'c':{'c':0,'t':[]}};}else if(this.VARS.lightbox_events.hasOwnProperty(lbguid)&&!this.VARS.lightbox_events.hasOwnProperty(boxShortId)){this.VARS.lightbox_events[boxShortId]=DIGIOH_API.LIGHTBOX.cloneObj(this.VARS.lightbox_events[lbguid]);delete this.VARS.lightbox_events[lbguid];}else if(this.VARS.lightbox_events.hasOwnProperty(lbguid)&&this.VARS.lightbox_events.hasOwnProperty(boxShortId)){delete this.VARS.lightbox_events[lbguid];}
if(this.VARS.lightbox_events[boxShortId].hasOwnProperty(eventKey)){this.VARS.lightbox_events[boxShortId][key]=DIGIOH_API.LIGHTBOX.cloneObj(this.VARS.lightbox_events[boxShortId][eventKey]);delete this.VARS.lightbox_events[boxShortId][eventKey];if(this.VARS.lightbox_events[boxShortId][key].hasOwnProperty('cnt')){this.VARS.lightbox_events[boxShortId][key]['c']=this.VARS.lightbox_events[boxShortId][key]['cnt']+1;delete this.VARS.lightbox_events[boxShortId][key]['cnt'];}else if(this.VARS.lightbox_events[boxShortId][key].hasOwnProperty('c')){this.VARS.lightbox_events[boxShortId][key]['c']++;}else{this.VARS.lightbox_events[boxShortId][key]['c']=1;}}else if(this.VARS.lightbox_events[boxShortId].hasOwnProperty(key)){this.VARS.lightbox_events[boxShortId][key]['c']++;}else{this.VARS.lightbox_events[boxShortId][key]={'c':1,'t':[]};}
if(this.VARS.lightbox_events[boxShortId][key].hasOwnProperty('ts')){this.VARS.lightbox_events[boxShortId][key]['t']=DIGIOH_API.LIGHTBOX.cloneObj(this.VARS.lightbox_events[boxShortId][key]['ts']);delete this.VARS.lightbox_events[boxShortId][key]['ts'];}else if(!this.VARS.lightbox_events[boxShortId][key].hasOwnProperty('t')){this.VARS.lightbox_events[boxShortId][key]['t']=[];}
this.VARS.lightbox_events[boxShortId][key]['t'].push(timestamp);if(DIGIOH_STORAGE.storage_type==='cookie'){while(this.VARS.lightbox_events[boxShortId][key]['t'].length>3){this.VARS.lightbox_events[boxShortId][key]['t'].splice(1,1);}}else{while(this.VARS.lightbox_events[boxShortId][key]['t'].length>20){this.VARS.lightbox_events[boxShortId][key]['t'].splice(1,1);}}
if(typeof isOptionalDelete!=='undefined'&&isOptionalDelete===true){this.VARS.lightbox_events[boxShortId][key]={'c':0,'t':[]};}
if(DIGIOH_STORAGE.storage_type==='cookie'){for(var bid in this.VARS.lightbox_events){if(this.VARS.lightbox_events.hasOwnProperty(bid)&&typeof this.VARS.lightbox_events[bid]==='object'&&this.VARS.lightbox_events[bid]!==null){if(this.VARS.lightbox_events[bid].hasOwnProperty('v')&&this.VARS.lightbox_events[bid]['v'].hasOwnProperty('t')){while(this.VARS.lightbox_events[bid]['v']['t'].length>3){this.VARS.lightbox_events[bid]['v']['t'].splice(1,1);}}
if(this.VARS.lightbox_events[bid].hasOwnProperty('s')&&this.VARS.lightbox_events[bid]['s'].hasOwnProperty('t')){while(this.VARS.lightbox_events[bid]['s']['t'].length>3){this.VARS.lightbox_events[bid]['s']['t'].splice(1,1);}}
if(this.VARS.lightbox_events[bid].hasOwnProperty('r')&&this.VARS.lightbox_events[bid]['r'].hasOwnProperty('t')){while(this.VARS.lightbox_events[bid]['r']['t'].length>3){this.VARS.lightbox_events[bid]['r']['t'].splice(1,1);}}
if(this.VARS.lightbox_events[bid].hasOwnProperty('d')&&this.VARS.lightbox_events[bid]['d'].hasOwnProperty('t')){while(this.VARS.lightbox_events[bid]['d']['t'].length>3){this.VARS.lightbox_events[bid]['d']['t'].splice(1,1);}}
if(this.VARS.lightbox_events[bid].hasOwnProperty('c')&&this.VARS.lightbox_events[bid]['c'].hasOwnProperty('t')){while(this.VARS.lightbox_events[bid]['c']['t'].length>3){this.VARS.lightbox_events[bid]['c']['t'].splice(1,1);}}}}}
this.updateLightboxActivity(eventKey,lbguid,timestamp);DIGIOH_STORAGE.data[cookieName]=this.VARS.lightbox_events;DIGIOH_STORAGE.set();this.logger('ANALYTICS.setLightboxEvent - '+eventKey+' ('+key+')'+', '+lbguid+' ('+boxShortId+'), '+this.VARS.lightbox_events[boxShortId][key]['t'].length);}
catch(error){this.logError(error,"setLightboxEvent");}};DIGIOH_ANALYTICS.prototype.parseLightboxEvents=function(boxEvents){var hashOrig={'view':{'cnt':0,'ts':[]},'submit':{'cnt':0,'ts':[]},'redirect':{'cnt':0,'ts':[]},'download':{'cnt':0,'ts':[]},'close':{'cnt':0,'ts':[]}};var hash={'v':{'c':0,'t':[]},'s':{'c':0,'t':[]},'r':{'c':0,'t':[]},'d':{'c':0,'t':[]},'c':{'c':0,'t':[]}};try{var parts=boxEvents.split('*');var event;for(var x=1;x<parts.length;x++){if(parts[x].indexOf(':')>0){event=parts[x].split(':');var key=event[0];if(key=='view')key='v';else if(key=='submit')key='s';else if(key=='redirect')key='r';else if(key=='download')key='d';else if(key=='close')key='c';if(event.length==3&&hash.hasOwnProperty(key)){if(this.isStringAnInteger(event[1])){hash[key]['c']=parseInt(event[1]);}
if(event[2].indexOf(',')>0){var tss=event[2].split(',');for(var y=0;y<tss.length;y++){if(this.isStringAnInteger(tss[y])){hash[key]['t'].push(parseInt(tss[y]));}}}else if(this.isStringAnInteger(event[2])){hash[key]['t'].push(parseInt(event[2]));}else{}}}}}
catch(error){this.logError(error,"parseLightboxEvents");}
return hash;};DIGIOH_ANALYTICS.prototype.loadAllEventsByLightboxGuid=function(){try{var cookieName="__bxevents";var cookieVal=DIGIOH_STORAGE.data[cookieName];var lbguid;var boxShortId='';var case2or3=false;if(cookieVal){if(typeof cookieVal==='string'&&cookieVal.indexOf('id:')>=0&&cookieVal.indexOf('{')===-1){if(cookieVal.indexOf('|')>0){var parts=cookieVal.split('|');for(var x=0;x<parts.length;x++){if(parts[x].indexOf('id:')==0&&parts[x].indexOf('*')>0){lbguid=parts[x].split('*')[0].split(':')[1];boxShortId='';if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbguid)&&DIGIOH_LIGHTBOX_IDS[lbguid]){boxShortId=DIGIOH_LIGHTBOX_IDS[lbguid];}
this.VARS.lightbox_events[boxShortId]=this.parseLightboxEvents(parts[x]);}}}else if(cookieVal.indexOf("id:")==0&&cookieVal.indexOf('*')>0){lbguid=cookieVal.split('*')[0].split(':')[1];this.VARS.lightbox_events[boxShortId]=this.parseLightboxEvents(cookieVal);}
DIGIOH_STORAGE.data[cookieName]=this.VARS.lightbox_events;DIGIOH_STORAGE.set();}else if(typeof cookieVal==='string'&&cookieVal.indexOf('{')===0){this.VARS.lightbox_events=JSON.parse(cookieVal);case2or3=true;}else if(typeof cookieVal==='object'&&cookieVal!==null){this.VARS.lightbox_events=cookieVal;case2or3=true;}
if(case2or3&&this.VARS.lightbox_events){for(var guid in this.VARS.lightbox_events){if(typeof guid==='string'&&guid.length>30&&this.VARS.lightbox_events.hasOwnProperty(guid)&&typeof this.VARS.lightbox_events[guid]==='object'){if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(guid)&&DIGIOH_LIGHTBOX_IDS[guid]){boxShortId=DIGIOH_LIGHTBOX_IDS[guid];this.VARS.lightbox_events[boxShortId]=DIGIOH_API.LIGHTBOX.cloneObj(this.VARS.lightbox_events[guid]);delete this.VARS.lightbox_events[guid];for(var eventKey in this.VARS.lightbox_events[boxShortId]){if(typeof guid==='string'&&eventKey.length>1&&this.VARS.lightbox_events[boxShortId].hasOwnProperty(eventKey)&&typeof this.VARS.lightbox_events[boxShortId][eventKey]==='object'){var key=eventKey;if(key=='view')key='v';else if(key=='submit')key='s';else if(key=='redirect')key='r';else if(key=='download')key='d';else if(key=='close')key='c';this.VARS.lightbox_events[boxShortId][key]=DIGIOH_API.LIGHTBOX.cloneObj(this.VARS.lightbox_events[boxShortId][eventKey]);delete this.VARS.lightbox_events[boxShortId][eventKey];if(this.VARS.lightbox_events[boxShortId][key].hasOwnProperty('cnt')){this.VARS.lightbox_events[boxShortId][key]['c']=this.VARS.lightbox_events[boxShortId][key]['cnt'];delete this.VARS.lightbox_events[boxShortId][key]['cnt'];}
if(this.VARS.lightbox_events[boxShortId][key].hasOwnProperty('ts')){this.VARS.lightbox_events[boxShortId][key]['t']=DIGIOH_API.LIGHTBOX.cloneObj(this.VARS.lightbox_events[boxShortId][key]['ts']);delete this.VARS.lightbox_events[boxShortId][key]['ts'];}}}}}}}}}
catch(error){this.logError(error,"loadAllEventsByLightboxGuid");}};DIGIOH_ANALYTICS.prototype.getLightboxEventCount=function(eventKey,lightboxGUID,isLightboxIndependent,excludeLightboxGUID){var eventCount=0;try{var lbEvMap=this.VARS.lightbox_events;var viewTimestamp=0;var boxShortId='';if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lightboxGUID)&&DIGIOH_LIGHTBOX_IDS[lightboxGUID]){boxShortId=DIGIOH_LIGHTBOX_IDS[lightboxGUID];}
var excludeBoxShortId='';if(excludeLightboxGUID&&DIGIOH_LIGHTBOX_IDS.hasOwnProperty(excludeLightboxGUID)&&DIGIOH_LIGHTBOX_IDS[excludeLightboxGUID]){excludeBoxShortId=DIGIOH_LIGHTBOX_IDS[excludeLightboxGUID];}
var key=eventKey;if(key=='view')key='v';else if(key=='submit')key='s';else if(key=='redirect')key='r';else if(key=='download')key='d';else if(key=='close')key='c';for(lbid in lbEvMap){if((lbid==boxShortId||isLightboxIndependent)&&lbEvMap.hasOwnProperty(lbid)&&lbEvMap[lbid].hasOwnProperty(key)){if(!isLightboxIndependent&&lbid==boxShortId)
eventCount+=lbEvMap[lbid][key]['c'];else if(isLightboxIndependent&&excludeBoxShortId=='')
eventCount+=lbEvMap[lbid][key]['c'];else if(isLightboxIndependent&&excludeBoxShortId!=''&&excludeBoxShortId!=lbid)
eventCount+=lbEvMap[lbid][key]['c'];}}
return eventCount;}
catch(error){this.logError(error,"getLightboxEventCount");}
return eventCount;};DIGIOH_ANALYTICS.prototype.getEventCountByLightbox=function(eventKey,lightboxGUID){return this.getLightboxEventCount(eventKey,lightboxGUID,false,'');};DIGIOH_ANALYTICS.prototype.getEventCountAcrossAllLightboxes=function(eventKey){return this.getLightboxEventCount(eventKey,'',true,'');};DIGIOH_ANALYTICS.prototype.getEventCountAcrossAllLightboxesExcept=function(eventKey,excludeLightboxGUID){return this.getLightboxEventCount(eventKey,'',true,excludeLightboxGUID);};DIGIOH_ANALYTICS.prototype.setCurrent=function(){try{var maxCookieLength=3000000;var cookieName="__bxcurr";var cookieVal=DIGIOH_STORAGE.data[cookieName];var timestamp=new Date().getTime();var referring_url="";var search_engine="";if(window.parent.document.referrer&&window.parent.document.referrer.length>7){referring_url=window.parent.document.referrer;search_engine=this.getSearchEngine(referring_url);}
var current_url="";var domain_base="";var domain_ending="";var domain_protocol="";if(window.parent.location.href){current_url=window.parent.location.href;domain_protocol=window.parent.location.protocol;domain_base=window.parent.location.host;domain_ending=window.parent.location.pathname+window.parent.location.search+window.parent.location.hash;this.VARS.current_page_url=current_url;}
if(current_url.indexOf('/static/amp_iframe.html')>0&&typeof parent.PARENT_URL==='string'&&parent.PARENT_URL.indexOf('.')>0){if(parent.PARENT_URL.indexOf('://')>0){current_url=parent.PARENT_URL;domain_base=current_url.split('://')[1].split('/')[0].split('?')[0].split('#')[0];}else{current_url='https://'+parent.PARENT_URL;domain_base=parent.PARENT_URL.split('/')[0].split('?')[0].split('#')[0];}
this.VARS.current_page_url=current_url;}
var areMatchingDomains=this.doSubdomainsMatch(referring_url,current_url);var foundReferrer=referring_url.length>0;if(cookieVal){if(areMatchingDomains){this.OverwriteCurrentCookie=false;}
else if(this.isGoogleAdWordsUrl(current_url,referring_url,search_engine)){this.OverwriteCurrentCookie=true;}
else if(foundReferrer&&this.isFacebookUrl(referring_url)){this.OverwriteCurrentCookie=true;}
else if(foundReferrer&&search_engine!==""){this.OverwriteCurrentCookie=true;this.VARS.search_engine=search_engine;}
else if(foundReferrer&&!areMatchingDomains){this.OverwriteCurrentCookie=true;}}
else{cookieVal="";this.OverwriteCurrentCookie=true;}
if(this.VARS.IsPreview){this.OverwriteCurrentCookie=true;}
var cobj={};if(typeof cookieVal==='object'&&cookieVal!==null){cobj=cookieVal;}
else if(typeof cookieVal==='string'&&cookieVal.length>1&&cookieVal.indexOf('{')===0&&cookieVal.substring(cookieVal.length-1)==='}'){cobj=JSON.parse(cookieVal);}
this.PreviousPageviewTs=0;if(cobj.hasOwnProperty('ppts')){this.PreviousPageviewTs=cobj['ppts'];}
cobj['ppts']=timestamp;if(this.PreviousPageviewTs==0&&cobj.hasOwnProperty('lts')){this.PreviousPageviewTs=cobj['lts'];}
this.VARS.page_visits=0;if(cobj.hasOwnProperty('pvcnt')){this.VARS.page_visits=cobj['pvcnt']+1;cobj['pvcnt']=cobj['pvcnt']+1;}else{this.VARS.page_visits=1;cobj['pvcnt']=1;}
this.IsNewSession=false;if(timestamp-this.PreviousPageviewTs>this.SessionLengthTicks){this.SessionStart=timestamp;this.IsNewSession=true;}
else if(cobj.hasOwnProperty('ss')){this.SessionStart=cobj['ss'];this.IsNewSession=false;}
if(this.SessionStart==0){this.SessionStart=timestamp;this.IsNewSession=true;}
this.VARS.page_visits_session=0;if(this.IsNewSession){cobj['ss']=this.SessionStart;this.VARS.page_visits_session=1;cobj['pvscnt']=1;this.logger("New Session: "+new Date(this.SessionStart).toLocaleString());}
else{if(cobj.hasOwnProperty('pvscnt')){this.VARS.page_visits_session=cobj['pvscnt']+1;cobj['pvscnt']=cobj['pvscnt']+1;}else{this.VARS.page_visits_session=1;cobj['pvscnt']=1;}
this.logger("Existing Session: "+new Date(this.SessionStart).toLocaleString());}
var max_url_length=300;if(typeof DIGIOH_STORAGE_TYPE==='string'&&DIGIOH_STORAGE_TYPE==='local_storage')
max_url_length=5000;if(this.OverwriteCurrentCookie||!cobj.hasOwnProperty('rurl'))cobj['rurl']=((referring_url.length>max_url_length)?referring_url.substr(0,max_url_length):referring_url);if(this.OverwriteCurrentCookie||!cobj.hasOwnProperty('lurl'))cobj['lurl']=((domain_ending.length>max_url_length)?domain_ending.substr(0,max_url_length):domain_ending);if(this.OverwriteCurrentCookie||!cobj.hasOwnProperty('lts'))cobj['lts']=timestamp;if(this.OverwriteCurrentCookie||!cobj.hasOwnProperty('ppts'))cobj['ppts']=timestamp;if(this.OverwriteCurrentCookie||!cobj.hasOwnProperty('pvcnt'))cobj['pvcnt']=this.VARS.page_visits;if(this.OverwriteCurrentCookie||!cobj.hasOwnProperty('ss'))cobj['ss']=this.SessionStart;if(cobj.hasOwnProperty('dom'))delete cobj['dom'];if(cobj.hasOwnProperty('prot'))delete cobj['prot'];if(cobj.hasOwnProperty('dev'))delete cobj['dev'];if(cobj.hasOwnProperty('os'))delete cobj['os'];if(cobj.hasOwnProperty('bt'))delete cobj['bt'];if(cobj.hasOwnProperty('bv'))delete cobj['bv'];if(cobj.hasOwnProperty('ip'))delete cobj['ip'];if(cobj.hasOwnProperty('geo_co'))delete cobj['geo_co'];if(cobj.hasOwnProperty('geo_cc'))delete cobj['geo_cc'];if(cobj.hasOwnProperty('geo_cn'))delete cobj['geo_cn'];if(cobj.hasOwnProperty('geo_rn'))delete cobj['geo_rn'];if(cobj.hasOwnProperty('geo_s'))delete cobj['geo_s'];if(cobj.hasOwnProperty('geo_c'))delete cobj['geo_c'];if(cobj.hasOwnProperty('geo_z'))delete cobj['geo_z'];if(cobj.hasOwnProperty('geo_lat'))delete cobj['geo_lat'];if(cobj.hasOwnProperty('geo_lon'))delete cobj['geo_lon'];if(cobj.hasOwnProperty('geo_mc'))delete cobj['geo_mc'];if(cobj.hasOwnProperty('geo_tz'))delete cobj['geo_tz'];if(cobj.hasOwnProperty('geo_ac'))delete cobj['geo_ac'];var purlsArr=[];if(cobj.hasOwnProperty('purl')){if(cobj['purl'].length>1){purlsArr=cobj['purl'].join('|').split('|');}else if(cobj['purl'].length===1){purlsArr.push(cobj['purl'][0]);}}else if(DIGIOH_STORAGE.storage_type==='cookie'){purlsArr=DIGIOH_LOCAL_STORAGE.getManual('xdibx_pgsnavurls');if(typeof purlsArr==='string'&&purlsArr.length>4&&purlsArr.indexOf('[')<0){purlsArr=JSON.parse(LZString.decompressFromBase64(purlsArr));}else if(typeof purlsArr==='string'&&purlsArr.length>4&&purlsArr.indexOf('[')>=0){purlsArr=JSON.parse(purlsArr);}}
if(!this.OverwriteCurrentCookie&&domain_ending.length>0){if(!purlsArr.length){purlsArr=[domain_ending];}
else{var purls=purlsArr.join('|');if(domain_ending.length>0&&purls.indexOf(domain_ending)===-1&&(purls.length+domain_ending.length)<50000){purlsArr.push(domain_ending);}}}
if(DIGIOH_STORAGE.storage_type==='cookie'){DIGIOH_LOCAL_STORAGE.setManual('xdibx_pgsnavurls',purlsArr);if(cobj.hasOwnProperty('purl'))delete cobj['purl'];}else{cobj['purl']=purlsArr;}
if(typeof DIGIOH_BUGSNAG!=='undefined'&&DIGIOH_BUGSNAG!==null){var actualLenth=JSON.stringify(cobj).length;if(actualLenth>maxCookieLength){DIGIOH_BUGSNAG.notify(this.VARS.VendorGuid+"_LocalStorage_"+maxCookieLength,this.VARS.VendorGuid+" LocalStorage length greater than "+maxCookieLength+" ("+actualLenth+")");}}
DIGIOH_STORAGE.data[cookieName]=cobj;DIGIOH_STORAGE.set();this.RanSetCurrent=true;}
catch(error){this.logError(error,"setCurrent");}};DIGIOH_ANALYTICS.prototype.getCurrent=function(){try{var cookieName="__bxcurr";var cookieVal=DIGIOH_STORAGE.data[cookieName];if(cookieVal){var cobj={};if(typeof cookieVal==='string'&&cookieVal.length>1&&cookieVal.indexOf('{')===0&&cookieVal.substring(cookieVal.length-1)==='}'){cobj=JSON.parse(cookieVal);}else if(typeof cookieVal==='object'&&cookieVal!==null){cobj=cookieVal;}
var domain_protocol=window.parent.location.protocol;var domain_base=window.parent.location.host;this.logger('getCurrent > domain_base = '+domain_base);if(cobj.hasOwnProperty('lurl')){this.VARS.landing_page=domain_protocol+"//"+domain_base+cobj['lurl'];}
var refUrl=cobj.hasOwnProperty('rurl')&&cobj['rurl']?cobj['rurl']:'';this.VARS.referring_website_url=refUrl;var search_engine=this.getSearchEngine(refUrl);this.VARS.search_engine=search_engine;var isAdWords=false;var isSearchEngine=false;if(this.isFacebookUrl(refUrl)){this.VARS.web_source="Facebook";}else if(this.isAndroidAppUrl(refUrl)){this.VARS.web_source="Android App";}else if(this.isGoogleAdWordsUrl(this.VARS.landing_page,refUrl,search_engine)){this.VARS.web_source="Google AdWords";isAdWords=true;}else if(search_engine!==""){this.VARS.web_source="Organic Search";isSearchEngine=true;}
try{if(this.VARS.landing_page||cobj.hasOwnProperty('lurl')){if(this.VARS.referring_website_url.length>0&&this.VARS.web_source!="Google AdWords"&&this.VARS.web_source!="Organic Search"&&!this.doSubdomainsMatch(this.VARS.referring_website_url,this.VARS.landing_page)){this.VARS.web_source="Referring Website";}
if(this.VARS.landing_page.length>0&&this.VARS.landing_page.indexOf('?')!==-1){var queryString=this.VARS.landing_page.split('?')[1];if(queryString.length>0&&queryString.indexOf('=')!==-1){var queryVars=queryString.split('&');for(var i=0;i<queryVars.length;i++){var pair=queryVars[i].split('=');var pairKey=decodeURIComponent(pair[0]).toLowerCase();if(pairKey=="utm_source"||pairKey=="utm_campaign_source"||pairKey=="campaign_source"){this.VARS.utm_campaign_source=decodeURIComponent(pair[1]).split("+").join(" ");}
else if(pairKey=="utm_medium"||pairKey=="utm_campaign_medium"||pairKey=="campaign_medium"){this.VARS.utm_campaign_medium=decodeURIComponent(pair[1]).split("+").join(" ");}
else if(pairKey=="utm_term"||pairKey=="utm_campaign_term"||pairKey=="campaign_term"){this.VARS.utm_campaign_term=decodeURIComponent(pair[1]).split("+").join(" ");}
else if(pairKey=="utm_content"||pairKey=="utm_campaign_content"||pairKey=="campaign_content"){this.VARS.utm_campaign_content=decodeURIComponent(pair[1]).split("+").join(" ");}
else if(pairKey=="utm_campaign"||pairKey=="utm_campaign_name"||pairKey=="campaign_name"){this.VARS.utm_campaign_name=decodeURIComponent(pair[1]).split("+").join(" ");}}}}}}
catch(err){}
if(!this.VARS.ip_address&&cobj.hasOwnProperty('ip')&&cobj['ip']){this.VARS.ip_address=cobj['ip'];this.VARS.landing_page_ip=this.VARS.ip_address;}
if(!this.VARS.device&&cobj.hasOwnProperty('dev')&&cobj['dev'])
this.VARS.device=cobj['dev'];if(!this.VARS.operating_system&&cobj.hasOwnProperty('os')&&cobj['os'])
this.VARS.operating_system=cobj['os'];if(!this.VARS.browser_type&&cobj.hasOwnProperty('bt')&&cobj['bt'])
this.VARS.browser_type=cobj['bt'];if(!this.VARS.browser_version&&cobj.hasOwnProperty('bv')&&cobj['bv'])
this.VARS.browser_version=cobj['bv'];if(!this.VARS.date_of_visit&&cobj.hasOwnProperty('lts')&&cobj['lts'])
this.VARS.date_of_visit=cobj['lts'];if(!this.VARS.continent&&cobj.hasOwnProperty('geo_co')&&cobj['geo_co'])
this.VARS.continent=cobj['geo_co'];if(!this.VARS.country&&cobj.hasOwnProperty('geo_cc')&&cobj['geo_cc'])
this.VARS.country=cobj['geo_cc'];if(!this.VARS.country_name&&cobj.hasOwnProperty('geo_cn')&&cobj['geo_cn'])
this.VARS.country_name=cobj['geo_cn'];if(!this.VARS.region_name&&cobj.hasOwnProperty('geo_rn')&&cobj['geo_rn'])
this.VARS.region_name=cobj['geo_rn'];if(!this.VARS.state&&cobj.hasOwnProperty('geo_s')&&cobj['geo_s'])
this.VARS.state=cobj['geo_s'];if(!this.VARS.city&&cobj.hasOwnProperty('geo_c')&&cobj['geo_c'])
this.VARS.city=cobj['geo_c'];if(!this.VARS.zipcode&&cobj.hasOwnProperty('geo_z')&&cobj['geo_z'])
this.VARS.zipcode=cobj['geo_z'];if(!this.VARS.latitude&&cobj.hasOwnProperty('geo_lat')&&cobj['geo_lat'])
this.VARS.latitude=cobj['geo_lat'];if(!this.VARS.longitude&&cobj.hasOwnProperty('geo_lon')&&cobj['geo_lon'])
this.VARS.longitude=cobj['geo_lon'];if(!this.VARS.metro_code&&cobj.hasOwnProperty('geo_mc')&&cobj['geo_mc'])
this.VARS.metro_code=cobj['geo_mc'];if(!this.VARS.time_zone&&cobj.hasOwnProperty('geo_tz')&&cobj['geo_tz'])
this.VARS.time_zone=cobj['geo_tz'];if(!this.VARS.area_code&&cobj.hasOwnProperty('geo_ac')&&cobj['geo_ac'])
this.VARS.area_code=cobj['geo_ac'];var pvCurr='';var pvTempArray=new Array();var pvResultArray=new Array();if(this.VARS.landing_page.length>0){this.VARS.pages_navigated=this.VARS.landing_page+"|";pvResultArray.push(this.VARS.landing_page);}
if(DIGIOH_STORAGE.storage_type==='cookie'){pvTempArray=DIGIOH_LOCAL_STORAGE.getManual('xdibx_pgsnavurls');}
else if(cobj.hasOwnProperty('purl')&&cobj['purl'].length>0){pvTempArray=cobj['purl'];}
if(typeof pvTempArray==='object'&&pvTempArray.length>0){for(var i=0;i<pvTempArray.length;i++){if(pvTempArray[i].length>0){pvCurr=domain_protocol+"//"+domain_base+pvTempArray[i];pvResultArray.push(pvCurr);this.VARS.pages_navigated+=pvCurr+"|";}}
if(this.VARS.pages_navigated.indexOf("|")>=0){this.VARS.pages_navigated=this.VARS.pages_navigated.substring(0,this.VARS.pages_navigated.length-1);}
this.VARS.PagesNavigated=pvResultArray;}else if(this.VARS.landing_page.length>0){this.VARS.pages_navigated=this.VARS.landing_page;this.VARS.PagesNavigated=new Array();this.VARS.PagesNavigated.push(this.VARS.landing_page);}
if(this.VARS.pages_navigated.length===0||this.VARS.PagesNavigated.length===0){if(this.VARS.current_page_url.length>0){this.VARS.pages_navigated=this.VARS.current_page_url;this.VARS.PagesNavigated=new Array();this.VARS.PagesNavigated.push(this.VARS.current_page_url);}}
if(this.VARS.pages_navigated.length>0&&this.VARS.pages_navigated.indexOf(this.VARS.current_page_url)<0){this.VARS.pages_navigated+="|"+this.VARS.current_page_url;if(typeof this.VARS.PagesNavigated==='object'&&this.VARS.PagesNavigated){this.VARS.PagesNavigated.push(this.VARS.current_page_url);}}
if(this.VARS.PagesNavigated.length>=2&&this.VARS.PagesNavigated[0]==this.VARS.PagesNavigated[1])
{this.VARS.PagesNavigated.shift();}
this.logger('getCurrent > this.VARS.pages_navigated > '+this.VARS.pages_navigated.length);this.logger(this.VARS.pages_navigated);this.logger(this.VARS.PagesNavigated);if(this.VARS.date_of_visit>0){this.VARS.date_of_visit=new Date(this.VARS.date_of_visit);}else{this.VARS.date_of_visit=new Date();}}}
catch(error){this.logError(error,"getCurrent");}
return false;};DIGIOH_ANALYTICS.prototype.getCurrentEncoded=function(){try{return DIGIOH_COOKIE.getEncoded("__bxcurr");}
catch(error){this.logError(error,"getCurrentEncoded");}};DIGIOH_ANALYTICS.prototype.setPrevious=function(){try{var cookieName="__bxprev";var cookieVal=DIGIOH_STORAGE.data[cookieName];var timestamp=new Date().getTime();if(cookieVal&&((typeof cookieVal==='string'&&cookieVal.length>0)||(typeof cookieVal==='object'&&cookieVal.hasOwnProperty('days')))){this.IsNewVisitor=false;if(!this.VARS.IsPreview){var cobj={};if(typeof cookieVal==='object'){cobj=cookieVal;}
else if(typeof cookieVal==='string'&&cookieVal.indexOf('{')>=0&&cookieVal.indexOf('{')<=2){cobj=JSON.parse(cookieVal);}
if(cobj&&cobj.hasOwnProperty('days')){var allDays=cobj['days'];var prev=new Date(allDays[allDays.length-1]);prev=new Date(prev.getFullYear(),prev.getMonth(),prev.getDate(),0,0,0,0);var curr=new Date(timestamp);curr=new Date(curr.getFullYear(),curr.getMonth(),curr.getDate(),0,0,0,0);if(curr.getTime()>prev.getTime()){allDays.push(timestamp);if(DIGIOH_STORAGE.storage_type==='cookie'){while(allDays.length>5){allDays.splice(1,1);}}else{while(allDays.length>100){allDays.splice(1,1);}}
cobj['days']=allDays;DIGIOH_STORAGE.data[cookieName]=cobj;DIGIOH_STORAGE.set();}}
else if(typeof cookieVal==='string'&&cookieVal.length>0&&cookieVal.indexOf('|')>=0){var allDays=cookieVal.split("|");var prev=new Date(parseInt(allDays[allDays.length-1]));prev=new Date(prev.getFullYear(),prev.getMonth(),prev.getDate(),0,0,0,0);var curr=new Date(timestamp);curr=new Date(curr.getFullYear(),curr.getMonth(),curr.getDate(),0,0,0,0);if(curr.getTime()>prev.getTime()){allDays.push(timestamp+'');if(DIGIOH_STORAGE.storage_type==='cookie'){while(allDays.length>5){allDays.splice(1,1);}}else{while(allDays.length>100){allDays.splice(1,1);}}
var cobj={};cobj['days']=[];for(var i=0;i<allDays.length;i++){cobj['days'].push(parseInt(allDays[i]));}
DIGIOH_STORAGE.data[cookieName]=cobj;DIGIOH_STORAGE.set();}}}}
else{var cobj={};cobj['days']=[timestamp];DIGIOH_STORAGE.data[cookieName]=cobj;DIGIOH_STORAGE.set();}}
catch(error){this.logError(error,"setPrevious");}};DIGIOH_ANALYTICS.prototype.getPrevious=function(){try{var cookieName="__bxprev";var cookieVal=DIGIOH_STORAGE.data[cookieName];if(cookieVal){var cobj={};if(typeof cookieVal==='object'){cobj=cookieVal;}
else if(typeof cookieVal==='string'&&cookieVal.length>0&&cookieVal.indexOf('{')>=0&&cookieVal.indexOf('{')<=2){cobj=JSON.parse(cookieVal);}
if(cobj&&cobj.hasOwnProperty('days')){var timestamp_array=cobj['days'];this.VARS.past_visits=timestamp_array.length-1;for(var i=1;i<timestamp_array.length;i++){this.VARS.PastVisitsText+=this.formatDate(new Date(timestamp_array[i]));if(i<timestamp_array.length-1){this.VARS.PastVisitsText+=", ";}}}else{this.VARS.past_visits=0;this.VARS.PastVisitsText=this.formatDate(new Date().getTime());}}else{this.VARS.past_visits=0;this.VARS.PastVisitsText=this.formatDate(new Date().getTime());}}
catch(error){this.logError(error,"getPrevious");}};DIGIOH_ANALYTICS.prototype.getPreviousEncoded=function(){try{return DIGIOH_COOKIE.getEncoded("__bxprev");}
catch(error){this.logError(error,"getPreviousEncoded");}};DIGIOH_ANALYTICS.prototype.setDevice=function(){try{var headerValue=navigator.userAgent||navigator.vendor||window.opera;var mobileDevice="";var isMobileDevice=false;if(/(android|bb\d+|meego).+mobile|android|ipad|playbook|silk|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(headerValue)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(headerValue.substr(0,4))){isMobileDevice=true;}
if(isMobileDevice){if(/ipad/i.test(headerValue))mobileDevice="iPad";else if(/ipod/i.test(headerValue))mobileDevice="iPod";else if(/iphone/i.test(headerValue))mobileDevice="iPhone";else if(/android/i.test(headerValue))mobileDevice="Android";else if(/kindle/i.test(headerValue))mobileDevice="Kindle";else if(/blackberry|symbian/i.test(headerValue))mobileDevice="BlackBerry";else if(/windows (ce|phone)|iemobile/i.test(headerValue))mobileDevice="Windows Mobile";this.VARS.device="Phone/Tablet";}else{this.VARS.device="Desktop/Laptop";}
var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"unknown";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"unknown";this.OS=this.searchString(this.dataOS)||"unknown"},searchString:function(data){for(var i=0;i<data.length;i++){var dataString=data[i].string;var dataProp=data[i].prop;this.versionSearchString=data[i].versionSearch||data[i].identity;if(dataString){if(dataString.indexOf(data[i].subString)!==-1)return data[i].identity}else if(dataProp)return data[i].identity}},searchVersion:function(dataString){var index=dataString.indexOf(this.versionSearchString);if(index==-1)return;return parseFloat(dataString.substring(index+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};BrowserDetect.init();if(BrowserDetect.OS&&BrowserDetect.OS.length>0&&BrowserDetect.OS!="unknown"){if(BrowserDetect.OS=="Mac"){this.VARS.operating_system="Apple";}else if(BrowserDetect.OS.indexOf("iPhone")>-1){this.VARS.operating_system="Apple";this.VARS.device="Phone/Tablet";}else{this.VARS.operating_system=BrowserDetect.OS;}}else{this.VARS.operating_system="";}
if(mobileDevice!=""){this.VARS.device="Phone/Tablet";if(mobileDevice=="iPad"||mobileDevice=="iPod"||mobileDevice=="iPhone"){this.VARS.operating_system="Apple";this.VARS.device_apple=mobileDevice;}else if(mobileDevice=="Android"){this.VARS.operating_system="Android";}else if(mobileDevice=="Windows Mobile"){this.VARS.operating_system="Windows";}else if(mobileDevice=="Kindle"){this.VARS.operating_system="Kindle";}else if(mobileDevice=="BlackBerry"){this.VARS.operating_system="BlackBerry";}}
if(BrowserDetect.browser&&BrowserDetect.browser.length>0&&BrowserDetect.browser!="unknown"){if(this.VARS.browser_type===''){if(BrowserDetect.browser=="Explorer"){this.VARS.browser_type="Internet Explorer";}else if(BrowserDetect.browser=="Mozilla"&&this.VARS.operating_system=="Windows"){this.VARS.browser_type="Internet Explorer";}else{this.VARS.browser_type=BrowserDetect.browser;}}
if(BrowserDetect.version&&BrowserDetect.version!="unknown"){this.VARS.browser_version=BrowserDetect.version;}else{this.VARS.browser_version=0;}}}
catch(error){this.logError(error,"setDevice");}};DIGIOH_ANALYTICS.prototype.logger=function(msg,isJson){try{DIGIOH_API.log(msg);}
catch(e2){}};DIGIOH_ANALYTICS.prototype.logError=function(e,function_name){DIGIOH_API.logErrorFromAnalytics(e,function_name);};(function(window,document,iframewin,LZString){var STOPWATCH=new Date().getTime();var VENDOR_GUID=DIGIOH_VENDOR_GUID;var IS_PREVIEW=(typeof DIGIOH_IS_PREVIEW!=="undefined"&&DIGIOH_IS_PREVIEW===true);var IS_DEV=(typeof DIGIOH_IS_DEV!=="undefined"&&DIGIOH_IS_DEV==true);var IS_QA=(typeof DIGIOH_IS_QA!=="undefined"&&DIGIOH_IS_QA==true);var PROTOCOL=DIGIOH_API.CONFIG.PROTOCOL;var PROTOCOL_USER_OVERRIDE=DIGIOH_API.CONFIG.PROTOCOL_USER_OVERRIDE;var CLOSE_BUTTON_URL=PROTOCOL_USER_OVERRIDE+"cdn.jsdelivr.net/fancybox/2.1.5/fancybox_sprite.png";var BASE_URL=PROTOCOL_USER_OVERRIDE+document.location.href.split('/')[2];if(BASE_URL.indexOf('?')>0)BASE_URL=BASE_URL.split('?')[0];if(BASE_URL.indexOf('#')>0)BASE_URL=BASE_URL.split('#')[0];var SHOW_ERRORS=(typeof console!=="undefined"&&typeof DIGIOH_USE_CONSOLE!=="undefined"&&DIGIOH_USE_CONSOLE)||IS_DEV||IS_QA;var LIGHTBOX_GUID='';var CLIENT_GUID='';var KEEN_CLIENT='';var KEEN_CLIENT_2='';var WIDGET_DIV='';var CURRENT_IFRAME_SRC='';var SIDEBAR_ELEMENT_ID='';var CHILD_READY={};var GEO_IP={};var GEO_LOADED=false;var GEO_LOADING=false;var CLICK_SELECTORS=new Array();var HOVER_SELECTORS=new Array();var EXISTS_SELECTORS=new Array();var SCROLL_BOXES_ARR=new Array();var EXIT_BOXES_ARR=new Array();var TIME_BOXES_ARR=new Array();var LOADED_LIGHTBOXES=[];var ORIGINAL_ATTRIBUTES={};var KEEN_SCHEMA={};var LIGHTBOX_OPEN_TIME=0;var CURR_SCROLL_TOP=0;var TEASER_LIGHTBOX_GUIDS={};var FOCUSED_SIDEBAR_BANNER_GUIDS={};var PREVENT_SIDEBAR_CLOSE_GUIDS={};var ELIGIBLE_SIDEBAR_CLOSE_SCROLL_GUIDS={};var ELIGIBLE_SIDEBAR_CLOSE_SCROLL_SIDS={};var IS_REDIRECTING_PARENT=false;var IS_PREVIEW_EVENT=false;var CURR_TIME=0;var WAS_IMPRESSION_REGISTERED={};var WAS_REDIRECT_REGISTERED={};var WAS_SUBMIT_REGISTERED={};var WAS_DOWNLOAD_REGISTERED={};var WAS_CUSTOM_EVENT_REGISTERED={};var LIGHTBOX_TO_VARIATION_MAP={};var PRELOADED_LIGHTBOXES=[];var PRELOADED_LIGHTBOXES_LOADED=[];var TERMINATED_LIGHTBOXES={};var EFFECTS=DIGIOH_LIGHTBOX_EFFECTS;var CONDITION_SELECTOR_BOXES_MAP={};var SIDEBAR_CLOSE_MAP={};var BANNER_CLOSE_MAP={};var LOADED_BOX_DOM_ID_MAP={};var MOBILE_SCROLL_TOP_MAP={};var COOKIES_DISABLED=false;var DIGIOH_IDENTITY_CHILD_IFRAME=null;var DIGIOH_IS_READY=false;var CONDITIONS_OUTPUT={};var jqWin;var jqDoc;var body;var TS_EVAL_PREV={};var SS_EVAL_PREV={};var IDLE_PERIOD=5;var IDLE_INTERVAL=0;var TOTAL_INTERVAL=0;var IDLE_TIME=0;var TOTAL_TIME=0;var ERROR_LOG_TEMP_ARR=[];var AB_BOXES_TAKE_MAP={};var AB_BOXES_SKIP_MAP={};var BLIP_ARR=[];var BLIP_MATCHED=-1;var FirebaseRef=null;var IsFirebaseRefSet=false;var FirebaseTimeOffset=0;var IsFirebaseTimeSet=false;var IsFirebaseLoaded=false;var AfterDomLoadedHasRun=false;var FANCY_REPOSITION_LOCKED={};var CURRENT_PAGE_DIMS_RESPONSIVE={};var CURRENT_PAGE_DIMS={};var CURRENT_PAGE={};var ANALYTICS_JSONP_RESPONSE={};var INIT_DEPENDENT_SCRIPTS_HAS_RUN=false;var IS_LIGHTBOX_CLOSING={};var isEmbedInlineLightboxConditionsFormsFinished=false;var DIGIOH_LIGHTBOX_INLINE_DISPLAYED=[];if(typeof DIGIOH_LIGHTBOX_NAMES==='undefined'){DIGIOH_LIGHTBOX_NAMES={};}
if(typeof DIGIOH_LIGHTBOX_IDS==='undefined'){DIGIOH_LIGHTBOX_IDS={};}
if(typeof DIGIOH_LIGHTBOX_TEASER_PRELOAD_ARR==='undefined'){DIGIOH_LIGHTBOX_TEASER_PRELOAD_ARR=[];}
if(typeof DIGIOH_LIGHTBOX_TEASER_FOLLOW_ME_ARR==='undefined'){DIGIOH_LIGHTBOX_TEASER_FOLLOW_ME_ARR=[];}
if(typeof DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR==='undefined'){DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR=[];}
if(typeof DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR==='undefined'){DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR=[];}
if(typeof DIGIOH_LIGHTBOX_INLINE_DEPENDENT_ARR==='undefined'){DIGIOH_LIGHTBOX_INLINE_DEPENDENT_ARR=[];}
function hideEmbedDivContainer(){var wd=document.getElementById(VENDOR_GUID);if(wd!==null)wd.style.display='none';}
function appendFbDigiohCss(){var h=document.head||document.getElementsByTagName('head')[0];var l=document.createElement('link');l.type='text/css';l.rel='stylesheet';l.media='screen';l.href=DIGIOH_API.CONFIG.BOX_BASE_URL+'/static/fb_lightbox.2.1.5.css'+'?cb='+DIGIOH_CACHE_VERSION;h.appendChild(l);}
function preloadEffectsImages(){if(typeof DIGIOH_EFFECTS_IMAGE_CACHE_ARR!=="undefined"&&DIGIOH_EFFECTS_IMAGE_CACHE_ARR.length>0){var preloadedImages=new Array();for(var i=0;i<DIGIOH_EFFECTS_IMAGE_CACHE_ARR.length;i++){preloadedImages[i]=new Image();preloadedImages[i].src=DIGIOH_API.CONFIG.S3_BASE_URL+"/vendors/"+VENDOR_GUID+"/uploads/"+DIGIOH_EFFECTS_IMAGE_CACHE_ARR[i];}
var preloadedCloseButton=new Image();preloadedCloseButton.src=CLOSE_BUTTON_URL;}}
function preloadSettingsImages(){if(typeof DIGIOH_SETTINGS_IMAGE_CACHE_ARR!=="undefined"&&DIGIOH_SETTINGS_IMAGE_CACHE_ARR.length>0){var preloadedImages=new Array();for(var i=0;i<DIGIOH_SETTINGS_IMAGE_CACHE_ARR.length;i++){preloadedImages[i]=new Image();preloadedImages[i].src=DIGIOH_API.CONFIG.S3_BASE_URL+"/vendors/"+VENDOR_GUID+"/uploads/"+DIGIOH_SETTINGS_IMAGE_CACHE_ARR[i];}}}
var generateGuidWithTimestamp=function(){var ts=new Date().getTime();return generateGuid()+'-'+ts;}
var generateGuid=function(){var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:(r&0x3|0x8);return v.toString(16);});return uuid;}
function loadClientGuid(){try{if(!DIGIOH_STORAGE.data.hasOwnProperty("__bxcid")||typeof DIGIOH_STORAGE.data["__bxcid"]!=='string'||DIGIOH_STORAGE.data["__bxcid"].length<7){DIGIOH_STORAGE.data["__bxcid"]=generateGuidWithTimestamp();}
CLIENT_GUID=DIGIOH_STORAGE.data["__bxcid"];}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"loadClientGuid");}}
var getClientGuid=function(){return CLIENT_GUID;};var removeOldCookieData=function(foundData){try{var cookieVal='';if(!foundData){cookieVal=DIGIOH_COOKIE.get(DIGIOH_VENDOR_GUID);if(cookieVal==null||cookieVal.length==0){cookieVal=DIGIOH_COOKIE.get('xdibx');}
if(cookieVal!==null&&cookieVal.length>0&&cookieVal.indexOf("{")>=0&&cookieVal.indexOf("{")<=2){var json=JSON.parse(cookieVal);if(typeof json==='object'&&json!==null&&json.hasOwnProperty('__bxcurr')){DIGIOH_STORAGE.data=json;DIGIOH_STORAGE.set();foundData=true;}}}
if(!foundData){DIGIOH_STORAGE.data={};cookieVal=DIGIOH_COOKIE.get("__bxcurr");if(cookieVal!==null&&cookieVal.length>0&&cookieVal.indexOf("{")>=0&&cookieVal.indexOf("{")<=2){DIGIOH_STORAGE.data["__bxcurr"]=JSON.parse(cookieVal);}else if(cookieVal!==null&&cookieVal){DIGIOH_STORAGE.data["__bxcurr"]=cookieVal;}else{DIGIOH_STORAGE.data["__bxcurr"]={};}
cookieVal=DIGIOH_COOKIE.get("__bxprev");if(cookieVal!==null&&cookieVal.length>0&&cookieVal.indexOf("{")>=0&&cookieVal.indexOf("{")<=2){DIGIOH_STORAGE.data["__bxprev"]=JSON.parse(cookieVal);}else if(cookieVal!==null&&cookieVal){DIGIOH_STORAGE.data["__bxprev"]=cookieVal;}else{DIGIOH_STORAGE.data["__bxprev"]={};}
cookieVal=DIGIOH_COOKIE.get("__bxevents");if(cookieVal!==null&&cookieVal.length>0&&cookieVal.indexOf("{")>=0&&cookieVal.indexOf("{")<=2){DIGIOH_STORAGE.data["__bxevents"]=JSON.parse(cookieVal);}else if(cookieVal!==null&&cookieVal){DIGIOH_STORAGE.data["__bxevents"]=cookieVal;}else{DIGIOH_STORAGE.data["__bxevents"]={};}
cookieVal=DIGIOH_COOKIE.getEncoded("__bxcid");if(cookieVal!==null&&cookieVal.length>0){DIGIOH_STORAGE.data["__bxcid"]=cookieVal;DIGIOH_API.log('found existing client_id: '+cookieVal);}else{DIGIOH_STORAGE.data["__bxcid"]=generateGuidWithTimestamp();DIGIOH_API.log('generated new client_id: '+DIGIOH_STORAGE.data["__bxcid"]);}
DIGIOH_STORAGE.set();}
if(DIGIOH_STORAGE.storage_type==='local_storage'||(DIGIOH_STORAGE.storage_type==='cross_domain'&&DIGIOH_CROSS_DOMAIN.isWorking)){if(DIGIOH_COOKIE.get(DIGIOH_VENDOR_GUID,true)!==null)
DIGIOH_COOKIE.erase(DIGIOH_VENDOR_GUID);if(DIGIOH_COOKIE.get('xdibx',true)!==null)
DIGIOH_COOKIE.erase('xdibx');}
if(!DIGIOH_STORAGE.data.hasOwnProperty("__bxcurr")){DIGIOH_STORAGE.data["__bxcurr"]={};}
if(!DIGIOH_STORAGE.data.hasOwnProperty("__bxprev")){DIGIOH_STORAGE.data["__bxprev"]={};}
if(!DIGIOH_STORAGE.data.hasOwnProperty("__bxevents")){DIGIOH_STORAGE.data["__bxevents"]={};}
if(!DIGIOH_STORAGE.data.hasOwnProperty("__bxcid")){DIGIOH_STORAGE.data["__bxcid"]=generateGuidWithTimestamp();}
DIGIOH_COOKIE.erase('__bxcurr');DIGIOH_COOKIE.erase('__bxprev');DIGIOH_COOKIE.erase('__bxevents');DIGIOH_COOKIE.erase('__bxcid');DIGIOH_COOKIE.erase('__bxtest');DIGIOH_COOKIE.erase('__lbxcurr');DIGIOH_COOKIE.erase('__lbxprev');DIGIOH_COOKIE.erase('__lbxevents');DIGIOH_COOKIE.erase('__lbxcid');if(DIGIOH_STORAGE.storage_type==='local_storage'||DIGIOH_STORAGE.storage_type==='cross_domain'){DIGIOH_COOKIE.erase('xdibx');}
afterDomLoadedAndStorageLoadedAndPostMessageInit();}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"removeOldCookieData");afterDomLoadedAndStorageLoadedAndPostMessageInit();}};var loadAllClientSideDataFromClientStorage=function(){try{DIGIOH_API.log('loadAllClientSideDataFromClientStorage() --> storage_type = '+DIGIOH_STORAGE.storage_type);DIGIOH_STORAGE.get(function(val){var foundData=false;var useLZ=(typeof USE_LZ==='undefined'||USE_LZ==true);if(typeof val==='string'&&val.length>7){var jsonStr=val;if(useLZ||val.indexOf('{')<0){jsonStr=LZString.decompressFromBase64(val);}
if(jsonStr&&jsonStr.indexOf('{')===0){DIGIOH_API.log('compressed / json : '+val.length+' / '+jsonStr.length);var json=JSON.parse(jsonStr);if(typeof json==='object'&&json!==null&&json.hasOwnProperty('__bxcurr')){DIGIOH_STORAGE.data=json;foundData=true;DIGIOH_API.log(DIGIOH_STORAGE.data);}}}
removeOldCookieData(foundData);});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"loadAllClientSideDataFromClientStorage");removeOldCookieData(false);}};function setIsCrossDomainStorageWorking(cnt){try{var testVal='abcxyz';DIGIOH_CROSS_DOMAIN.setManual('__bxtest',testVal);DIGIOH_CROSS_DOMAIN.getManual('__bxtest',function(val){DIGIOH_CROSS_DOMAIN.isWorkingFinished=true;var useLZ=(typeof USE_LZ==='undefined'||USE_LZ==true);if(typeof val==='string'&&useLZ&&LZString.decompressFromBase64(val)===testVal){DIGIOH_CROSS_DOMAIN.isWorking=true;}else if(typeof val==='string'&&!useLZ&&val===testVal){DIGIOH_CROSS_DOMAIN.isWorking=true;}else{DIGIOH_CROSS_DOMAIN.isWorking=false;}
if(!DIGIOH_CROSS_DOMAIN.isWorking&&cnt<5){if(useLZ){DIGIOH_API.log('setIsCrossDomainStorageWorking failed: cnt='+cnt+', val='+LZString.decompressFromBase64(val)+', testVal='+testVal);}else{DIGIOH_API.log('setIsCrossDomainStorageWorking failed: cnt='+cnt+', val='+val+', testVal='+testVal);}
var newCnt=cnt+1;setTimeout(setIsCrossDomainStorageWorking,1000,newCnt);}else{DIGIOH_API.log('setIsCrossDomainStorageWorking('+cnt+') ==> succeeded');loadAllClientSideDataFromClientStorage();}});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setIsCrossDomainStorageWorking");DIGIOH_CROSS_DOMAIN.isWorking=false;DIGIOH_API.log('setIsCrossDomainStorageWorking exception: cnt='+cnt);loadAllClientSideDataFromClientStorage();}}
var areCookiesDisabled=function(){try{if(COOKIES_DISABLED){return true;}
DIGIOH_COOKIE.setDecoded('__bxtest','xyz');var cv=DIGIOH_COOKIE.getEncoded('__bxtest');if(cv!==null&&cv==='xyz'){COOKIES_DISABLED=false;DIGIOH_COOKIE.erase('__bxtest');return false;}else{COOKIES_DISABLED=true;return true;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"areCookiesDisabled");COOKIES_DISABLED=true;return true;}};function setKeenSchemaAfterDevice(){if(typeof KEEN_SCHEMA==='object'&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.primaryHardwareType){KEEN_SCHEMA.device_atlas={primaryHardwareType:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.primaryHardwareType,isApp:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isApp,isTablet:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isTablet,isMobilePhone:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isMobilePhone,model:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.model,vendor:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.vendor,touchScreen:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.touchScreen,osName:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osName,osVersion:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osVersion,browserName:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.browserName,browserVersion:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.browserVersion,osAndroid:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osAndroid,osiOs:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osiOs,device_source:DIGIOH_LIGHTBOX_ANALYTICS.VARS.device_source};}}
function setKeenSchemaAfterGeo(){if(typeof KEEN_SCHEMA==='object'&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.ip_address&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.ip_address.length>=7){KEEN_SCHEMA.geoip={ip_address:DIGIOH_LIGHTBOX_ANALYTICS.VARS.ip_address,continent_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.continent,country_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.country,country_name:DIGIOH_LIGHTBOX_ANALYTICS.VARS.country_name,region_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.state,region_name:DIGIOH_LIGHTBOX_ANALYTICS.VARS.region_name,city:DIGIOH_LIGHTBOX_ANALYTICS.VARS.city,zipcode:DIGIOH_LIGHTBOX_ANALYTICS.VARS.zipcode,metro_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.metro_code,time_zone:DIGIOH_LIGHTBOX_ANALYTICS.VARS.time_zone,area_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.area_code,latitude:DIGIOH_LIGHTBOX_ANALYTICS.VARS.latitude,longitude:DIGIOH_LIGHTBOX_ANALYTICS.VARS.longitude,geo_source:DIGIOH_LIGHTBOX_ANALYTICS.VARS.geo_source,blip_matched:BLIP_MATCHED};}}
function tryLoadMaxmind(){try{var frameSrc=DIGIOH_API.CONFIG.BOX_BASE_URL+'/static/maxmind.html#'+encodeURIComponent(document.location.href);body.append("<iframe title='maxmind iframe' src='"+frameSrc+"' sandbox='allow-same-origin allow-top-navigation allow-scripts' width='1' height='1' frameborder='0' scrolling='no' style='position: absolute; right: -10px; top: -10px;'></iframe>");}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"tryLoadMaxmind");}}
function checkDocumentReadyState(){try{if(document.readyState==="complete"||document.readyState==="loaded"||document.readyState==="interactive"){logger("STOPWATCH (DOMContentLoaded) - "+Math.ceil((new Date().getTime()-STOPWATCH)/1000));afterDomLoaded();}else{setTimeout(checkDocumentReadyState,250);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"checkDocumentReadyState");}}
function afterScriptLoaded(){try{cfPageview();DIGIOH_API.trySessionPrint();DIGIOH_STORAGE.setStorageType();initKeen();logger("STOPWATCH (afterScriptLoaded) - "+Math.ceil((new Date().getTime()-STOPWATCH)/1000));if(localStorage.getItem('digioh_print_all')==='true'){DIGIOH_API.printAll();}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"afterScriptLoaded");}
try{JQUERY_DIGIOH(document).ready(function(){logger("STOPWATCH ($(document).ready) - "+Math.ceil((new Date().getTime()-STOPWATCH)/1000));afterDomLoaded();});checkDocumentReadyState();if(typeof ClientJsDomMaxWaitSeconds==='number'&&ClientJsDomMaxWaitSeconds>0){setTimeout(function(){logger("STOPWATCH (ClientJsDomMaxWaitSeconds) - "+Math.ceil((new Date().getTime()-STOPWATCH)/1000));afterDomLoaded();},ClientJsDomMaxWaitSeconds*1000);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"afterScriptLoaded");}}
function afterDomLoaded(){try{if(!AfterDomLoadedHasRun){AfterDomLoadedHasRun=true;logger("STOPWATCH (afterDomLoaded) - "+Math.ceil((new Date().getTime()-STOPWATCH)/1000));initPostMessageReceiver();if(DIGIOH_STORAGE.storage_type==='cross_domain'){DIGIOH_CROSS_DOMAIN.callbacks['999999999']=function(val){logger('identityChildReady999999999: '+val);setIsCrossDomainStorageWorking(0);};createIdentityIframe();setTimeout(function(){if(!DIGIOH_CROSS_DOMAIN.isWorkingFinished){logger('Calling setIsCrossDomainStorageWorking using short circuit!!!!');setIsCrossDomainStorageWorking(0);}else{logger('DIGIOH_CROSS_DOMAIN.isWorkingFinished: '+DIGIOH_CROSS_DOMAIN.isWorkingFinished.toString()+' (skipping short circuit)');}},2000);}
else if(DIGIOH_STORAGE.storage_type==='local_storage'){loadAllClientSideDataFromClientStorage();}
else if(DIGIOH_STORAGE.storage_type==='cookie'){loadAllClientSideDataFromClientStorage();}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"afterDomLoaded");}}
function afterDomLoadedAndStorageLoadedAndPostMessageInit(){try{loadClientGuid();jqWin=JQUERY_DIGIOH(window);jqDoc=JQUERY_DIGIOH(document);body=JQUERY_DIGIOH('body');if(JQUERY_DIGIOH('.digioh-lightbox-container').length){WIDGET_DIV=JQUERY_DIGIOH("div.digioh-lightbox-container:first");WIDGET_DIV.hide();}
preloadEffectsImages();preloadSettingsImages();initBugsnag();DIGIOH_LIGHTBOX_ANALYTICS=new DIGIOH_ANALYTICS(JQUERY_DIGIOH,SHOW_ERRORS,VENDOR_GUID,IS_PREVIEW,BASE_URL);initDigiohVars();if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.ip_address!==''){if(JQUERY_DIGIOH.inArray(DIGIOH_LIGHTBOX_ANALYTICS.VARS.ip_address,BLIP_ARR)>-1){BLIP_MATCHED=1;}else{BLIP_MATCHED=0;}}
analyticsGeoDeviceCDP();}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"afterDomLoadedAndStorageLoadedAndPostMessageInit");}}
function embedInlineLightboxAlwaysForms(){try{for(var i=0;i<DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR.length;i++){if(!DIGIOH_API.contains(DIGIOH_LIGHTBOX_INLINE_DISPLAYED,DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR[i])&&!AB_BOXES_SKIP_MAP.hasOwnProperty(DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR[i])){embedInlineLightboxForm(DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR[i]);}}
logger('embedInlineLightboxAlwaysForms: '+DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR.length);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"embedInlineLightboxAlwaysForms");}}
var embedInlineLightboxForm=async function(lid){try{if(!IS_PREVIEW){if(EFFECTS[lid].inline.position_using=='jquery_selector'){var jquery_selector=EFFECTS[lid].inline.jquery_selector;if(!EFFECTS[lid].inline.jquery_selector||!JQUERY_DIGIOH(EFFECTS[lid].inline.jquery_selector).length){logger('embedInlineLightboxForm: jquery_selector not found for '+lid+'('+jquery_selector+') short circuit return');return false;}}
else if(EFFECTS[lid].inline.position_using=='smart_tag'||EFFECTS[lid].inline.position_using=='google_amp'){var smart_tag='';if(var_id===lid){smart_tag='#variation-inline-form-'+var_id;}else{smart_tag='#lightbox-inline-form-'+lid;}
if(!JQUERY_DIGIOH(smart_tag).length){logger('embedInlineLightboxForm: smart_tag not found for '+lid+'('+smart_tag+') short circuit return');return false;}}}
var bpRes=await loadBreakpointsFile(lid);logger('embedInlineLightboxForm breakpoint_file_loaded, bpRes = '+bpRes);setPixelThreshold(lid,true);if(EFFECTS[lid].inline.removal_rules==='remove'){if(DIGIOH_LIGHTBOX_ANALYTICS.getEventCountByLightbox("submit",lid)>0||DIGIOH_LIGHTBOX_ANALYTICS.getEventCountByLightbox("redirect",lid)>0){logger('DIGIOH: Inline Form - Removal Rules - remove after conversion - '+lid);return false;}}
var var_id='';var orig_lid=lid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lid];var_id=lid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lid];}
if(var_id!==''&&var_id.length>7){lid=var_id;}
if(!IS_PREVIEW||IS_DEV){if(doesInlineLightboxHaveCustomJsType(lid,'display')||doesInlineLightboxHaveCustomJsType(lid,'all')){var customJsAppsResult=runCustomJsLinkedApps('BeforeDisplay',orig_lid,var_id);logger('JS_PARENT_APPS.runCustomJsBeforeLightboxDisplay - '+lid);if(customJsAppsResult===false){logger('JS_PARENT_APPS.runCustomJsBeforeLightboxDisplay - prevented lightbox '+lid+' from being displayed');return false;}
var customJsSuperResult=DIGIOH_CUSTOM_JS_SUPER.runCustomJsBeforeLightboxDisplay(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_GLOBAL.runCustomJsBeforeLightboxDisplay - '+lid);if(!customJsSuperResult){logger('JS_GLOBAL.runCustomJsBeforeLightboxDisplay - prevented lightbox '+lid+' from being displayed');return false;}
var customJsResult=DIGIOH_CUSTOM_JS.runCustomJsBeforeLightboxDisplay(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_PARENT.runCustomJsBeforeLightboxDisplay - '+lid);if(!customJsResult){logger('JS_PARENT.runCustomJsBeforeLightboxDisplay - prevented lightbox '+lid+' from being displayed');return false;}}}
var style='';var pref=getPagePref(lid);var is_responsive=false;if(EFFECTS[lid].hasOwnProperty(pref+'responsive')&&EFFECTS[lid][pref+'responsive'].use){is_responsive=true;}else{style+="width:"+getBoxWidth(lid)+"px;";style+="height:"+getBoxHeight(lid)+"px;";}
style+="z-index:9938010;";if(EFFECTS[lid].inline.border.style==='none'||EFFECTS[lid].inline.border.width==='0'||EFFECTS[lid].inline.border.width===0){style+='border-style:none;';style+='border-width:0px;';}else{style+='border-color:'+EFFECTS[lid].inline.border.color+';';style+='border-style:'+EFFECTS[lid].inline.border.style+';';style+='border-width:'+EFFECTS[lid].inline.border.width+'px;';style+='border-radius:'+EFFECTS[lid].inline.border.radius+'px;';}
var resPreloadIframe=false;if(IS_PREVIEW){style+='position:absolute;';if(is_responsive){style+='top:0;';style+='left:0;';}else{style+='top:50%;';style+='left:50%;';style+='margin-top:'+(1-Math.round(getBoxHeight(lid)/2))+'px;';style+='margin-left:'+(1-Math.round(getBoxWidth(lid)/2))+'px;';}
if(EFFECTS[lid].inline.css.indexOf(':')>0&&EFFECTS[lid].inline.css.indexOf(';')>0){style+=EFFECTS[lid].inline.css;}
resPreloadIframe=await preloadIframe(lid,style,'','','');}else if(EFFECTS[lid].inline.position_using=='absolute'||EFFECTS[lid].inline.position_using=='fixed'){style+='position:'+EFFECTS[lid].inline.position_using+';';if(EFFECTS[lid].inline.position.top>0||EFFECTS[lid].inline.position.bottom==0){style+='top:'+EFFECTS[lid].inline.position.top+'px;';}else{style+='bottom:'+EFFECTS[lid].inline.position.bottom+'px;';}
if(EFFECTS[lid].inline.position.left>0||EFFECTS[lid].inline.position.right==0){style+='left:'+EFFECTS[lid].inline.position.left+'px;';}else{style+='right:'+EFFECTS[lid].inline.position.right+'px;';}
if(EFFECTS[lid].inline.css.indexOf(':')>0&&EFFECTS[lid].inline.css.indexOf(';')>0){style+=EFFECTS[lid].inline.css;}
resPreloadIframe=await preloadIframe(lid,style,'','','');}else if(EFFECTS[lid].inline.position_using=='jquery_selector'){var jquery_selector=EFFECTS[lid].inline.jquery_selector;var jquery_method=EFFECTS[lid].inline.jquery_method;var clear='';if(!JQUERY_DIGIOH(jquery_selector).length){logger('embedInlineLightboxForm: jquery_selector not found for '+lid+'('+jquery_selector+')');return false;}
if(EFFECTS[lid].inline.margin.top>0)
style+='margin-top:'+EFFECTS[lid].inline.margin.top+'px;';if(EFFECTS[lid].inline.margin.right>0)
style+='margin-right:'+EFFECTS[lid].inline.margin.right+'px;';if(EFFECTS[lid].inline.margin.bottom>0)
style+='margin-bottom:'+EFFECTS[lid].inline.margin.bottom+'px;';if(EFFECTS[lid].inline.margin.left>0)
style+='margin-left:'+EFFECTS[lid].inline.margin.left+'px;';if(EFFECTS[lid].inline.float!=='none'&&EFFECTS[lid].inline.float!==''){style+='float:'+EFFECTS[lid].inline.float+';';if(EFFECTS[lid].inline.clear!=='none'&&EFFECTS[lid].inline.clear!==''){clear='<div style="float:none;clear:'+EFFECTS[lid].inline.clear+';"></div>';}}
if(EFFECTS[lid].inline.css.indexOf(':')>0&&EFFECTS[lid].inline.css.indexOf(';')>0){style+=EFFECTS[lid].inline.css;}
resPreloadIframe=await preloadIframe(lid,style,jquery_selector,jquery_method,clear);}else if(EFFECTS[lid].inline.position_using=='smart_tag'||EFFECTS[lid].inline.position_using=='google_amp'){var jquery_selector='';if(var_id===lid){jquery_selector='#variation-inline-form-'+var_id;}else{jquery_selector='#lightbox-inline-form-'+lid;}
if(!JQUERY_DIGIOH(jquery_selector).length){return false;}
var jquery_method=EFFECTS[lid].inline.jquery_method||'append';style+='margin-top:'+EFFECTS[lid].inline.margin.top+'px;';style+='margin-right:'+EFFECTS[lid].inline.margin.right+'px;';style+='margin-bottom:'+EFFECTS[lid].inline.margin.bottom+'px;';style+='margin-left:'+EFFECTS[lid].inline.margin.left+'px;';if(EFFECTS[lid].inline.css.indexOf(':')>0&&EFFECTS[lid].inline.css.indexOf(';')>0){style+=EFFECTS[lid].inline.css;}
resPreloadIframe=await preloadIframe(lid,style,jquery_selector,jquery_method,'');}else if(EFFECTS[lid].inline.position_using=='custom_function'){resPreloadIframe=await preloadIframe(lid,style,'','','');}else{logger('found no effects for inline form');}
logger('embedInlineLightboxForm breakpoint_file_preload_iframe_complete, async resPreloadIframe = '+resPreloadIframe);return resPreloadIframe;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"embedInlineLightboxForm");logger('DIGIOH::::embedInlineLightboxForm('+lid+') ==> FAIL:EXCEPTION');return false;}}
function initDigiohVars(){try{if(typeof DIGIOH_VARS==='undefined'){DIGIOH_VARS={};}
try{var useLZ=(typeof USE_LZ==='undefined'||USE_LZ==true);if(typeof DIGIOH_BLIP_LZ!=='undefined'&&useLZ){BLIP_ARR=JSON.parse(LZString.decompressFromBase64(DIGIOH_BLIP_LZ));}}
catch(e1){BLIP_ARR=[];logErrorText("DIGIOH_BLIP_LZ_INITDIGIOHVARS","DIGIOH_BLIP_LZ_INITDIGIOHVARS");}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initDigiohVars");}}
function initDependentScripts(){try{if(!INIT_DEPENDENT_SCRIPTS_HAS_RUN){INIT_DEPENDENT_SCRIPTS_HAS_RUN=true;initAnalytics();initFancyboxEffects();runCustomJsLinkedApps('AfterDocReady','','');customJsSuperOnDocumentReadyCallback();}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initDependentScripts");}}
function runCustomJsLinkedApps(trigger,orig_lid,var_id){if(typeof CJSAPPS_PARENT!=='undefined'&&CJSAPPS_PARENT!==null&&typeof CJSAPPS_ARR!=='undefined'&&CJSAPPS_ARR!==null&&CJSAPPS_ARR.length>0){for(var i=0;i<CJSAPPS_ARR.length;i++){var appId=CJSAPPS_ARR[i];if(CJSAPPS_PARENT.hasOwnProperty(appId)&&CJSAPPS_PARENT[appId].hasOwnProperty(trigger)){var res=false;if(trigger=='AfterDocReady')
res=CJSAPPS_PARENT[appId][trigger](window.DIGIOH_API,window,document,JQUERY_DIGIOH,getCustomJsMetadata(''));else
res=CJSAPPS_PARENT[appId][trigger](window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('CJSAPPS_PARENT: '+appId+', '+trigger);logger(res);if(res===false)
return false;}}
return true;}}
var customJsSuperOnDocumentReadyCallback=function(){try{var customJsSuperResult=true;if(!IS_PREVIEW||IS_DEV){customJsSuperResult=DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnDocumentReady(window.DIGIOH_API,window,document,JQUERY_DIGIOH,getCustomJsMetadata(''));logger('JS_GLOBAL.runCustomJsOnDocumentReady()');}
if(typeof customJsSuperResult==='string'&&customJsSuperResult.indexOf('async_retry')===0){logger('JS_GLOBAL.customJsSuperOnDocumentReadyCallback() - async_retry - retrying in 300ms...');setTimeout(function(){customJsSuperOnDocumentReadyCallback();},300);}else if(typeof customJsSuperResult==='string'&&customJsSuperResult.indexOf('async_callback')===0){logger('JS_GLOBAL.customJsSuperOnDocumentReadyCallback() - async_callback - waiting for callback...');return;}else{logger('JS_GLOBAL.customJsSuperOnDocumentReadyCallback()');customJsSuperOnDocumentReadyComplete(customJsSuperResult);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"customJsSuperOnDocumentReadyCallback");}}
function customJsSuperOnDocumentReadyComplete(customJsSuperResult){try{logger("STOPWATCH (customJsSuperOnDocumentReadyComplete) - "+Math.ceil((new Date().getTime()-STOPWATCH)/1000));if(typeof customJsSuperResult!=='boolean'||customJsSuperResult===true){customJsOnDocumentReadyCallback();}else{logger('JS_GLOBAL.runCustomJsOnDocumentReady() returned false, execution of JS has been stopped.  Checking for embedded inline forms...');setEligibleInlineLightboxesAfterDocReadyFalseCustomJS();if(DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR.length>0||DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR.length>0){initABSplitTests();initVariations();initLightboxActivity();buildConditionSelectorsToBoxesMap();embedInlineLightboxAlwaysForms();embedInlineLightboxConditionsForms();}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"customJsSuperOnDocumentReadyComplete");}}
var customJsOnDocumentReadyCallback=function(){try{var customJsResult=true;if(!IS_PREVIEW||IS_DEV){customJsResult=DIGIOH_CUSTOM_JS.runCustomJsOnDocumentReady(window.DIGIOH_API,window,document,JQUERY_DIGIOH,getCustomJsMetadata(''));logger('DIGIOH: DIGIOH_CUSTOM_JS.runCustomJsOnDocumentReady()');}
if(typeof customJsResult==='string'&&customJsResult.indexOf('async_retry')===0){logger('DIGIOH: customJsOnDocumentReadyCallback() - async_retry - retrying in 300ms...');setTimeout(function(){customJsOnDocumentReadyCallback();},300);}else if(typeof customJsResult==='string'&&customJsResult.indexOf('async_callback')===0){logger('DIGIOH: customJsOnDocumentReadyCallback() - async_callback - waiting for callback...');return;}else{logger('DIGIOH: customJsOnDocumentReadyCallback()');customJsOnDocumentReadyComplete(customJsResult);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"customJsOnDocumentReadyCallback");}}
function customJsOnDocumentReadyComplete(customJsResult){try{logger("STOPWATCH (customJsOnDocumentReadyComplete) - "+Math.ceil((new Date().getTime()-STOPWATCH)/1000));if(typeof customJsResult!=='boolean'||customJsResult===true){initConditions();}else{logger('DIGIOH_CUSTOM_JS.runCustomJsOnDocumentReady() returned false, execution of JS has been stopped.  Checking for embedded inline forms...');setEligibleInlineLightboxesAfterDocReadyFalseCustomJS();if(DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR.length>0||DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR.length>0){initABSplitTests();initVariations();initLightboxActivity();buildConditionSelectorsToBoxesMap();embedInlineLightboxAlwaysForms();embedInlineLightboxConditionsForms();}}
DIGIOH_IS_READY=true;JQUERY_DIGIOH(document).trigger('DIGIOH_CONDITIONS_FINISHED',{});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"customJsOnDocumentReadyComplete");}}
function setEligibleInlineLightboxesAfterDocReadyFalseCustomJS(){try{var NEW_ALWAYS_ARR=[];for(var i=0;i<DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR.length;i++){cjs=EFFECTS[DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR[i]].inline.custom_js_rules;if(cjs!=='all'&&cjs.indexOf('ready')===-1){NEW_ALWAYS_ARR.push(DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR[i]);}}
DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR=NEW_ALWAYS_ARR;var NEW_CONDITIONS_ARR=[];var cjs='';for(var i=0;i<DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR.length;i++){cjs=EFFECTS[DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[i]].inline.custom_js_rules;if(cjs!=='all'&&cjs.indexOf('ready')===-1){NEW_CONDITIONS_ARR.push(DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[i]);}}
DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR=NEW_CONDITIONS_ARR;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setEligibleInlineLightboxesAfterDocReadyFalseCustomJS");}}
function doesInlineLightboxHaveCustomJsType(lid,cjsType){try{var idxArrAlways=JQUERY_DIGIOH.inArray(lid,DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR);var idxArrConditions=JQUERY_DIGIOH.inArray(lid,DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR);var cjsVal='';if(idxArrAlways>=0){cjsVal=EFFECTS[DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR[idxArrAlways]].inline.custom_js_rules;}else if(idxArrConditions>=0){cjsVal=EFFECTS[DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[idxArrConditions]].inline.custom_js_rules;}
var foundType=(cjsVal.indexOf(cjsType)>=0);return foundType;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"doesInlineLightboxHaveCustomJsType");}}
function cleanTextForLogging(txt){try{if(typeof txt==='string'){return txt.trim().split(' ').join('_').toUpperCase().replace(/[^a-zA-Z0-9]/g,'');}else if(typeof txt==='number'){return(txt+'').trim();}else{return 'NA';}}catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"cleanTextForLogging");return txt;}}
function padStr(i){try{return(i<10)?("0"+i):(""+i);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"padStr");}}
function getAnalyticsEndpointAzure(test){try{if(typeof test!=='undefined'&&test){return PROTOCOL_USER_OVERRIDE+'lightboxapitest.azurewebsites.net';}
return DIGIOH_API.CONFIG.API_BASE_URL;}
catch(e){return DIGIOH_API.CONFIG.API_BASE_URL;}}
function analyticsGeoDeviceCDP(){try{if(IS_PREVIEW){initDependentScripts();}else{var vendorShortId=VENDOR_GUID||'empty';if(typeof DIGIOH_VENDOR_SHORT_ID!=='undefined'){vendorShortId=DIGIOH_VENDOR_SHORT_ID;}
var hostname='empty';if(window&&window.location&&window.location.hostname){hostname=window.location.hostname;}
var test=false;if(typeof CDP_VARS==='object'&&CDP_VARS&&CDP_VARS.hasOwnProperty('enabled')&&CDP_VARS.enabled===1&&JSON.stringify(DIGIOH_LIGHTBOX_CONDITIONS).indexOf('E_segments')>=0){if(!DIGIOH_API.CDP){DIGIOH_API.CDP={};}
DIGIOH_API.CDP.segments=[];getDIUID(vendorShortId,hostname,test,0);}
else{var url_geo_device=getAnalyticsEndpointAzure(test)+'/z9gd/'+vendorShortId+'/'+hostname+'/jsonp/z?cb='+(new Date().getTime());callGeoDeviceCDP(url_geo_device,'',{});tryInitGADigioh(false);}
if(DIGIOH_API.hasOwnProperty('analyticsRecipientSegments')){DIGIOH_API.analyticsRecipientSegments();}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"analyticsGeoDeviceCDP");initDependentScripts();}}
var tryInitGADigioh=function(send_pv,esp_id){try{if(typeof send_pv==='undefined'){send_pv=false;}
if(window.ga&&window.ga.create){DIGIOH_API.GoogleAnalytics.is_ga_universal=true;if(typeof CDP_VARS==='object'&&CDP_VARS&&CDP_VARS.hasOwnProperty('enabled')&&CDP_VARS.enabled===1&&CDP_VARS.ua_tracking_id){DIGIOH_API.GoogleAnalytics.trackerArr=window.ga.getAll();if(DIGIOH_API.GoogleAnalytics.trackerArr&&DIGIOH_API.GoogleAnalytics.trackerArr.length){for(var i=0;i<DIGIOH_API.GoogleAnalytics.trackerArr.length;i++){if(DIGIOH_API.GoogleAnalytics.trackerArr[i].get('trackingId')===CDP_VARS.ua_tracking_id){DIGIOH_API.GoogleAnalytics.tracker=DIGIOH_API.GoogleAnalytics.trackerArr[i];DIGIOH_CUSTOM_JS.log('DIGIOH: Using GA Account: '+DIGIOH_API.GoogleAnalytics.tracker.get('trackingId'));break;}}}}
else if(window.ga.getAll().length){DIGIOH_API.GoogleAnalytics.tracker=window.ga.getAll()[0];DIGIOH_CUSTOM_JS.log('DIGIOH: Using GA Account: '+DIGIOH_API.GoogleAnalytics.tracker.get('trackingId'));}
logger('DIGIOH: Using Google Universal Analytics');if(send_pv&&typeof CDP_VARS==='object'&&CDP_VARS&&CDP_VARS.hasOwnProperty('dimension')&&CDP_VARS.dimension){var extra={'nonInteraction':1};extra['dimension'+CDP_VARS.dimension]=DIGIOH_API.LIGHTBOX.DIGIOH_COOKIE.getEncoded("_diuid_")||top.localStorage.getItem("_diuid_");if(esp_id){extra['dimension'+CDP_VARS.dimension]+='||||'+esp_id;}
sendGAEvent('DIGIOH','Link User','Log DIUID to GA',1,extra);}}
else if(window._gaq&&typeof window._gaq._getAsyncTracker==='function'){DIGIOH_API.GoogleAnalytics.is_ga_classic=true;DIGIOH_API.GoogleAnalytics.tracker=window._gaq._getAsyncTracker();logger('DIGIOH: Using Google Classic Analytics');if(send_pv&&typeof CDP_VARS==='object'&&CDP_VARS&&CDP_VARS.hasOwnProperty('dimension')&&CDP_VARS.dimension){var extra={'nonInteraction':1};extra['dimension'+CDP_VARS.dimension]=DIGIOH_API.LIGHTBOX.DIGIOH_COOKIE.getEncoded("_diuid_")||top.localStorage.getItem("_diuid_");if(esp_id){extra['dimension'+CDP_VARS.dimension]+='||||'+esp_id;}
sendGAEvent('DIGIOH','Link User','Log DIUID to GA',1,extra);}}
else if(DIGIOH_API.GoogleAnalytics.num_checks<25){DIGIOH_API.GoogleAnalytics.num_checks++;setTimeout(function(){tryInitGADigioh(send_pv,esp_id);},500);}else{logger('DIGIOH: Unable to find Google Analytics (Classic or Universal)');}
logger('DIGIOH: tryInitGADigioh (internal)');}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"tryInitGADigioh");}};var sendGAEvent=function(cat,act,lab,val,extra,ua_tracking_id){try{var tempTracker='';if(typeof ua_tracking_id==='string'&&ua_tracking_id.length>4&&ua_tracking_id.indexOf('UA-')===0&&DIGIOH_API.GoogleAnalytics.is_ga_universal){if(!DIGIOH_API.GoogleAnalytics.tracker||DIGIOH_API.GoogleAnalytics.tracker.get('trackingId')!==ua_tracking_id){DIGIOH_API.GoogleAnalytics.trackerArr=window.ga.getAll();if(DIGIOH_API.GoogleAnalytics.trackerArr&&DIGIOH_API.GoogleAnalytics.trackerArr.length){for(var i=0;i<DIGIOH_API.GoogleAnalytics.trackerArr.length;i++){if(DIGIOH_API.GoogleAnalytics.trackerArr[i].get('trackingId')===ua_tracking_id){tempTracker=DIGIOH_API.GoogleAnalytics.trackerArr[i];if(!DIGIOH_API.GoogleAnalytics.tracker)
DIGIOH_API.GoogleAnalytics.tracker=DIGIOH_API.GoogleAnalytics.trackerArr[i];logger('DIGIOH: Using GA Account: '+tempTracker.get('trackingId'));break;}}}}}
if(!tempTracker&&DIGIOH_API.GoogleAnalytics.tracker)
tempTracker=DIGIOH_API.GoogleAnalytics.tracker;if(tempTracker){if(typeof extra==='object'&&extra!==null&&extra!=={}){if(typeof val!=='number'){val=1;}
tempTracker.send('event',cat,act,lab,val,extra);logger('DIGIOH: Sent GA Event: '+cat+', '+act+', '+lab+', '+val+', '+JSON.stringify(extra));}else if(typeof val!=='undefined'&&val!==null&&val!==''){tempTracker.send('event',cat,act,lab,val);logger('DIGIOH: Sent GA Event: '+cat+', '+act+', '+lab+', '+val);}else{tempTracker.send('event',cat,act,lab);logger('DIGIOH: Sent GA Event: '+cat+', '+act+', '+lab);}}
else{setTimeout(function(){sendGAEvent(cat,act,lab,val,extra,ua_tracking_id);},1000);logger('DIGIOH: Did NOT send GA Event, tracker not found!  Trying again in 1 second.');}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"sendGAEvent");}};function generateDIUID(){try{var cn='_diuid_';var diuid=top.localStorage.getItem(cn);if(!diuid){var cv="; "+top.document.cookie;var parts=cv.split("; "+cn+"=");if(parts.length==2){diuid=parts.pop().split(";").shift();if(diuid){top.localStorage.setItem(cn,diuid);}}}
if(!diuid){diuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=Math.random()*16|0,v=c=='x'?r:(r&0x3|0x8);return v.toString(16);});diuid=diuid.split('-').join('')+new Date().getTime();top.localStorage.setItem(cn,diuid);var d=new Date();d.setTime(d.getTime()+(3650*24*60*60*1000));var expires="expires="+d.toUTCString();top.document.cookie=cn+"="+diuid+";"+expires+";path=/";}
DIGIOH_API.GoogleAnalytics.is_new_diuid=true;logger('CODE_DIUID: '+diuid);return diuid;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"generateDIUID");}}
function getDIUID(vendorShortId,hostname,test,cnt){try{var diuid=DIGIOH_API.LIGHTBOX.DIGIOH_COOKIE.getEncoded("_diuid_")||top.localStorage.getItem("_diuid_");logger('getDIUID: '+diuid);var isCDPEmbedTypeBlankOrCode=(typeof CDP_VARS!=='object'||!CDP_VARS||!CDP_VARS.hasOwnProperty('embed_type')||!CDP_VARS.embed_type||CDP_VARS.embed_type==='code');if(!diuid&&cnt<20){if(isCDPEmbedTypeBlankOrCode){generateDIUID();getDIUID(vendorShortId,hostname,test,cnt+1);}else{setTimeout(function(){getDIUID(vendorShortId,hostname,test,cnt+1);},300);}}
else if(!diuid&&cnt>=20){generateDIUID();getDIUID(vendorShortId,hostname,test,cnt+1);}
else if(diuid){var send_pv=DIGIOH_API.GoogleAnalytics.is_new_diuid&&isCDPEmbedTypeBlankOrCode;var call_geo_device=true;if(typeof diuid==='string'&&diuid.length>30){logger('Found_DIUID: '+diuid);var cookieName="__cdp";var cookieVal=DIGIOH_STORAGE.data[cookieName];var cobj={};if(typeof cookieVal==='object'&&cookieVal!==null){cobj=cookieVal;}
else if(typeof cookieVal==='string'&&cookieVal.length>1&&cookieVal.indexOf('{')===0&&cookieVal.substring(cookieVal.length-1)==='}'){cobj=JSON.parse(cookieVal);}
logger(cobj);var customJsCdpEspIdResult='_empty_';if(!IS_PREVIEW||IS_DEV){customJsCdpEspIdResult=DIGIOH_CUSTOM_JS.runCustomJsCdpEspId(window.DIGIOH_API,window,document,JQUERY_DIGIOH,getCustomJsMetadata(''));logger('DIGIOH: DIGIOH_CUSTOM_JS.runCustomJsCdpEspId(): '+customJsCdpEspIdResult);}
var esp_param_val='';if(customJsCdpEspIdResult!==null&&customJsCdpEspIdResult!==undefined&&customJsCdpEspIdResult!==''&&customJsCdpEspIdResult!=='_empty_'){esp_param_val=customJsCdpEspIdResult.toString();}
else if(typeof CDP_VARS==='object'&&CDP_VARS&&CDP_VARS.hasOwnProperty('esp_params')&&CDP_VARS.esp_params&&CDP_VARS.esp_params.indexOf(',')>0){var items=CDP_VARS.esp_params.split(',');for(var i=0;i<items.length;i++){esp_param_val=getUrlParam(items[i].split(' ').join(''));if(esp_param_val){break;}}}
else if(typeof CDP_VARS==='object'&&CDP_VARS&&CDP_VARS.hasOwnProperty('esp_params')&&CDP_VARS.esp_params){esp_param_val=getUrlParam(CDP_VARS.esp_params);}
if(esp_param_val===null||esp_param_val===undefined)
esp_param_val='';if(typeof esp_param_val!=='string')
esp_param_val=esp_param_val.toString();if(typeof CDP_VARS==='object'&&CDP_VARS)
CDP_VARS.esp_param_val=esp_param_val;var update_esp_id=false;if(esp_param_val.length>0)
update_esp_id=true;var timestamp=new Date().getTime();if(cobj.hasOwnProperty("ts")&&cobj["ts"]&&timestamp-cobj["ts"]<=3600000){if(cobj.hasOwnProperty("segs")&&cobj["segs"]){DIGIOH_API.CDP.segments=cobj["segs"];DIGIOH_API.GET_ANALYTICS().VARS.segments=cobj["segs"];}
if(cobj.hasOwnProperty("esp_id")&&cobj["esp_id"]==esp_param_val){update_esp_id=false;}}
else if(!cobj.hasOwnProperty("ts")||(cobj["ts"]&&timestamp-cobj["ts"]>3600000)){var url_geo_device_cdp=getAnalyticsEndpointAzure(test)+'/z9gdc/'+diuid+'/'+vendorShortId+'/'+hostname+'/jsonp/z?cb='+(new Date().getTime())+(esp_param_val?'&espid='+esp_param_val:'');callGeoDeviceCDP(url_geo_device_cdp,esp_param_val,cobj);call_geo_device=false;update_esp_id=false;}
if(update_esp_id){var url_update_cdp=getAnalyticsEndpointAzure(test)+'/z9uc/'+diuid+'/'+vendorShortId+'/'+hostname+'/jsonp/z?cb='+(new Date().getTime())+'&espid='+esp_param_val;callUpdateCDP(url_update_cdp,esp_param_val,cobj);}
if(esp_param_val.length>0){tryInitGADigioh(true,esp_param_val);}else{tryInitGADigioh(send_pv);}}
else{tryInitGADigioh(send_pv);}
if(call_geo_device){var url_geo_device=getAnalyticsEndpointAzure(test)+'/z9gd/'+vendorShortId+'/'+hostname+'/jsonp/z?cb='+(new Date().getTime());callGeoDeviceCDP(url_geo_device,'',{});}}
else{var url_geo_device_2=getAnalyticsEndpointAzure(test)+'/z9gd/'+vendorShortId+'/'+hostname+'/jsonp/z?cb='+(new Date().getTime());callGeoDeviceCDP(url_geo_device_2,'',{});tryInitGADigioh(false);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getDIUID");}}
function callGeoDeviceCDP(url,esp_param_val,cobj){try{setTimeout(function(){analyticsRunAfterIdentify(true);},7000);url+="&dre=l";JQUERY_DIGIOH.ajax({dataType:'jsonp',url:url,success:function(json){if(json&&typeof json==='object'&&json!==null&&json.hasOwnProperty('success')&&json.success){logger('callGeoDeviceCDP ==> success');logger(json);}else{logger('callGeoDeviceCDP ==> failure');logger(json);}
if(json.dre&&json.dre=='l'){json=JSON.parse(DIGIOH_API.LIGHTBOX.LZString.decompressFromBase64(json.response));}
if(json.hasOwnProperty("geo")&&typeof json.geo==='object'&&json.geo.hasOwnProperty("ip")&&json.geo.ip){if(JQUERY_DIGIOH.inArray(json.geo.ip,BLIP_ARR)>-1){json.geo.blip_matched=1;BLIP_MATCHED=1;}else{json.geo.blip_matched=0;BLIP_MATCHED=0;}}
if(json.hasOwnProperty("rand")&&typeof json['rand']=='number'){DIGIOH_API.RANDOM_GLOBAL=json['rand'];DIGIOH_API.RANDOM_GLOBAL_SOURCE='api';}
else{DIGIOH_API.RANDOM_GLOBAL=getRandomInt(1,1000001);DIGIOH_API.RANDOM_GLOBAL_SOURCE='js';}
logger('DIGIOH_API.RANDOM_GLOBAL: '+DIGIOH_API.RANDOM_GLOBAL);logger('DIGIOH_API.RANDOM_GLOBAL_SOURCE: '+DIGIOH_API.RANDOM_GLOBAL_SOURCE);if(json.hasOwnProperty("ts")&&typeof json['ts']=='number'){DIGIOH_API.TIME_GLOBAL=json['ts'];DIGIOH_API.TIME_GLOBAL_SOURCE='api';}
else{DIGIOH_API.TIME_GLOBAL=Date.now();DIGIOH_API.TIME_GLOBAL_SOURCE='js';}
logger('DIGIOH_API.TIME_GLOBAL: '+DIGIOH_API.TIME_GLOBAL+' (vs JS timestamp = '+Date.now()+')');logger('DIGIOH_API.TIME_GLOBAL_SOURCE: '+DIGIOH_API.TIME_GLOBAL_SOURCE);if(json.hasOwnProperty("geo")&&typeof json.geo==='object'){DIGIOH_LIGHTBOX_ANALYTICS.setGeoData(json);setKeenSchemaAfterGeo();DIGIOH_IS_ANALYTICS_IDENTIFY_DONE['geo']=true;}
if(json.hasOwnProperty("da")&&typeof json.da==='string'){DIGIOH_LIGHTBOX_ANALYTICS.setDeviceData(json);setKeenSchemaAfterDevice();DIGIOH_IS_ANALYTICS_IDENTIFY_DONE['device']=true;}
if(json.hasOwnProperty("cdp")){if(typeof json["cdp"]==='string'&&json["cdp"]){if(json["cdp"].indexOf('|')>0){DIGIOH_API.CDP.segments=json["cdp"].split('|');DIGIOH_API.GET_ANALYTICS().VARS.segments=json["cdp"].split('|');}else{DIGIOH_API.CDP.segments.push(json["cdp"]);DIGIOH_API.GET_ANALYTICS().VARS.segments.push(json["cdp"]);}}
cobj["segs"]=DIGIOH_API.CDP.segments;cobj["ts"]=new Date().getTime();if(esp_param_val)
cobj["esp_id"]=esp_param_val;DIGIOH_STORAGE.data["__cdp"]=cobj;DIGIOH_STORAGE.set();DIGIOH_IS_ANALYTICS_IDENTIFY_DONE['cdp']=true;}
analyticsRunAfterIdentify(false);},error:function(htmltext,textStatus,errorThrown){logger('callGeoDeviceCDP ==> error - '+url);logger(textStatus);logger(htmltext);logger(errorThrown);DIGIOH_IS_ANALYTICS_IDENTIFY_DONE['geo']=true;DIGIOH_IS_ANALYTICS_IDENTIFY_DONE['device']=true;DIGIOH_IS_ANALYTICS_IDENTIFY_DONE['cdp']=true;analyticsRunAfterIdentify(false);}});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"callGeoDeviceCDP");DIGIOH_IS_ANALYTICS_IDENTIFY_DONE['geo']=true;DIGIOH_IS_ANALYTICS_IDENTIFY_DONE['device']=true;DIGIOH_IS_ANALYTICS_IDENTIFY_DONE['cdp']=true;analyticsRunAfterIdentify(false);}}
function callUpdateCDP(url,esp_param_val,cobj){try{JQUERY_DIGIOH.ajax({dataType:'jsonp',url:url,success:function(json){if(json&&typeof json==='object'&&json!==null&&json.hasOwnProperty('success')&&json.success){logger('callUpdateCDP ==> success');logger(json);}else{logger('callUpdateCDP ==> failure');logger(json);}
cobj["ts"]=new Date().getTime();cobj["esp_id"]=esp_param_val;DIGIOH_STORAGE.data["__cdp"]=cobj;DIGIOH_STORAGE.set();},error:function(htmltext,textStatus,errorThrown){logger('callUpdateCDP ==> error - '+url);}});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"callUpdateCDP");}}
var analyticsRunAfterIdentify=function(force){try{var is_done=true;for(var prop in DIGIOH_IS_ANALYTICS_IDENTIFY_DONE){if(DIGIOH_IS_ANALYTICS_IDENTIFY_DONE.hasOwnProperty(prop)&&!DIGIOH_IS_ANALYTICS_IDENTIFY_DONE[prop]){is_done=false;}}
if(is_done){initDependentScripts();}
else if(force){initDependentScripts();}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"analyticsRunAfterIdentify");initDependentScripts();}};function analyticsEvent(eventType,boxGUID,variationGUID,splitGUID){try{var vendorShortId=VENDOR_GUID||'empty';var boxShortId=boxGUID||'empty';var variationShortId=variationGUID||'empty';var splitShortId=splitGUID||'empty';if(typeof DIGIOH_VENDOR_SHORT_ID!=='undefined'){vendorShortId=DIGIOH_VENDOR_SHORT_ID;}
if(eventType!=='pageview'&&boxGUID&&DIGIOH_LIGHTBOX_IDS.hasOwnProperty(boxGUID)&&DIGIOH_LIGHTBOX_IDS[boxGUID]){boxShortId=DIGIOH_LIGHTBOX_IDS[boxGUID];}
if(eventType!=='pageview'&&variationGUID&&DIGIOH_LIGHTBOX_IDS.hasOwnProperty(variationGUID)&&DIGIOH_LIGHTBOX_IDS[variationGUID]){variationShortId=DIGIOH_LIGHTBOX_IDS[variationGUID];}
if(eventType!=='pageview'&&typeof DIGIOH_SPLIT_TESTS_ARR!=='undefined'&&DIGIOH_SPLIT_TESTS_ARR.length){for(var i=0;i<DIGIOH_SPLIT_TESTS_ARR.length;i++){if(DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_short_id')&&DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_guid')&&DIGIOH_SPLIT_TESTS_ARR[i]['split_guid']==splitGUID){splitShortId=DIGIOH_SPLIT_TESTS_ARR[i]['split_short_id'];break;}}}
var hostname='empty';if(window&&window.location&&window.location.hostname){hostname=window.location.hostname;}
var ids={};ids.uid=vendorShortId;ids.uguid=VENDOR_GUID;ids.bid=boxShortId;ids.bguid=boxGUID;ids.vid=variationShortId;ids.vguid=variationGUID;ids.sid=splitShortId;ids.sguid=splitGUID;var pathRewrite='/';var et='';if(eventType=='pageview'){pathRewrite='/z9v/'+vendorShortId+'/'+hostname;et='p';}
if(eventType=='display'){pathRewrite='/z9d/'+vendorShortId+'/'+boxShortId+'/'+variationShortId+'/'+splitShortId+'/'+hostname;et='i';}
if(eventType=='submit'){pathRewrite='/z9s/'+vendorShortId+'/'+boxShortId+'/'+variationShortId+'/'+splitShortId+'/'+hostname;et='s';}
if(eventType=='redirect'){pathRewrite='/z9r/'+vendorShortId+'/'+boxShortId+'/'+variationShortId+'/'+splitShortId+'/'+hostname;et='r';}
if(eventType=='download'){pathRewrite='/z9w/'+vendorShortId+'/'+boxShortId+'/'+variationShortId+'/'+splitShortId+'/'+hostname;et='d';}
if(pathRewrite==='/')
return;if(eventType!=='submit'){var i=document.createElement("img");i.width=1;i.height=1;i.src=(DIGIOH_API.CONFIG.BOX_BASE_URL+'/z9g/digibox.gif?c='+(new Date().getTime())+'&h='+encodeURIComponent(hostname)+'&e='+et+'&u='+vendorShortId+'&b='+boxShortId+'&v='+variationShortId+'&s='+splitShortId);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"analyticsEvent");}}
function analyticsDisplay(boxGUID,variationGUID,splitGUID){analyticsEvent('display',boxGUID,variationGUID,splitGUID);}
function analyticsSubmit(boxGUID,variationGUID,splitGUID){analyticsEvent('submit',boxGUID,variationGUID,splitGUID);}
function analyticsRedirect(boxGUID,variationGUID,splitGUID){analyticsEvent('redirect',boxGUID,variationGUID,splitGUID);}
function analyticsDownload(boxGUID,variationGUID,splitGUID){analyticsEvent('download',boxGUID,variationGUID,splitGUID);}
function analyticsLightboxDisplay(lbid){try{var var_id='';var orig_lid=lbid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lbid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lbid];var_id=lbid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lbid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lbid];}
var splitId='empty';if(var_id.length>7&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){splitId=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(orig_lid)){splitId=AB_BOXES_TAKE_MAP[orig_lid];}
if(var_id===''){var_id='empty';}
if(!WAS_IMPRESSION_REGISTERED.hasOwnProperty(orig_lid)){WAS_IMPRESSION_REGISTERED[orig_lid]=0;}
WAS_IMPRESSION_REGISTERED[orig_lid]++;if(WAS_IMPRESSION_REGISTERED[orig_lid]>10){logErrorText("MAX_DISPLAY_COUNT_REACHED","MAX_DISPLAY_COUNT_REACHED");return;}
if(!IS_PREVIEW){if(BLIP_MATCHED===1){logErrorText("BLIP_MATCHED_INVALID_DISPLAY","BLIP_MATCHED_INVALID_DISPLAY");return;}}
analyticsDisplay(orig_lid,var_id,splitId);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"analyticsLightboxDisplay");}}
function initBugsnag(){if(typeof DIGIOH_BUGSNAG!=='undefined'&&DIGIOH_BUGSNAG!==null){processStoredExceptions();}}
function initKeen(){try{KEEN_CLIENT=new Keen({projectId:"53ab77e2c9e1637d8a000000",writeKey:DIGIOH_KEEN_WRITE_KEY});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initKeen");}}
function initKeen2(){try{KEEN_CLIENT_2=new Keen({projectId:'58ac97f58db53dfda8a88662',writeKey:'2423E50F591F96B78CC8CC2434EE076D85F6A17251188536CE621FEDC71E7F8F030C191915774ACAEE91B3927D45F29CA621652AE08BD36B70BBAE5C5AF43FD7F2ED6C3CDB88D5CE84B973DD7CC4335661CDEE112E618628032BB2F855CE6576'});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initKeen2");}}
function initKeenSchema(){try{KEEN_SCHEMA={cache_version:DIGIOH_CACHE_VERSION,is_preview:IS_PREVIEW,ip_address:"${keen.ip}",user_agent:"${keen.user_agent}",vendor_id:VENDOR_GUID,client_id:CLIENT_GUID,referrer_url:document.referrer,page_url:document.location.href,geoip:{ip_address:DIGIOH_LIGHTBOX_ANALYTICS.VARS.ip_address,continent_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.continent,country_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.country,country_name:DIGIOH_LIGHTBOX_ANALYTICS.VARS.country_name,region_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.state,region_name:DIGIOH_LIGHTBOX_ANALYTICS.VARS.region_name,city:DIGIOH_LIGHTBOX_ANALYTICS.VARS.city,zipcode:DIGIOH_LIGHTBOX_ANALYTICS.VARS.zipcode,metro_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.metro_code,time_zone:DIGIOH_LIGHTBOX_ANALYTICS.VARS.time_zone,area_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.area_code,latitude:DIGIOH_LIGHTBOX_ANALYTICS.VARS.latitude,longitude:DIGIOH_LIGHTBOX_ANALYTICS.VARS.longitude,geo_source:DIGIOH_LIGHTBOX_ANALYTICS.VARS.geo_source,blip_matched:BLIP_MATCHED},device:{hardware:DIGIOH_LIGHTBOX_ANALYTICS.VARS.device,os:DIGIOH_LIGHTBOX_ANALYTICS.VARS.operating_system,browser_type:DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_type,browser_version:DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_version},entry_point:{referrer_url:DIGIOH_LIGHTBOX_ANALYTICS.VARS.referring_website_url,landing_page_url:DIGIOH_LIGHTBOX_ANALYTICS.VARS.landing_page,landing_page_ip:DIGIOH_LIGHTBOX_ANALYTICS.VARS.landing_page_ip,landing_page_date:DIGIOH_LIGHTBOX_ANALYTICS.VARS.date_of_visit,web_source:DIGIOH_LIGHTBOX_ANALYTICS.VARS.web_source,past_visits:DIGIOH_LIGHTBOX_ANALYTICS.VARS.past_visits,page_visits:DIGIOH_LIGHTBOX_ANALYTICS.VARS.page_visits,search_engine:DIGIOH_LIGHTBOX_ANALYTICS.VARS.search_engine,utm_campaign_source:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_source,utm_campaign_medium:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_medium,utm_campaign_term:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_term,utm_campaign_content:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_content,utm_campaign_name:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_name}};KEEN_SCHEMA.keen={};KEEN_SCHEMA.keen.addons=[{name:"keen:ip_to_geo",input:{ip:"ip_address"},output:"ip_to_geo_addon"},{name:"keen:ua_parser",input:{ua_string:"user_agent"},output:"ua_parser_addon"},{name:"keen:url_parser",input:{url:"page_url"},output:"url_parser_addon"},{name:"keen:referrer_parser",input:{referrer_url:"referrer_url",page_url:"page_url"},output:"referrer_parser_addon"}];if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.latitude&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.longitude){KEEN_SCHEMA.keen.location={};KEEN_SCHEMA.keen.location.coordinates=[DIGIOH_LIGHTBOX_ANALYTICS.VARS.latitude,DIGIOH_LIGHTBOX_ANALYTICS.VARS.longitude];}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initKeenSchema");}}
function mergeObjectData(obj1,obj2){var obj3={};for(var attrname in obj1){obj3[attrname]=obj1[attrname];}
for(var attrname in obj2){obj3[attrname]=obj2[attrname];}
logger(obj3,true);return obj3;}
function cfPageview(){try{if(typeof window.SENT_LIGHTBOX_PV!=='undefined'&&window.SENT_LIGHTBOX_PV===true){return;}}
catch(e){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
try{var vendorShortId=VENDOR_GUID||'empty';if(typeof DIGIOH_VENDOR_SHORT_ID!=='undefined'){vendorShortId=DIGIOH_VENDOR_SHORT_ID;}
var hostname='empty';if(window&&window.location&&window.location.hostname){hostname=window.location.hostname;}
var i=document.createElement("img");i.width=1;i.height=1;i.src=(DIGIOH_API.CONFIG.BOX_BASE_URL+'/z9g/digibox.gif?c='+(new Date().getTime())+'&h='+encodeURIComponent(hostname)+'&e=p'+'&u='+vendorShortId);window.SENT_LIGHTBOX_PV=true;try{if(typeof window.RECAPTURE_LIGHTBOX_PV!=='undefined'&&window.RECAPTURE_LIGHTBOX_PV===true){window.RECAPTURE_LIGHTBOX_PV=false;window.SENT_LIGHTBOX_PV=false;setTimeout(cfPageview,1000);}}
catch(e){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}}
catch(e){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);logErrorText("cfPageview_EXCEPTION","cfPageview_EXCEPTION");}}
function keenLightboxDisplay(boxGUID,variationGUID,splitGUID){try{if(DIGIOH_API.CONFIG.REGION!=='US'){return;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logErrorText("keenLightboxDisplayJSONP_EXCEPTION","keenLightboxDisplayJSONP_EXCEPTION");}}
function keenLightboxCoupon(lid,coupon_meta_data){try{if(DIGIOH_API.CONFIG.REGION!=='US'){return;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logErrorText("keenLightboxCoupon_EXCEPTION","keenLightboxCoupon_EXCEPTION");}}
function prepareExtraDataObject(extra_data,orig_lid,var_id,sid,ab_test_id){extra_data=extra_data||{};extra_data['attributes']={'user_id':DIGIOH_VENDOR_SHORT_ID,'user_guid':VENDOR_GUID,'box_id':DIGIOH_API.getBoxID(orig_lid),'box_guid':orig_lid,'box_name':'','variation_id':'','variation_name':'','variation_guid':var_id,'client_id':CLIENT_GUID,'submission_id':sid,'ab_test_id':ab_test_id};if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(orig_lid)){extra_data.attributes.box_name=DIGIOH_LIGHTBOX_NAMES[orig_lid];}else{extra_data.attributes.box_name='';}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(var_id)){extra_data.attributes.variation_name=DIGIOH_LIGHTBOX_NAMES[var_id];}else{extra_data.attributes.variation_name='';}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)){extra_data.attributes.variation_id=DIGIOH_LIGHTBOX_IDS[var_id];}else{extra_data.attributes.variation_id='';}
if(extra_data.hasOwnProperty('analytics')&&typeof extra_data.analytics==='object'&&extra_data.analytics!==null){if(extra_data.analytics.hasOwnProperty('VendorGuid')){delete extra_data.analytics.VendorGuid;}
if(extra_data.analytics.hasOwnProperty('IsLoaded')){delete extra_data.analytics.IsLoaded;}
if(extra_data.analytics.hasOwnProperty('segments')){delete extra_data.analytics.segments;}
if(extra_data.analytics.hasOwnProperty('scroll_percent')){delete extra_data.analytics.scroll_percent;}
if(extra_data.analytics.hasOwnProperty('scroll_pixels')){delete extra_data.analytics.scroll_pixels;}
if(extra_data.analytics.hasOwnProperty('exit_intent')){delete extra_data.analytics.exit_intent;}
if(extra_data.analytics.hasOwnProperty('click_jquery_selector')){delete extra_data.analytics.click_jquery_selector;}
if(extra_data.analytics.hasOwnProperty('hover_jquery_selector')){delete extra_data.analytics.hover_jquery_selector;}
if(extra_data.analytics.hasOwnProperty('exists_jquery_selector')){delete extra_data.analytics.exists_jquery_selector;}
if(extra_data.analytics.hasOwnProperty('lightbox_activity')){delete extra_data.analytics.lightbox_activity;}
if(extra_data.analytics.hasOwnProperty('master_rules')){delete extra_data.analytics.master_rules;}
if(extra_data.analytics.hasOwnProperty('lightbox_events')){delete extra_data.analytics.lightbox_events;}
if(extra_data.analytics.hasOwnProperty('IsPreview')){extra_data.analytics.is_preview=extra_data.analytics.IsPreview;delete extra_data.analytics.IsPreview;}}
if(extra_data.hasOwnProperty('form')&&typeof extra_data.form==='object'&&extra_data.form!==null){for(var field in extra_data.form){if(extra_data.form.hasOwnProperty(field)){if(field.indexOf('custom_')===0&&extra_data.form[field]===''){delete extra_data.form[field];}}}}
return extra_data;}
function keenLightboxSubmit(form_data,lid,sid,extra_data){try{if(DIGIOH_API.CONFIG.REGION!=='US'){return;}
var var_id='';var orig_lid=lid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lid];var_id=lid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lid];}
var ab_test_id='';if(var_id!=''&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){ab_test_id=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(orig_lid)){ab_test_id=AB_BOXES_TAKE_MAP[orig_lid];}
if(!WAS_SUBMIT_REGISTERED.hasOwnProperty(orig_lid)){WAS_SUBMIT_REGISTERED[orig_lid]=0;}
WAS_SUBMIT_REGISTERED[orig_lid]++;if(!IS_PREVIEW){if(BLIP_MATCHED===1){logErrorText("BLIP_MATCHED_INVALID_SUBMIT","BLIP_MATCHED_INVALID_SUBMIT");return;}}
var vendorShortId=VENDOR_GUID||'empty';var boxShortId=orig_lid||'empty';var variationShortId=var_id||'empty';var splitShortId=ab_test_id||'empty';if(typeof DIGIOH_VENDOR_SHORT_ID!=='undefined'){vendorShortId=DIGIOH_VENDOR_SHORT_ID;}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(orig_lid)&&DIGIOH_LIGHTBOX_IDS[orig_lid]){boxShortId=DIGIOH_LIGHTBOX_IDS[orig_lid];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)&&DIGIOH_LIGHTBOX_IDS[var_id]){variationShortId=DIGIOH_LIGHTBOX_IDS[var_id];}
if(typeof DIGIOH_SPLIT_TESTS_ARR!=='undefined'&&DIGIOH_SPLIT_TESTS_ARR.length){for(var i=0;i<DIGIOH_SPLIT_TESTS_ARR.length;i++){if(DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_short_id')&&DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_guid')&&DIGIOH_SPLIT_TESTS_ARR[i]['split_guid']==ab_test_id){splitShortId=DIGIOH_SPLIT_TESTS_ARR[i]['split_short_id'];break;}}}
var integration_map={};if(window.DIGIOH_API.LIGHTBOX.hasOwnProperty('INTEGRATION_MAP')&&window.DIGIOH_API.LIGHTBOX.INTEGRATION_MAP!==null&&typeof window.DIGIOH_API.LIGHTBOX.INTEGRATION_MAP==='object'){integration_map=window.DIGIOH_API.LIGHTBOX.INTEGRATION_MAP;}
updateKeenSchemaBeforeSending();var lightbox_submit=KEEN_SCHEMA;lightbox_submit.cache_version=DIGIOH_CACHE_VERSION;lightbox_submit.is_preview=IS_PREVIEW;lightbox_submit.ip_address="${keen.ip}";lightbox_submit.user_agent="${keen.user_agent}";lightbox_submit.vendor_id=VENDOR_GUID;lightbox_submit.client_id=CLIENT_GUID;lightbox_submit.event_id=generateGuidWithTimestamp();lightbox_submit.submission_id=sid;lightbox_submit.lightbox_id=orig_lid;lightbox_submit.variation_id=var_id;lightbox_submit.ab_test_id=ab_test_id;lightbox_submit.uid=vendorShortId;lightbox_submit.bid=boxShortId;lightbox_submit.vid=variationShortId;lightbox_submit.sid=splitShortId;lightbox_submit.lightbox_open_time=TOTAL_TIME-LIGHTBOX_OPEN_TIME;lightbox_submit.page_total_time=TOTAL_TIME;lightbox_submit.page_active_time=TOTAL_TIME-IDLE_TIME;lightbox_submit.page_idle_time=IDLE_TIME;lightbox_submit.impressions_on_page=(WAS_IMPRESSION_REGISTERED.hasOwnProperty(orig_lid)?WAS_IMPRESSION_REGISTERED[orig_lid]:0);lightbox_submit.submits_on_page=WAS_SUBMIT_REGISTERED[orig_lid];lightbox_submit.integration_map=integration_map;if(var_id&&EFFECTS.hasOwnProperty(var_id)){lightbox_submit.widget_type=EFFECTS[var_id].widget_type;}else{lightbox_submit.widget_type=EFFECTS[orig_lid].widget_type;}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(orig_lid)){lightbox_submit.lightbox_name=DIGIOH_LIGHTBOX_NAMES[orig_lid];}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(var_id)){lightbox_submit.variation_name=DIGIOH_LIGHTBOX_NAMES[var_id];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(orig_lid)){lightbox_submit.lightbox_short_id=DIGIOH_LIGHTBOX_IDS[orig_lid];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)){lightbox_submit.variation_short_id=DIGIOH_LIGHTBOX_IDS[var_id];}
lightbox_submit.extra_data=LZString.compressToBase64(JSON.stringify(prepareExtraDataObject(extra_data,orig_lid,var_id,sid,ab_test_id)));var submit_schema=mergeObjectData(lightbox_submit,form_data);var dataStorageType="";var obfuscatedFieldsArr=[];if(typeof DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ==='object'){if(var_id&&var_id.indexOf('var')===0&&DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ.hasOwnProperty(var_id)&&DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ[var_id]){if(DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ[var_id]==='none'){return;}else if(DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ[var_id]!=='all'){obfuscatedFieldsArr=DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ[var_id].split(',');}}else if(DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ.hasOwnProperty(orig_lid)&&DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ[orig_lid]){if(DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ[orig_lid]==='none'){return;}else if(DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ[orig_lid]!=='all'){obfuscatedFieldsArr=DIGIOH_DATA_STORAGE_TYPE_BY_BOX_OBJ[orig_lid].split(',');}}}
if(obfuscatedFieldsArr.length>0){if(DIGIOH_API.contains(obfuscatedFieldsArr,'ip')){submit_schema.geoip.ip_address="****";if(submit_schema.keen.addons.length>0&&submit_schema.keen.addons[0].name=="keen:ip_to_geo"){submit_schema.keen.addons.shift();delete submit_schema.ip_address;}}
if(DIGIOH_API.contains(obfuscatedFieldsArr,'city')){submit_schema.geoip.city="****";}
if(DIGIOH_API.contains(obfuscatedFieldsArr,'state')){submit_schema.geoip.region_code="**";submit_schema.geoip.region_name="****";}
if(DIGIOH_API.contains(obfuscatedFieldsArr,'country')){submit_schema.geoip.country_code="**";submit_schema.geoip.country_name="****";}
if(DIGIOH_API.contains(obfuscatedFieldsArr,'zip')){submit_schema.geoip.zipcode="****";}
if(DIGIOH_API.contains(obfuscatedFieldsArr,'ip')||DIGIOH_API.contains(obfuscatedFieldsArr,'city')||DIGIOH_API.contains(obfuscatedFieldsArr,'state')||DIGIOH_API.contains(obfuscatedFieldsArr,'country')||DIGIOH_API.contains(obfuscatedFieldsArr,'zip')){delete submit_schema.geoip.latitude;delete submit_schema.geoip.longitude;if(submit_schema.keen.hasOwnProperty('location')){delete submit_schema.keen.location;}}
if(DIGIOH_API.contains(obfuscatedFieldsArr,'email')&&submit_schema.hasOwnProperty('email')&&submit_schema.email){if(!submit_schema.email.contains('@')||submit_schema.email.split('@')[0].length<1){submit_schema.email="***@***.***";}else{var emstart=submit_schema.email.split('@')[0];submit_schema.email=emstart.substr(0,1)+"****"+emstart.slice(-1)+"@"+submit_schema.email.split('@')[1];}}
if(DIGIOH_API.contains(obfuscatedFieldsArr,'name')&&submit_schema.hasOwnProperty('name')&&submit_schema.name){submit_schema.name="****";}
if(DIGIOH_API.contains(obfuscatedFieldsArr,'first_name')&&submit_schema.hasOwnProperty('first_name')&&submit_schema.first_name){submit_schema.first_name="****";}
if(DIGIOH_API.contains(obfuscatedFieldsArr,'last_name')&&submit_schema.hasOwnProperty('last_name')&&submit_schema.last_name){submit_schema.last_name="****";}
if(DIGIOH_API.contains(obfuscatedFieldsArr,'phone')&&submit_schema.hasOwnProperty('phone')&&submit_schema.phone){submit_schema.phone="****";}
for(var i=1;i<=20;i++){var custom_n='custom_'+i;if(DIGIOH_API.contains(obfuscatedFieldsArr,custom_n)&&submit_schema.hasOwnProperty(custom_n)&&submit_schema[custom_n]){submit_schema[custom_n]="****";}}}
if(window.DIGIOH_API.LIGHTBOX.hasOwnProperty('keen_custom_js_data')){submit_schema.custom_js_data=window.DIGIOH_API.LIGHTBOX.keen_custom_js_data;}
KEEN_CLIENT.addEvent("lightbox_submit",submit_schema,function(res,e){if(res&&typeof res==='object'&&res.hasOwnProperty('created')&&res.created===true){logger('keenLightboxSubmit: success!');logger(res);}else if(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logErrorText("keenLightboxSubmit_ERROR","keenLightboxSubmit_ERROR");}
else{logErrorText("keenLightboxSubmit_ERROR_OTHER","keenLightboxSubmit_ERROR_OTHER");}});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logErrorText("keenLightboxSubmit_EXCEPTION","keenLightboxSubmit_EXCEPTION");}}
function keenLightboxRedirect(lid){try{if(DIGIOH_API.CONFIG.REGION!=='US'){return;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logErrorText("keenLightboxRedirect_EXCEPTION","keenLightboxRedirect_EXCEPTION");}}
function keenLightboxDownload(lid){try{if(DIGIOH_API.CONFIG.REGION!=='US'){return;}
var var_id='';var orig_lid=lid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lid];var_id=lid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lid];}
var ab_test_id='';if(var_id!=''&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){ab_test_id=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(orig_lid)){ab_test_id=AB_BOXES_TAKE_MAP[orig_lid];}
if(!WAS_DOWNLOAD_REGISTERED.hasOwnProperty(orig_lid)){WAS_DOWNLOAD_REGISTERED[orig_lid]=0;}
WAS_DOWNLOAD_REGISTERED[orig_lid]++;if(!IS_PREVIEW){if(BLIP_MATCHED===1){logErrorText("BLIP_MATCHED_INVALID_DOWNLOAD","BLIP_MATCHED_INVALID_DOWNLOAD");return;}}
var vendorShortId=VENDOR_GUID||'empty';var boxShortId=orig_lid||'empty';var variationShortId=var_id||'empty';var splitShortId=ab_test_id||'empty';if(typeof DIGIOH_VENDOR_SHORT_ID!=='undefined'){vendorShortId=DIGIOH_VENDOR_SHORT_ID;}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(orig_lid)&&DIGIOH_LIGHTBOX_IDS[orig_lid]){boxShortId=DIGIOH_LIGHTBOX_IDS[orig_lid];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)&&DIGIOH_LIGHTBOX_IDS[var_id]){variationShortId=DIGIOH_LIGHTBOX_IDS[var_id];}
if(typeof DIGIOH_SPLIT_TESTS_ARR!=='undefined'&&DIGIOH_SPLIT_TESTS_ARR.length){for(var i=0;i<DIGIOH_SPLIT_TESTS_ARR.length;i++){if(DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_short_id')&&DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_guid')&&DIGIOH_SPLIT_TESTS_ARR[i]['split_guid']==ab_test_id){splitShortId=DIGIOH_SPLIT_TESTS_ARR[i]['split_short_id'];break;}}}
updateKeenSchemaBeforeSending();var lightbox_download=KEEN_SCHEMA;lightbox_download.cache_version=DIGIOH_CACHE_VERSION;lightbox_download.is_preview=IS_PREVIEW;lightbox_download.ip_address="${keen.ip}";lightbox_download.user_agent="${keen.user_agent}";lightbox_download.vendor_id=VENDOR_GUID;lightbox_download.client_id=CLIENT_GUID;lightbox_download.event_id=generateGuidWithTimestamp();lightbox_download.lightbox_id=orig_lid;lightbox_download.variation_id=var_id;lightbox_download.ab_test_id=ab_test_id;lightbox_download.uid=vendorShortId;lightbox_download.bid=boxShortId;lightbox_download.vid=variationShortId;lightbox_download.sid=splitShortId;lightbox_download.page_total_time=TOTAL_TIME;lightbox_download.page_active_time=TOTAL_TIME-IDLE_TIME;lightbox_download.page_idle_time=IDLE_TIME;lightbox_download.impressions_on_page=(WAS_IMPRESSION_REGISTERED.hasOwnProperty(orig_lid)?WAS_IMPRESSION_REGISTERED[orig_lid]:0);lightbox_download.downloads_on_page=WAS_DOWNLOAD_REGISTERED[orig_lid];if(var_id&&EFFECTS.hasOwnProperty(var_id)){lightbox_download.widget_type=EFFECTS[var_id].widget_type;}else{lightbox_download.widget_type=EFFECTS[orig_lid].widget_type;}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(orig_lid)){lightbox_download.lightbox_name=DIGIOH_LIGHTBOX_NAMES[orig_lid];}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(var_id)){lightbox_download.variation_name=DIGIOH_LIGHTBOX_NAMES[var_id];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(orig_lid)){lightbox_download.lightbox_short_id=DIGIOH_LIGHTBOX_IDS[orig_lid];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)){lightbox_download.variation_short_id=DIGIOH_LIGHTBOX_IDS[var_id];}
if(window.DIGIOH_API.LIGHTBOX.hasOwnProperty('keen_custom_js_data')){lightbox_download.custom_js_data=window.DIGIOH_API.LIGHTBOX.keen_custom_js_data;}
KEEN_CLIENT.addEvent("lightbox_download",lightbox_download,function(res,e){if(res&&typeof res==='object'&&res.hasOwnProperty('created')&&res.created===true){logger('keenLightboxDownload: success!');logger(res);}else if(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logErrorText("keenLightboxDownload_ERROR","keenLightboxDownload_ERROR");}
else{logErrorText("keenLightboxDownload_ERROR_OTHER","keenLightboxDownload_ERROR_OTHER");}});LIGHTBOX_OPEN_TIME=TOTAL_TIME;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logErrorText("keenLightboxDownload_EXCEPTION","keenLightboxDownload_EXCEPTION");}}
function getExtraPageNumberFromEPString(epStr){var pNum='';if(epStr.indexOf('ep')===0){for(var x=2;x<epStr.length;x++){if('1234567890'.indexOf(epStr.substr(x,1))>=0)
pNum+=epStr.substr(x,1);else
break;}}
return pNum;}
function keenLightboxPageChange(lid,page_prefix){try{if(DIGIOH_API.CONFIG.REGION!=='US'){return;}
var var_id='';var orig_lid=lid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lid];var_id=lid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lid];}
var ab_test_id='';if(var_id!=''&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){ab_test_id=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(orig_lid)){ab_test_id=AB_BOXES_TAKE_MAP[orig_lid];}
if(!IS_PREVIEW){if(BLIP_MATCHED===1){logErrorText("BLIP_MATCHED_INVALID_PAGE_CHANGE","BLIP_MATCHED_INVALID_PAGE_CHANGE");return;}}
if(page_prefix===''||page_prefix==='main'){page_prefix='main_page';}else if(page_prefix==='thx'||page_prefix==='thx_'){page_prefix='thank_you_page';}
else if(page_prefix.indexOf('ep')===0){var pNum=getExtraPageNumberFromEPString(page_prefix);page_prefix='extra_page_'+pNum;}
var vendorShortId=VENDOR_GUID||'empty';var boxShortId=orig_lid||'empty';var variationShortId=var_id||'empty';var splitShortId=ab_test_id||'empty';if(typeof DIGIOH_VENDOR_SHORT_ID!=='undefined'){vendorShortId=DIGIOH_VENDOR_SHORT_ID;}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(orig_lid)&&DIGIOH_LIGHTBOX_IDS[orig_lid]){boxShortId=DIGIOH_LIGHTBOX_IDS[orig_lid];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)&&DIGIOH_LIGHTBOX_IDS[var_id]){variationShortId=DIGIOH_LIGHTBOX_IDS[var_id];}
if(typeof DIGIOH_SPLIT_TESTS_ARR!=='undefined'&&DIGIOH_SPLIT_TESTS_ARR.length){for(var i=0;i<DIGIOH_SPLIT_TESTS_ARR.length;i++){if(DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_short_id')&&DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_guid')&&DIGIOH_SPLIT_TESTS_ARR[i]['split_guid']==ab_test_id){splitShortId=DIGIOH_SPLIT_TESTS_ARR[i]['split_short_id'];break;}}}
updateKeenSchemaBeforeSending();var lightbox_page_change=KEEN_SCHEMA;lightbox_page_change.cache_version=DIGIOH_CACHE_VERSION;lightbox_page_change.is_preview=IS_PREVIEW;lightbox_page_change.ip_address="${keen.ip}";lightbox_page_change.user_agent="${keen.user_agent}";lightbox_page_change.vendor_id=VENDOR_GUID;lightbox_page_change.client_id=CLIENT_GUID;lightbox_page_change.event_id=generateGuidWithTimestamp();lightbox_page_change.lightbox_id=orig_lid;lightbox_page_change.variation_id=var_id;lightbox_page_change.ab_test_id=ab_test_id;lightbox_page_change.uid=vendorShortId;lightbox_page_change.bid=boxShortId;lightbox_page_change.vid=variationShortId;lightbox_page_change.sid=splitShortId;lightbox_page_change.page_total_time=TOTAL_TIME;lightbox_page_change.page_active_time=TOTAL_TIME-IDLE_TIME;lightbox_page_change.page_idle_time=IDLE_TIME;lightbox_page_change.impressions_on_page=(WAS_IMPRESSION_REGISTERED.hasOwnProperty(orig_lid)?WAS_IMPRESSION_REGISTERED[orig_lid]:0);lightbox_page_change.page_name=page_prefix;if(var_id&&EFFECTS.hasOwnProperty(var_id)){lightbox_page_change.widget_type=EFFECTS[var_id].widget_type;}else{lightbox_page_change.widget_type=EFFECTS[orig_lid].widget_type;}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(orig_lid)){lightbox_page_change.lightbox_name=DIGIOH_LIGHTBOX_NAMES[orig_lid];}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(var_id)){lightbox_page_change.variation_name=DIGIOH_LIGHTBOX_NAMES[var_id];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(orig_lid)){lightbox_page_change.lightbox_short_id=DIGIOH_LIGHTBOX_IDS[orig_lid];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)){lightbox_page_change.variation_short_id=DIGIOH_LIGHTBOX_IDS[var_id];}
if(window.DIGIOH_API.LIGHTBOX.hasOwnProperty('keen_custom_js_data')){lightbox_page_change.custom_js_data=window.DIGIOH_API.LIGHTBOX.keen_custom_js_data;}
KEEN_CLIENT.addEvent("lightbox_page_change",lightbox_page_change,function(res,e){if(res&&typeof res==='object'&&res.hasOwnProperty('created')&&res.created===true){logger('keenLightboxPageChange: success!');logger(res);}else if(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logErrorText("keenLightboxPageChange_ERROR","keenLightboxPageChange_ERROR");}
else{logErrorText("keenLightboxPageChange_ERROR_OTHER","keenLightboxPageChange_ERROR_OTHER");}});LIGHTBOX_OPEN_TIME=TOTAL_TIME;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logErrorText("keenLightboxPageChange_EXCEPTION","keenLightboxPageChange_EXCEPTION");}}
var keenLightboxDebug=function(lid,additional_data_obj){try{var var_id='';var orig_lid=lid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lid];var_id=lid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lid];}
var ab_test_id='';if(var_id!=''&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){ab_test_id=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(orig_lid)){ab_test_id=AB_BOXES_TAKE_MAP[orig_lid];}
var vendorShortId=VENDOR_GUID||'empty';var boxShortId=orig_lid||'empty';var variationShortId=var_id||'empty';var splitShortId=ab_test_id||'empty';if(typeof DIGIOH_VENDOR_SHORT_ID!=='undefined'){vendorShortId=DIGIOH_VENDOR_SHORT_ID;}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(orig_lid)&&DIGIOH_LIGHTBOX_IDS[orig_lid]){boxShortId=DIGIOH_LIGHTBOX_IDS[orig_lid];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)&&DIGIOH_LIGHTBOX_IDS[var_id]){variationShortId=DIGIOH_LIGHTBOX_IDS[var_id];}
if(typeof DIGIOH_SPLIT_TESTS_ARR!=='undefined'&&DIGIOH_SPLIT_TESTS_ARR.length){for(var i=0;i<DIGIOH_SPLIT_TESTS_ARR.length;i++){if(DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_short_id')&&DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_guid')&&DIGIOH_SPLIT_TESTS_ARR[i]['split_guid']==ab_test_id){splitShortId=DIGIOH_SPLIT_TESTS_ARR[i]['split_short_id'];break;}}}
updateKeenSchemaBeforeSending();var lightbox_debug=KEEN_SCHEMA;lightbox_debug.cache_version=DIGIOH_CACHE_VERSION;lightbox_debug.is_preview=IS_PREVIEW;lightbox_debug.ip_address="${keen.ip}";lightbox_debug.user_agent="${keen.user_agent}";lightbox_debug.vendor_id=VENDOR_GUID;lightbox_debug.client_id=CLIENT_GUID;lightbox_debug.event_id=generateGuidWithTimestamp();lightbox_debug.lightbox_id=orig_lid;lightbox_debug.variation_id=var_id;lightbox_debug.ab_test_id=ab_test_id;lightbox_debug.uid=vendorShortId;lightbox_debug.bid=boxShortId;lightbox_debug.vid=variationShortId;lightbox_debug.sid=splitShortId;lightbox_debug.page_total_time=TOTAL_TIME;lightbox_debug.page_active_time=TOTAL_TIME-IDLE_TIME;lightbox_debug.page_idle_time=IDLE_TIME;lightbox_debug.impressions_on_page=(WAS_IMPRESSION_REGISTERED.hasOwnProperty(orig_lid)?WAS_IMPRESSION_REGISTERED[orig_lid]:0);if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(orig_lid)){lightbox_debug.lightbox_name=DIGIOH_LIGHTBOX_NAMES[orig_lid];}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(var_id)){lightbox_debug.variation_name=DIGIOH_LIGHTBOX_NAMES[var_id];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(orig_lid)){lightbox_debug.lightbox_short_id=DIGIOH_LIGHTBOX_IDS[orig_lid];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)){lightbox_debug.variation_short_id=DIGIOH_LIGHTBOX_IDS[var_id];}
if(window.DIGIOH_API.LIGHTBOX.hasOwnProperty('keen_custom_js_data')){lightbox_debug.custom_js_data=window.DIGIOH_API.LIGHTBOX.keen_custom_js_data;}
if(typeof additional_data_obj!=='undefined'&&additional_data_obj!==null){var debug_schema=mergeObjectData(lightbox_debug,additional_data_obj);KEEN_CLIENT.addEvent("lightbox_debug",debug_schema);}else{KEEN_CLIENT.addEvent("lightbox_debug",lightbox_debug);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"keenLightboxDebug");}};function updateKeenSchemaBeforeSending(){try{KEEN_SCHEMA.geoip={ip_address:DIGIOH_LIGHTBOX_ANALYTICS.VARS.ip_address,continent_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.continent,country_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.country,country_name:DIGIOH_LIGHTBOX_ANALYTICS.VARS.country_name,region_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.state,region_name:DIGIOH_LIGHTBOX_ANALYTICS.VARS.region_name,city:DIGIOH_LIGHTBOX_ANALYTICS.VARS.city,zipcode:DIGIOH_LIGHTBOX_ANALYTICS.VARS.zipcode,metro_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.metro_code,time_zone:DIGIOH_LIGHTBOX_ANALYTICS.VARS.time_zone,area_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.area_code,latitude:DIGIOH_LIGHTBOX_ANALYTICS.VARS.latitude,longitude:DIGIOH_LIGHTBOX_ANALYTICS.VARS.longitude,geo_source:DIGIOH_LIGHTBOX_ANALYTICS.VARS.geo_source,blip_matched:BLIP_MATCHED};KEEN_SCHEMA.device_atlas={primaryHardwareType:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.primaryHardwareType,isApp:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isApp,isTablet:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isTablet,isMobilePhone:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isMobilePhone,model:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.model,vendor:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.vendor,touchScreen:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.touchScreen,osName:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osName,osVersion:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osVersion,browserName:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.browserName,browserVersion:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.browserVersion,osAndroid:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osAndroid,osiOs:DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osiOs,device_source:DIGIOH_LIGHTBOX_ANALYTICS.VARS.device_source};KEEN_SCHEMA.device={hardware:DIGIOH_LIGHTBOX_ANALYTICS.VARS.device,os:DIGIOH_LIGHTBOX_ANALYTICS.VARS.operating_system,browser_type:DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_type,browser_version:DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_version};KEEN_SCHEMA.entry_point={referrer_url:DIGIOH_LIGHTBOX_ANALYTICS.VARS.referring_website_url,landing_page_url:DIGIOH_LIGHTBOX_ANALYTICS.VARS.landing_page,landing_page_ip:DIGIOH_LIGHTBOX_ANALYTICS.VARS.landing_page_ip,landing_page_date:DIGIOH_LIGHTBOX_ANALYTICS.VARS.date_of_visit,web_source:DIGIOH_LIGHTBOX_ANALYTICS.VARS.web_source,past_visits:DIGIOH_LIGHTBOX_ANALYTICS.VARS.past_visits,page_visits:DIGIOH_LIGHTBOX_ANALYTICS.VARS.page_visits,search_engine:DIGIOH_LIGHTBOX_ANALYTICS.VARS.search_engine,utm_campaign_source:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_source,utm_campaign_medium:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_medium,utm_campaign_term:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_term,utm_campaign_content:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_content,utm_campaign_name:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_name};}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"updateKeenSchemaBeforeSending");}}
function postToKeen(post_query,lid,sid,extra_data){try{var src=DIGIOH_API.CONFIG.SUBMIT_BASE_URL+"/Keen/PostToKeen2";var src3=DIGIOH_API.CONFIG.SUBMITCUS_BASE_URL+"/Keen/PostToKeen3";if(DIGIOH_API.CONFIG.REGION=='US'&&(IS_DEV||DIGIOH_API.contains(window.location.host,"robert.lightbox")||DIGIOH_API.contains(window.location.host,"-robert.az")||DIGIOH_API.contains(window.location.host,"robert.digioh")))
src=DIGIOH_API.CONFIG.ROB_BASE_URL+"/Keen/PostToKeenR2";if(window.location.host.indexOf("beta2")===0||window.location.href.indexOf("digiohbeta2")>0)
src=DIGIOH_API.CONFIG.BETA2_BASE_URL+"/Keen/PostToKeenB2";else if(window.location.host.indexOf("beta")===0||window.location.href.indexOf("digiohbeta")>0)
src=DIGIOH_API.CONFIG.BETA_BASE_URL+"/Keen/PostToKeenB";var submitSynchronously=localStorage.getItem('BOX_SUBMIT_SYNC');if(submitSynchronously){src=src.split('/Keen/')[0]+'/Keen/SubmitAndProcess';src3='';}
if(window.location.host.indexOf('localhost:44338')===0||(DIGIOH_API.contains(window.location.host,"digioh.com")&&!DIGIOH_API.contains(window.location.host,"account.digioh.com"))){src='https://'+window.location.host+'/Keen/SubmitAndProcess';src3='';}
logger('postToKeen: '+src);var var_id='';var orig_lid=lid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lid];var_id=lid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lid];}
var ab_test_id='';if(var_id!=''&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){ab_test_id=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(orig_lid)){ab_test_id=AB_BOXES_TAKE_MAP[orig_lid];}
if(!IS_PREVIEW){if(BLIP_MATCHED===1){logger("BLIP_MATCHED_INVALID_SUBMIT_POSTTOKEEN","BLIP_MATCHED_INVALID_SUBMIT_POSTTOKEEN");return;}}
var delay_integration=false;if(post_query.indexOf('delay_integration_3_minutes')>0){logger('delay_integration_3_minutes')
delay_integration=true;}
var required_params='';required_params+='_uid='+VENDOR_GUID+'&';required_params+='_lid='+orig_lid+'&';required_params+='_vid='+var_id+'&';required_params+='_tid='+ab_test_id+'&';required_params+='_cid='+CLIENT_GUID+'&';required_params+='_sid='+sid+'&';extra_data=prepareExtraDataObject(extra_data,orig_lid,var_id,sid,ab_test_id);if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.hasOwnProperty('isRobot')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isRobot){required_params+='_bot=1&';}else{required_params+='_bot=0&';}
if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.hasOwnProperty('isBrowser')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isBrowser){required_params+='_bro=1&';}else{required_params+='_bro=0&';}
var form=LZString.compressToBase64(required_params+post_query).split('+').join('%2B');var query="?_form="+form;var extended_data={};extended_data.g={};var qsext="";qsext+=(DIGIOH_LIGHTBOX_ANALYTICS.VARS.city||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.region_name||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.country||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.country_name||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.continent||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.ip_address||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.zipcode||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.web_source||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.search_engine||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.page_visits||'0');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.past_visits||'0');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.referring_website_url||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.landing_page||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.current_page_url||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.device||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_type||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_version||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.operating_system||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.date_of_visit||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_source||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_medium||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_term||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_content||'');qsext+="|_-_|"+(DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_name||'');if(IS_DEV)qsext+="|_-_|1";else qsext+="|_-_|0";if(IS_PREVIEW)qsext+="|_-_|1";else qsext+="|_-_|0";var ext=LZString.compressToBase64(qsext).split('+').join('%2B');query+="&_ext="+ext;var iov='';if(window.DIGIOH_API.LIGHTBOX.hasOwnProperty('INTEGRATION_MAP')&&window.DIGIOH_API.LIGHTBOX.INTEGRATION_MAP!==null&&typeof window.DIGIOH_API.LIGHTBOX.INTEGRATION_MAP==='object'){var iov='';for(var iprop in window.DIGIOH_API.LIGHTBOX.INTEGRATION_MAP){if(window.DIGIOH_API.LIGHTBOX.INTEGRATION_MAP.hasOwnProperty(iprop)){if(iov!==''){iov+='|';}
iov+=iprop+'='+window.DIGIOH_API.LIGHTBOX.INTEGRATION_MAP[iprop];}}
if(iov!==''){iov=LZString.compressToBase64(iov).split('+').join('%2B');query+="&_iov="+iov;}}
var query_plain='';query_plain+="&_uid="+DIGIOH_VENDOR_SHORT_ID;query_plain+="&_bid="+DIGIOH_API.getBoxID(orig_lid);query_plain+="&_ice="+(DIGIOH_API.isCaptchaEnabled(lid)?'1':'0');query+=query_plain;if(DIGIOH_API.CONFIG.USE_SUBMIT_POST){if(!delay_integration){DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH.post(src+'?is_post=1'+query_plain,{_form:form,_ext:ext,_iov:iov,_extra:LZString.compressToBase64(JSON.stringify(extra_data))},function(data){logger(data);});}
if(src3&&(DIGIOH_API.CONFIG.REGION=='US'||DIGIOH_API.CONFIG.SUBMITCUS_BASE_URL.indexOf('skipendpoint')<0)){DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH.post(src3+'?is_post=1'+query_plain,{_form:form,_ext:ext,_iov:iov,_extra:LZString.compressToBase64(JSON.stringify(extra_data))},function(data3){logger(data3);});}}else{if(!delay_integration){var img=new Image();img.src=(src+query);}
if(src3&&(DIGIOH_API.CONFIG.REGION=='US'||DIGIOH_API.CONFIG.SUBMITCUS_BASE_URL.indexOf('skipendpoint')<0)){var img3=new Image();img3.src=(src3+query);}}
analyticsSubmit(orig_lid,var_id,ab_test_id);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"postToKeen");}}
function initAnalytics(){try{DIGIOH_LIGHTBOX_ANALYTICS.onDocumentReady();DIGIOH_LIGHTBOX_ANALYTICS.loadAllVars();DIGIOH_LIGHTBOX_ANALYTICS.VARS.IsLoaded=true;startIdleTimer();initKeenSchema();}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initAnalytics");}}
var onPageUrlChanged=function(url,send_pv_event,update_pv_based_vars,use_master_rules,re_calc_ab_tests){return onInfiniteScrollPageChanged(url,send_pv_event,update_pv_based_vars,use_master_rules,re_calc_ab_tests);};var onInfiniteScrollPageChanged=function(url,send_pv_event,update_pv_based_vars,use_master_rules,re_calc_ab_tests){var cobj={};var cookieName="__bxcurr";var cookieVal=DIGIOH_STORAGE.data[cookieName];if(cookieVal){if(typeof cookieVal==='string'&&cookieVal.length>1&&cookieVal.indexOf('{')===0&&cookieVal.substring(cookieVal.length-1)==='}'){cobj=JSON.parse(cookieVal);}else if(typeof cookieVal==='object'&&cookieVal!==null){cobj=cookieVal;}}
if(typeof url!=='string'||url.indexOf('://')<=0){url=window.parent.location.href;}
if(send_pv_event){window.SENT_LIGHTBOX_PV=false;cfPageview();}
TS_EVAL_PREV={};SS_EVAL_PREV={};TOTAL_TIME=0;IDLE_TIME=0;DIGIOH_LIGHTBOX_ANALYTICS.VARS.total_time_seconds=0;DIGIOH_LIGHTBOX_ANALYTICS.VARS.active_time_seconds=0;DIGIOH_LIGHTBOX_ANALYTICS.VARS.idle_time_seconds=0;var foundUpdate=false;if(url&&url!==DIGIOH_LIGHTBOX_ANALYTICS.VARS.current_page_url){var domain_base=window.parent.location.host;var domain_ending=url.replace("https://"+domain_base,"").replace("http://"+domain_base,"");DIGIOH_LIGHTBOX_ANALYTICS.VARS.current_page_url=url;DIGIOH_LIGHTBOX_ANALYTICS.VARS.pages_navigated+="|"+url;DIGIOH_LIGHTBOX_ANALYTICS.VARS.PagesNavigated.push(url);if(DIGIOH_STORAGE.storage_type==='cookie'){var pvTempArray=DIGIOH_LOCAL_STORAGE.getManual('xdibx_pgsnavurls');if(pvTempArray){pvTempArray.push(domain_ending);DIGIOH_LOCAL_STORAGE.setManual('xdibx_pgsnavurls',pvTempArray);}}else{cobj['purl'].push(domain_ending);}
foundUpdate=true;}
if(update_pv_based_vars){DIGIOH_LIGHTBOX_ANALYTICS.VARS.page_visits++;cobj['pvcnt']=DIGIOH_LIGHTBOX_ANALYTICS.VARS.page_visits;DIGIOH_LIGHTBOX_ANALYTICS.VARS.page_visits_session++;cobj['pvscnt']=DIGIOH_LIGHTBOX_ANALYTICS.VARS.page_visits_session;foundUpdate=true;}
recheckExistsSelectors();initClickSelectors();initHoverSelectors();embedInlineLightboxAlwaysForms();embedInlineLightboxConditionsForms();if(re_calc_ab_tests){initABSplitTests();initVariations();}
if(foundUpdate){DIGIOH_STORAGE.data[cookieName]=cobj;DIGIOH_STORAGE.set();}
if(!use_master_rules||checkLightboxMasterRules()){checkConditionsLoad();logger('onPageChanged('+url+')');}};function embedInlineLightboxConditionsForms(){try{for(var i=0;i<DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR.length;i++){if(IS_PREVIEW||checkConditions('',DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[i],'',false)===DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[i]){if(!DIGIOH_API.contains(DIGIOH_LIGHTBOX_INLINE_DISPLAYED,DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[i])){embedInlineLightboxForm(DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[i]);}
else{logger('DIGIOH::::embedInlineLightboxConditionsForms('+DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[i]+') ==> FAIL 2');}}
else{logger('DIGIOH::::embedInlineLightboxConditionsForms('+DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[i]+') ==> FAIL 3');}}
logger('ran embedInlineLightboxConditionsForms('+DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR.length+')');}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"embedInlineLightboxConditionsForms");}}
var closeAllInlineForms=function(){try{for(var i=0;i<DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR.length;i++){closeInline(DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR[i]);}
for(var i=0;i<DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR.length;i++){closeInline(DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[i]);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"closeAllInlineForms");}};var reDisplayInlineForm=function(lid){try{if(DIGIOH_API.contains(PRELOADED_LIGHTBOXES,lid)){PRELOADED_LIGHTBOXES=DIGIOH_API.remove(PRELOADED_LIGHTBOXES,lid);}
if(DIGIOH_API.contains(DIGIOH_LIGHTBOX_INLINE_DISPLAYED,lid)){DIGIOH_LIGHTBOX_INLINE_DISPLAYED=DIGIOH_API.remove(DIGIOH_LIGHTBOX_INLINE_DISPLAYED,lid);}
embedInlineLightboxForm(lid);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"redisplayInlineForm");}};var isActiveBox=function(lbid){try{return JQUERY_DIGIOH.inArray(lbid,LOADED_LIGHTBOXES)>=0;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"isActiveBox");}};function keepSendingResizeToChildUntilReceived(resize_obj,lbid,retry_delay,cnt){try{var resizeReceivedByChild=sendMessageToIframe(resize_obj,lbid);if(!resizeReceivedByChild&&cnt*retry_delay<5000){if(EFFECTS[lbid].widget_type==='inline'||isActiveBox(lbid))
window.setTimeout(function(){keepSendingResizeToChildUntilReceived(resize_obj,lbid,retry_delay,cnt+1);},retry_delay);}else if(cnt>0&&resizeReceivedByChild){logger('DIGIOH:  keepSendingResizeToChildUntilReceived: '+cnt+' misses before SUCCEEDING: '+lbid);}else if(!resizeReceivedByChild&&cnt*retry_delay>=5000){}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"keepSendingResizeToChildUntilReceived");}}
function keepSendingEventNotificationToChildUntilReceived(notify_obj,lbid,retry_delay,cnt){try{var wasMessageReceivedByChild=sendMessageToIframe(notify_obj,lbid);if(!wasMessageReceivedByChild&&cnt*retry_delay<5000){if(EFFECTS[lbid].widget_type==='inline'||isActiveBox(lbid))
window.setTimeout(function(){keepSendingEventNotificationToChildUntilReceived(notify_obj,lbid,retry_delay,cnt+1);},retry_delay);}else if(cnt>0&&wasMessageReceivedByChild){logger('DIGIOH:  keepSendingEventNotificationToChildUntilReceived: '+cnt+' misses before SUCCEEDING: '+lbid);}else if(!wasMessageReceivedByChild&&cnt*retry_delay>=5000){}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"keepSendingEventNotificationToChildUntilReceived");}}
function getPagePref(lbid){try{var pref='';if(CURRENT_PAGE.hasOwnProperty(lbid)&&CURRENT_PAGE[lbid]!==''&&CURRENT_PAGE[lbid]!=='main'&&CURRENT_PAGE[lbid]){pref=CURRENT_PAGE[lbid];}
return pref;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getPagePref");return '';}}
var responsiveResizeCheck=function(trigger_source,lid){try{if(typeof lid!=='string'||lid.length<20){for(var b=0;b<LOADED_LIGHTBOXES.length;b++){if(LOADED_LIGHTBOXES[b]&&LOADED_LIGHTBOXES[b].length>20&&isActiveBox(LOADED_LIGHTBOXES[b])){responsiveResizeCheck(trigger_source,LOADED_LIGHTBOXES[b]);}}
for(var i=0;i<DIGIOH_LIGHTBOX_INLINE_DISPLAYED.length;i++){var lbid=DIGIOH_LIGHTBOX_INLINE_DISPLAYED[i];var var_id='';var orig_lid=lbid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lbid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lbid];var_id=lbid;}
else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lbid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lbid];}
if(var_id!==''&&var_id.length>7){lbid=var_id;}
var dom_id=getLightboxDomId(lbid);var pref=getPagePref(lbid);var inlinePixelVersionChangeDetected=setPixelThreshold(lbid,true);if(inlinePixelVersionChangeDetected){logger('inlinePixelVersionChangeDetected: '+lbid);var pg='';if(CURRENT_PAGE.hasOwnProperty(lbid)){pg=CURRENT_PAGE[lbid];}
sendMessageToIframe({sender:'lightbox',action:'pixel_version_changed',page:pg},lbid);logger('responsiveResizeCheck_inline:pixel_version_changed: '+lbid+', page='+pg);var widthAndHeight='';var widthAndHeightInlineResponsive='';var responsiveScale='';if(DIGIOH_USE_RESPONSIVE&&EFFECTS[lbid].hasOwnProperty(pref+'responsive')&&EFFECTS[lbid][pref+'responsive'].use){JQUERY_DIGIOH('#'+dom_id).css({'width':getResponsiveBoxWidthPercent(lbid)+'%','height':getResponsiveBoxHeightPercent(lbid)+'%','max-width':getResponsiveBoxWidthMax(lbid)+'px','min-width':getResponsiveBoxWidthMin(lbid)+'px','max-height':getResponsiveBoxHeightMax(lbid)+'px','min-height':getResponsiveBoxHeightMin(lbid)+'px'});}
else if(!DIGIOH_USE_RESPONSIVE&&EFFECTS[lbid].hasOwnProperty(pref+'responsive')&&EFFECTS[lbid][pref+'responsive'].use){var bw=getBoxWidth(lbid);var bh=getBoxHeight(lbid);JQUERY_DIGIOH('#'+dom_id).css({'width':'100%','height':bh+'px','max-width':'10000px','min-width':bw+'px','max-height':bh+'px','min-height':bh+'px'});}
else{var bw=getBoxWidth(lbid);var bh=getBoxHeight(lbid);JQUERY_DIGIOH('#'+dom_id).css({'width':bw+'px','height':bh+'px','min-width':bw+'px','min-height':bh+'px','max-height':bh+'px'});}
setBoxToScrollMode(lbid,pg,'pixel_version_changed');}
if(EFFECTS.hasOwnProperty(lbid)&&EFFECTS[lbid].widget_type==='inline'&&EFFECTS[lbid].hasOwnProperty(pref+'responsive')&&EFFECTS[lbid][pref+'responsive'].use&&JQUERY_DIGIOH('#'+dom_id).length){inlineResponsiveResizing(lbid,dom_id,(new Date().getTime()),0,0);}}}
else if(lid&&lid!==''&&EFFECTS.hasOwnProperty(lid)&&EFFECTS[lid].widget_type!=='inline'){var pixelVersionChangeDetected=setPixelThreshold(lid,true);if(pixelVersionChangeDetected){logger('pixelVersionChangeDetected: '+lid);var pg='';if(CURRENT_PAGE.hasOwnProperty(lid)){pg=CURRENT_PAGE[lid];}
sendMessageToIframe({sender:'lightbox',action:'pixel_version_changed',page:pg},lid);setBoxToScrollMode(lid,pg,'pixel_version_changed');}
var dom_id=getLightboxDomId(lid);var pref=getPagePref(lid);if(EFFECTS[lid].hasOwnProperty(pref+'responsive')&&EFFECTS[lid][pref+'responsive'].use){var dims_obj=getActualBoxWidthAndHeight(lid);CURRENT_PAGE_DIMS_RESPONSIVE[lid]={width:dims_obj.width,height:dims_obj.height};if(EFFECTS[lid].widget_type==='sidebar'){if(FOCUSED_SIDEBAR_BANNER_GUIDS.hasOwnProperty(lid)&&FOCUSED_SIDEBAR_BANNER_GUIDS[lid]&&isMobile()){if(trigger_source==='mobile_orientation_change'){JQUERY_DIGIOH('#'+dom_id).attr('style',getSidebarPositionMobileFocused(EFFECTS[lid].sidebar,lid));}else{return;}}else{JQUERY_DIGIOH('#'+dom_id).attr('style',getSidebarPositionAfterAnimation(EFFECTS[lid].sidebar,lid));}}
if(EFFECTS[lid].widget_type==='banner'){if(FOCUSED_SIDEBAR_BANNER_GUIDS.hasOwnProperty(lid)&&FOCUSED_SIDEBAR_BANNER_GUIDS[lid]&&isMobile()){if(trigger_source==='mobile_orientation_change'){JQUERY_DIGIOH('#'+dom_id).attr('style',getBannerPositionMobileFocused(EFFECTS[lid].banner,lid));}else{return;}}else{JQUERY_DIGIOH('#'+dom_id).attr('style',getBannerPosition(EFFECTS[lid].banner,lid));}
if(!EFFECTS[lid].banner.hasOwnProperty('placement')||EFFECTS[lid].banner.placement!=='bottom'){if(JQUERY_DIGIOH('#banner-spacer-'+lid).length){var banner_height=getResponsiveBoxHeight(lid);JQUERY_DIGIOH('#banner-spacer-'+lid).height(banner_height);}}}
if(EFFECTS[lid].widget_type==='fancybox'){FANCY_REPOSITION_LOCKED[lid]=true;var left_new=Math.round(((jqWin.width()-dims_obj.width)/2)+jqWin.scrollLeft());var top_new=Math.round(((jqWin.height()-dims_obj.height)/2)+jqWin.scrollTop());var wrap=JQUERY_DIGIOH('.fb_lightbox-wrap').filter(':first');wrap.css({'left':left_new,'top':top_new,'width':dims_obj.width+'px','height':dims_obj.height+'px'});JQUERY_DIGIOH('#'+dom_id).css({'left':left_new,'top':top_new,'width':dims_obj.width+'px','height':dims_obj.height+'px'});}
keepSendingResizeToChildUntilReceived({sender:'lightbox',action:'dimensions_changed',widget_type:EFFECTS[lid].widget_type,width:dims_obj.width,height:dims_obj.height},lid,100,0);}
else{var dims_obj=getActualBoxWidthAndHeight(lid);if(EFFECTS[lid].widget_type==='sidebar'){if(FOCUSED_SIDEBAR_BANNER_GUIDS.hasOwnProperty(lid)&&FOCUSED_SIDEBAR_BANNER_GUIDS[lid]&&isMobile()){if(trigger_source==='mobile_orientation_change'){JQUERY_DIGIOH('#'+dom_id).attr('style',getSidebarPositionMobileFocused(EFFECTS[lid].sidebar,lid));}else{return;}}else{JQUERY_DIGIOH('#'+dom_id).attr('style',getSidebarPositionAfterAnimation(EFFECTS[lid].sidebar,lid));}}
if(EFFECTS[lid].widget_type==='banner'){if(FOCUSED_SIDEBAR_BANNER_GUIDS.hasOwnProperty(lid)&&FOCUSED_SIDEBAR_BANNER_GUIDS[lid]&&isMobile()){if(trigger_source==='mobile_orientation_change'){JQUERY_DIGIOH('#'+dom_id).attr('style',getBannerPositionMobileFocused(EFFECTS[lid].banner,lid));}else{return;}}else{JQUERY_DIGIOH('#'+dom_id).attr('style',getBannerPosition(EFFECTS[lid].banner,lid));}
if(!EFFECTS[lid].banner.hasOwnProperty('placement')||EFFECTS[lid].banner.placement!=='bottom'){if(JQUERY_DIGIOH('#banner-spacer-'+lid).length){var banner_height=JQUERY_DIGIOH('#'+dom_id).height();JQUERY_DIGIOH('#banner-spacer-'+lid).height(banner_height);}}}
if(EFFECTS[lid].widget_type==='fancybox'){FANCY_REPOSITION_LOCKED[lid]=true;var left_new=Math.round(((jqWin.width()-dims_obj.width)/2)+jqWin.scrollLeft());var top_new=Math.round(((jqWin.height()-dims_obj.height)/2)+jqWin.scrollTop());var m=getResponsiveScaleMultiplier(lid);var wrap=JQUERY_DIGIOH('.fb_lightbox-wrap').filter(':first');wrap.css({'left':left_new,'top':top_new,'width':dims_obj.width+'px','height':dims_obj.height+'px','transform':'scale('+m+')','-webkit-transform':'scale('+m+')','-moz-transform':'scale('+m+')','-ms-transform':'scale('+m+')','-o-transform':'scale('+m+')'});JQUERY_DIGIOH('#'+dom_id).css({'left':left_new,'top':top_new,'width':dims_obj.width+'px','height':dims_obj.height+'px','transform':'scale('+m+')','-webkit-transform':'scale('+m+')','-moz-transform':'scale('+m+')','-ms-transform':'scale('+m+')','-o-transform':'scale('+m+')'});}}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"responsiveResizeCheck");}};function getiOSWindowWidth(){return window.innerWidth;}
function doOnOrientationChange(){try{responsiveResizeCheck('mobile_orientation_change');window.setTimeout(function(){responsiveResizeCheck('mobile_orientation_change');},350);window.setTimeout(function(){responsiveResizeCheck('mobile_orientation_change');},850);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"doOnOrientationChange");}}
function responsiveResizeOnWindowResize(){try{jqWin.resize(function(){responsiveResizeCheck('window_resize');setBoxToScrollMode('','','window_resize');});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"responsiveResizeOnWindowResize");}}
var cloneObj=function(obj){var copy;if(null==obj||"object"!=typeof obj)return obj;if(obj instanceof Date){copy=new Date();copy.setTime(obj.getTime());return copy;}
if(obj instanceof Array){copy=[];for(var i=0,len=obj.length;i<len;i++){copy[i]=cloneObj(obj[i]);}
return copy;}
if(obj instanceof Object){copy={};for(var attr in obj){if(obj.hasOwnProperty(attr)&&attr!=='__proto__')copy[attr]=cloneObj(obj[attr]);}
return copy;}
throw new Error("Unable to copy obj! Its type isn't supported.");};function initConditions(){try{var box_test_id=getUrlParam('box_test_id');var box_test_name=getUrlParam('box_test_name');var lbid='';if(IS_PREVIEW){try{var isPrintFlagSet=localStorage.getItem(PRINT_ALL_FLAG_NAME);localStorage.clear();var cookies=parent.document.cookie.split(";");for(var i=0;i<cookies.length;i++){if('AnalyticsCustom'!=cookies[i].split("=")[0]){DIGIOH_COOKIE.erase(cookies[i].split("=")[0]);logger('Preview.initConditions.eraseCookie: '+cookies[i].split("=")[0]);}}
if(isPrintFlagSet){localStorage.setItem(PRINT_ALL_FLAG_NAME,"true");}
logger('Preview.clearDataLayer, erase cookies, erase LS, for Preview');}
catch(ce){logError(ce,"initConditions.clearDataLayer.clearCookies");}}
if(window.DIGIOH_MOBILE_SDK_BOX_ID){if(DIGIOH_LIGHTBOX_IDS){for(var guid in DIGIOH_LIGHTBOX_IDS){if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(guid)&&DIGIOH_LIGHTBOX_IDS[guid]===window.DIGIOH_MOBILE_SDK_BOX_ID){lbid=guid;break;}}}
if(lbid){loadLightbox(lbid);}else{logger('The Box you are trying to display is currently turned OFF.');}}
else if(box_test_id&&box_test_name){if(DIGIOH_LIGHTBOX_IDS){for(var guid in DIGIOH_LIGHTBOX_IDS){if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(guid)&&DIGIOH_LIGHTBOX_IDS[guid]===box_test_id){lbid=guid;break;}}
if(lbid){if(!EFFECTS.hasOwnProperty(lbid)||!EFFECTS[lbid]){logger('**DIGIOH_DEFAULT_EFFECTS() were required in Test Mode**');var w={};w.widget_type="sidebar";w.sidebar={};w.sidebar.css_positioning="fixed";w.sidebar.position="center-center";w.sidebar.speed={"open":100,"close":100};w.sidebar.animation={open:"fade",close:"fade"};w.sidebar.easing={open:"swing",close:"swing"};w.sidebar.close_button={display:false};w.sidebar.auto_close={"click":false,"time":0,"scroll_up":0,"scroll_down":0};w.sidebar.teaser={display:false};EFFECTS[lbid]=w;DIGIOH_LIGHTBOX_EFFECTS[lbid]=w;}
var box_brst_scrsht=getUrlParam('box_brst_scrsht');if(box_brst_scrsht&&box_brst_scrsht==='y'){if(EFFECTS[lbid].widget_type=="sidebar"){EFFECTS[lbid].sidebar.css_positioning='absolute';}else if(EFFECTS[lbid].widget_type=="banner"){EFFECTS[lbid].banner.css_positioning='absolute';}}
if(window.location.href.indexOf('lightbox-jquery-selector-generator')>0&&EFFECTS[lbid].widget_type==='inline'){DIGIOH_API.activeInlineSelectorGeneratorBox=lbid;}
else if(EFFECTS[lbid].widget_type==='inline'){if(!EFFECTS[lbid].hasOwnProperty('sidebar')){EFFECTS[lbid].sidebar={};EFFECTS[lbid].sidebar.animation={};EFFECTS[lbid].sidebar.easing={};EFFECTS[lbid].sidebar.auto_close={click:true,time:0,scroll_up:0,scroll_down:0};EFFECTS[lbid].sidebar.close_button={display:true,type:'default',image:'',position:'top-right',offset_x:-18,offset_y:-18};EFFECTS[lbid].sidebar.css='';EFFECTS[lbid].sidebar.css_positioning='absolute';EFFECTS[lbid].sidebar.speed={open:400,close:400};EFFECTS[lbid].sidebar.teaser={display:false,display_on_page_load:false};}
EFFECTS[lbid].widget_type='sidebar';EFFECTS[lbid].sidebar.position='center-center';EFFECTS[lbid].sidebar.animation.open='fade';EFFECTS[lbid].sidebar.animation.close='fade';EFFECTS[lbid].sidebar.easing.open='swing';EFFECTS[lbid].sidebar.easing.close='swing';EFFECTS[lbid].sidebar.overlay={};EFFECTS[lbid].sidebar.overlay.close_click=false;EFFECTS[lbid].sidebar.overlay.background={color:"rgba(255, 255, 255, 0)",gradient:"rgba(255, 255, 255, 0)",image:"",position:"left top",repeat:"no-repeat",use_gradient:false,use_image:false};EFFECTS[lbid].sidebar.css_positioning='absolute';responsiveResizeOnWindowResize();logger("loadLightbox: initConditions > box_test > inline, "+lbid);loadLightbox(lbid);}
else{responsiveResizeOnWindowResize();logger("loadLightbox: initConditions > box_test > non-inline, "+lbid);loadLightbox(lbid);}}else{alert('The Box you are trying to test is currently turned OFF, or it does not have any Conditions assigned to it.  In order to test a Box on your site, you must first turn the Box ON, add at least 1 Condition to it, and then Publish.  Note: only YOU will see this alert message, your visitors will NEVER see this message.');}}}
else if(!IS_PREVIEW){initABSplitTests();initVariations();initLightboxActivity();buildConditionSelectorsToBoxesMap();responsiveResizeOnWindowResize();if(isMobile()||isTablet()){window.addEventListener('orientationchange',doOnOrientationChange);DIGIOH_API.PREVIOUS_WINDOW_WIDTH=getiOSWindowWidth();DIGIOH_API.previousOrientation=window.orientation;window.setInterval(function(){if(Math.abs(DIGIOH_API.PREVIOUS_WINDOW_WIDTH-getiOSWindowWidth())>50||window.orientation!==DIGIOH_API.previousOrientation){DIGIOH_API.PREVIOUS_WINDOW_WIDTH=getiOSWindowWidth();DIGIOH_API.previousOrientation=window.orientation;doOnOrientationChange();}},500);}
initExistsSelectors();embedInlineLightboxAlwaysForms();embedInlineLightboxConditionsForms();logger('DIGIOH: checkLightboxMasterRules() called from initConditions()');if(checkLightboxMasterRules()){preloadLightboxes();if(VENDOR_GUID!=="13511-7341134d-8e07-40ab-b595-a3d69d7a4501"||document.location.href.indexOf("ecospaints.net/shop-by-color-reds")!==-1){checkConditionsPreloadTeasers();}
initClickSelectors();initHoverSelectors();initScrollSelectors();initExitSelectors();checkConditionsLoad();logger('DIGIOH_LIGHTBOX_ANALYTICS.VARS ==>');logger(DIGIOH_LIGHTBOX_ANALYTICS.VARS,true);}}
else{initVariations();responsiveResizeOnWindowResize();if(isMobile()||isTablet()){window.addEventListener('orientationchange',doOnOrientationChange);}
lbid=LIGHTBOX_GUID_PREVIEW;if(typeof IS_VARIATION_PREVIEW!=='undefined'&&IS_VARIATION_PREVIEW==='true'&&VARIATION_GUID_PREVIEW&&VARIATION_GUID_PREVIEW.length>7){if(!LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lbid)){LIGHTBOX_TO_VARIATION_MAP[lbid]=VARIATION_GUID_PREVIEW;}
if(!DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(VARIATION_GUID_PREVIEW)){DIGIOH_VARIATION_TO_BOX_MAP[VARIATION_GUID_PREVIEW]=LIGHTBOX_GUID_PREVIEW;}
lbid=VARIATION_GUID_PREVIEW;LIGHTBOX_GUID_PREVIEW=VARIATION_GUID_PREVIEW;if(DIGIOH_API.contains(DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR,VARIATION_GUID_PREVIEW)){DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR=[lbid,VARIATION_GUID_PREVIEW];}
else if(DIGIOH_API.contains(DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR,VARIATION_GUID_PREVIEW)){DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR=[lbid,VARIATION_GUID_PREVIEW];}}
embedInlineLightboxAlwaysForms();embedInlineLightboxConditionsForms();if(!EFFECTS.hasOwnProperty(lbid)||!EFFECTS[lbid]){logger('**DIGIOH_DEFAULT_EFFECTS() were required in Preview**');var w={};w.widget_type="sidebar";w.sidebar={};w.sidebar.css_positioning="fixed";w.sidebar.position="center-center";w.sidebar.speed={"open":100,"close":100};w.sidebar.animation={open:"fade",close:"fade"};w.sidebar.easing={open:"swing",close:"swing"};w.sidebar.close_button={display:false};w.sidebar.auto_close={"click":false,"time":0,"scroll_up":0,"scroll_down":0};w.sidebar.teaser={display:false};var settings=DIGIOH_API.GET_SETTINGS(lbid);if(settings&&settings.hasOwnProperty('is_core_prq')&&settings.is_core_prq){var md=[];if(settings.hasOwnProperty('prq_gsheet_url')&&settings.prq_gsheet_url){md.push({'k':'prq_gsheet_url','v':settings.prq_gsheet_url});}
if(settings.hasOwnProperty('results_redirect_url_shopify')&&settings.results_redirect_url_shopify){md.push({'k':'results_redirect_url_shopify','v':settings.results_redirect_url_shopify});}
w.sidebar.metadata_kvps=md;}
EFFECTS[lbid]=w;DIGIOH_LIGHTBOX_EFFECTS[lbid]=w;}
if(JQUERY_DIGIOH.inArray(lbid,DIGIOH_LIGHTBOX_PRELOAD_ARR)<0)
DIGIOH_LIGHTBOX_PRELOAD_ARR.push(lbid);var effects=EFFECTS[lbid];IS_PREVIEW_EVENT=(IS_PREVIEW_CLICK||IS_PREVIEW_HOVER||IS_PREVIEW_SCROLL||IS_PREVIEW_EXIT);preloadLightboxes();if(VENDOR_GUID!="13511-7341134d-8e07-40ab-b595-a3d69d7a4501"||document.location.href.indexOf("ecospaints.net/shop-by-color-reds")!==-1){if(effects.widget_type=="sidebar"&&effects.sidebar.teaser&&effects.sidebar.teaser.display_on_page_load){openTeaser(effects.sidebar.teaser,lbid);}else if(effects.widget_type=="fancybox"&&effects.fancybox.teaser&&effects.fancybox.teaser.display_on_page_load){openTeaser(effects.fancybox.teaser,lbid);}}
lbid='';if(typeof IS_PREVIEW_CLICK!=="undefined"&&IS_PREVIEW_CLICK){JQUERY_DIGIOH("#preview_click_selector").click(function(e){e.preventDefault();DIGIOH_LIGHTBOX_ANALYTICS.VARS.click_jquery_selector["#preview_click_selector"]=true;logger("loadLightbox: initConditions > Preview > click_jquery_selector, "+LIGHTBOX_GUID_PREVIEW);loadLightbox(LIGHTBOX_GUID_PREVIEW);DIGIOH_LIGHTBOX_ANALYTICS.VARS.click_jquery_selector["#preview_click_selector"]=false;});}else if(typeof IS_PREVIEW_HOVER!=="undefined"&&IS_PREVIEW_HOVER){DIGIOH_LIGHTBOX_ANALYTICS.VARS.hover_jquery_selector["#preview_hover_selector"]=false;JQUERY_DIGIOH("#preview_hover_selector").mouseenter(function(){DIGIOH_LIGHTBOX_ANALYTICS.VARS.hover_jquery_selector["#preview_hover_selector"]=true;logger("loadLightbox: initConditions > Preview > hover_jquery_selector, "+LIGHTBOX_GUID_PREVIEW);loadLightbox(LIGHTBOX_GUID_PREVIEW);}).mouseleave(function(){DIGIOH_LIGHTBOX_ANALYTICS.VARS.hover_jquery_selector["#preview_hover_selector"]=false;});}else if(typeof IS_PREVIEW_SCROLL!=="undefined"&&IS_PREVIEW_SCROLL){DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels_prev=0;DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels=0;jqWin.scroll(function(){DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels=Math.round(jqWin.scrollTop());if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels<DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels_prev){DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels_prev=DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels;}
if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels>=300+DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels_prev){DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels_prev=DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels;logger("loadLightbox: initConditions > Preview > scroll_pixels, "+LIGHTBOX_GUID_PREVIEW);loadLightbox(LIGHTBOX_GUID_PREVIEW);}});}else if(typeof IS_PREVIEW_EXIT!=="undefined"&&IS_PREVIEW_EXIT){var mousex=-1;var mousey=-1;var lastmousex=-1;var lastmousey=-1;var lastmousetime;var mousetravel=0;var directionx='';var directiony='';var pageWidth=jqWin.width();var pageHeight=jqWin.height();var yOffset=jqWin.scrollTop();jqDoc.mousemove(function(e){mousex=e.pageX;mousey=e.pageY;if(lastmousex>-1){mousetravel=Math.max(Math.abs(mousex-lastmousex),Math.abs(mousey-lastmousey));if(mousex<lastmousex)directionx='left';else directionx='right';if(mousey<lastmousey)directiony='up';else directiony='down';}
lastmousex=mousex;lastmousey=mousey;});jqDoc.mouseleave(function(){var yOffset=jqWin.scrollTop();if(directiony=='up'&&mousey<yOffset+20&&mousetravel>3){logger("loadLightbox: initConditions > Preview > exit_intent, "+LIGHTBOX_GUID_PREVIEW);loadLightbox(LIGHTBOX_GUID_PREVIEW);}else if(directiony=='down'&&mousey>pageHeight+yOffset-20&&mousetravel>3){logger("loadLightbox: initConditions > Preview > exit_intent, "+LIGHTBOX_GUID_PREVIEW);loadLightbox(LIGHTBOX_GUID_PREVIEW);}else if(directionx=='right'&&mousex>pageWidth-20&&mousetravel>3){logger("loadLightbox: initConditions > Preview > exit_intent, "+LIGHTBOX_GUID_PREVIEW);loadLightbox(LIGHTBOX_GUID_PREVIEW);}else if(directionx=='left'&&mousex<20&&mousetravel>3){logger("loadLightbox: initConditions > Preview > exit_intent, "+LIGHTBOX_GUID_PREVIEW);loadLightbox(LIGHTBOX_GUID_PREVIEW);}});jqWin.resize(function(){pageWidth=jqWin.width();pageHeight=jqWin.height();yOffset=jqWin.scrollTop();});}else{lbid=LIGHTBOX_GUID_PREVIEW;}
if(EFFECTS[LIGHTBOX_GUID_PREVIEW].hasOwnProperty('iframe')&&EFFECTS[LIGHTBOX_GUID_PREVIEW]['iframe']['use_custom']){if(typeof DigiohPreviewOnScriptLoaded!=="undefined"){DigiohPreviewOnScriptLoaded();}
if(!IS_PREVIEW_EVENT){window.setTimeout(function(){logger("loadLightbox: initConditions > Preview > iframe.use_custom, "+LIGHTBOX_GUID_PREVIEW);loadLightbox(LIGHTBOX_GUID_PREVIEW);},500);}}
if(typeof DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS==='object'){lbid=LIGHTBOX_GUID_PREVIEW;var bb='';var ptArr=[];if(DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS.hasOwnProperty(lbid)){for(var prop in DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lbid]){if(DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lbid].hasOwnProperty(prop)){if(JQUERY_DIGIOH.inArray(parseInt(prop),ptArr)===-1){ptArr.push(parseInt(prop));}}}}
if(ptArr.length>0){ptArr.sort(function(a,b){return a-b;});var breakpoint_bar_position='bottom';if(effects.widget_type=="sidebar"&&effects.sidebar.position.indexOf('bottom-')===0||effects.widget_type=="banner"&&effects.banner.placement==='bottom')
breakpoint_bar_position='top';var currHeight=jqWin.height();var prevWidth=0;for(var i=0;i<ptArr.length;i++){bb+="<a href='javascript:window.resizeTo([BP2], "+currHeight+");' style='display:inline-block;cursor:pointer;float:left;width:[BP1]px;height:35px;line-height:35px;text-align:center;border-right:3px solid white;color:white;background-color:black;'>Breakpoint [BP2]px</a>";bb=bb.split('[BP2]').join(ptArr[i].toString()).replace('[BP1]',(ptArr[i]-prevWidth-3).toString());prevWidth=ptArr[i];}
bb+="<a href='javascript:window.resizeTo([BP2], "+currHeight+");' style='display:inline-block;cursor:pointer;float:left;width:[BP1]px;height:35px;line-height:35px;text-align:center;color:white;background-color:black;'>Main &rarr;</a>";bb=bb.split('[BP2]').join((prevWidth+300).toString()).replace('[BP1]',(280).toString());JQUERY_DIGIOH("body").css('overflow-x','hidden').prepend("<div id='breakpoint_bar' style='min-width:"+(prevWidth+300)+"px;z-index:9998010;position:fixed;"+breakpoint_bar_position+":0px;background-color:black;width:100%;height:35px;'>"+bb+"<div style='float:none;clear:both;'></div></div>");}}}
logger("STOPWATCH (initConditions finished) - "+Math.ceil((new Date().getTime()-STOPWATCH)/1000));}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initConditions");}}
function buildConditionSelectorsToBoxesMap(){try{var rule_prop='';var rule_operator='';var rule_val='';var rule_set=[];var lbid='';var event_type='';CONDITION_SELECTOR_BOXES_MAP['click']={};CONDITION_SELECTOR_BOXES_MAP['hover']={};CONDITION_SELECTOR_BOXES_MAP['exists']={};for(var i=0;i<DIGIOH_LIGHTBOX_CONDITIONS.length;i++){DIGIOH_LIGHTBOX_CONDITIONS[i].has_only_load_rules=false;DIGIOH_LIGHTBOX_CONDITIONS[i].has_exists_rules=false;DIGIOH_LIGHTBOX_CONDITIONS[i].has_click_rules=false;DIGIOH_LIGHTBOX_CONDITIONS[i].has_hover_rules=false;DIGIOH_LIGHTBOX_CONDITIONS[i].has_scroll_rules=false;DIGIOH_LIGHTBOX_CONDITIONS[i].has_exit_rules=false;DIGIOH_LIGHTBOX_CONDITIONS[i].has_time_rules=false;lbid=DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid;var found_non_load_rules_in_or_block=false;var found_or_block_with_only_load_rules=false;var found_non_load_rules_in_or_block_ruleset=false;var found_or_block_with_only_load_rules_ruleset=false;for(var x=0;x<DIGIOH_LIGHTBOX_CONDITIONS[i].conditions.length;x++){found_non_load_rules_in_or_block=false;for(var y=0;y<DIGIOH_LIGHTBOX_CONDITIONS[i].conditions[x].length;y++){rule_prop=DIGIOH_LIGHTBOX_CONDITIONS[i].conditions[x][y]['p'];rule_operator=DIGIOH_LIGHTBOX_CONDITIONS[i].conditions[x][y]['o'];rule_val=DIGIOH_LIGHTBOX_CONDITIONS[i].conditions[x][y]['v'];rule_set=DIGIOH_LIGHTBOX_CONDITIONS[i].conditions[x][y]['s'];event_type='';if(rule_prop=='I_total_time_seconds'||rule_prop=='I_active_time_seconds'||rule_prop=='I_idle_time_seconds'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_time_rules=true;found_non_load_rules_in_or_block=true;if(JQUERY_DIGIOH.inArray(lbid,TIME_BOXES_ARR)==-1){TIME_BOXES_ARR.push(lbid);}}else if(rule_prop=='I_scroll_percent'||rule_prop=='I_scroll_pixels'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_scroll_rules=true;found_non_load_rules_in_or_block=true;if(JQUERY_DIGIOH.inArray(lbid,SCROLL_BOXES_ARR)==-1){SCROLL_BOXES_ARR.push(lbid);}}else if(rule_prop=='E_exit_intent'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_exit_rules=true;found_non_load_rules_in_or_block=true;if(JQUERY_DIGIOH.inArray(lbid,EXIT_BOXES_ARR)==-1){EXIT_BOXES_ARR.push(lbid);}}else if(rule_prop=='C_click_jquery_selector'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_click_rules=true;found_non_load_rules_in_or_block=true;event_type='click';}else if(rule_prop=='C_hover_jquery_selector'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_hover_rules=true;found_non_load_rules_in_or_block=true;event_type='hover';}else if(rule_prop=='C_exists_jquery_selector'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_exists_rules=true;found_non_load_rules_in_or_block=true;event_type='exists';}
else if(rule_prop==='R_ruleset'&&DIGIOH_LIGHTBOX_RULESETS.hasOwnProperty(rule_val)){for(var w=0;w<DIGIOH_LIGHTBOX_RULESETS[rule_val].length;w++){found_non_load_rules_in_or_block_ruleset=false;for(var z=0;z<DIGIOH_LIGHTBOX_RULESETS[rule_val][w].length;z++){var ruleset_prop=DIGIOH_LIGHTBOX_RULESETS[rule_val][w][z]['p'];var ruleset_operator=DIGIOH_LIGHTBOX_RULESETS[rule_val][w][z]['o'];var ruleset_val=DIGIOH_LIGHTBOX_RULESETS[rule_val][w][z]['v'];var ruleset_set=DIGIOH_LIGHTBOX_RULESETS[rule_val][w][z]['s'];if(ruleset_prop=='I_total_time_seconds'||ruleset_prop=='I_active_time_seconds'||ruleset_prop=='I_idle_time_seconds'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_time_rules=true;found_non_load_rules_in_or_block_ruleset=true;if(JQUERY_DIGIOH.inArray(lbid,TIME_BOXES_ARR)==-1){TIME_BOXES_ARR.push(lbid);}}else if(ruleset_prop=='I_scroll_percent'||ruleset_prop=='I_scroll_pixels'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_scroll_rules=true;found_non_load_rules_in_or_block_ruleset=true;if(JQUERY_DIGIOH.inArray(lbid,SCROLL_BOXES_ARR)==-1){SCROLL_BOXES_ARR.push(lbid);}}else if(ruleset_prop=='E_exit_intent'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_exit_rules=true;found_non_load_rules_in_or_block_ruleset=true;if(JQUERY_DIGIOH.inArray(lbid,EXIT_BOXES_ARR)==-1){EXIT_BOXES_ARR.push(lbid);}}else if(ruleset_prop=='C_click_jquery_selector'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_click_rules=true;found_non_load_rules_in_or_block_ruleset=true;event_type='click';}else if(ruleset_prop=='C_hover_jquery_selector'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_hover_rules=true;found_non_load_rules_in_or_block_ruleset=true;event_type='hover';}else if(ruleset_prop=='C_exists_jquery_selector'){DIGIOH_LIGHTBOX_CONDITIONS[i].has_exists_rules=true;found_non_load_rules_in_or_block_ruleset=true;event_type='exists';}
if(event_type!=''&&ruleset_prop.indexOf('C_')===0&&ruleset_prop.indexOf('jquery_selector')>0){if(ruleset_operator=='in_set'||ruleset_operator=='not_in_set'){for(var k=0;k<ruleset_set.length;k++){if(ruleset_set[k]!=''){if(!CONDITION_SELECTOR_BOXES_MAP[event_type].hasOwnProperty(ruleset_set[k])){CONDITION_SELECTOR_BOXES_MAP[event_type][ruleset_set[k]]=[lbid];}else if(JQUERY_DIGIOH.inArray(lbid,CONDITION_SELECTOR_BOXES_MAP[event_type][ruleset_set[k]])==-1){CONDITION_SELECTOR_BOXES_MAP[event_type][ruleset_set[k]].push(lbid);}
if(event_type=='click'&&JQUERY_DIGIOH.inArray(ruleset_set[k],CLICK_SELECTORS)==-1){CLICK_SELECTORS.push(ruleset_set[k]);}else if(event_type=='hover'&&JQUERY_DIGIOH.inArray(ruleset_set[k],HOVER_SELECTORS)==-1){HOVER_SELECTORS.push(ruleset_set[k]);}else if(event_type=='exists'&&JQUERY_DIGIOH.inArray(ruleset_set[k],EXISTS_SELECTORS)==-1){EXISTS_SELECTORS.push(ruleset_set[k]);}}}}
else{if(ruleset_val!=''){if(!CONDITION_SELECTOR_BOXES_MAP[event_type].hasOwnProperty(ruleset_val)){CONDITION_SELECTOR_BOXES_MAP[event_type][ruleset_val]=[lbid];}else if(JQUERY_DIGIOH.inArray(lbid,CONDITION_SELECTOR_BOXES_MAP[event_type][ruleset_val])==-1){CONDITION_SELECTOR_BOXES_MAP[event_type][ruleset_val].push(lbid);}
if(event_type=='click'&&JQUERY_DIGIOH.inArray(ruleset_val,CLICK_SELECTORS)==-1){CLICK_SELECTORS.push(ruleset_val);}else if(event_type=='hover'&&JQUERY_DIGIOH.inArray(ruleset_val,HOVER_SELECTORS)==-1){HOVER_SELECTORS.push(ruleset_val);}else if(event_type=='exists'&&JQUERY_DIGIOH.inArray(ruleset_val,EXISTS_SELECTORS)==-1){EXISTS_SELECTORS.push(ruleset_val);}}}}}
if(!found_non_load_rules_in_or_block_ruleset){found_or_block_with_only_load_rules_ruleset=true;}}}
else{found_or_block_with_only_load_rules_ruleset=true;}
if(!found_non_load_rules_in_or_block&&found_or_block_with_only_load_rules_ruleset){found_or_block_with_only_load_rules=true;}
if(event_type!=''&&rule_prop!=='R_ruleset'){if(rule_operator=='in_set'||rule_operator=='not_in_set'){for(var k=0;k<rule_set.length;k++){if(rule_set[k]!=''){if(!CONDITION_SELECTOR_BOXES_MAP[event_type].hasOwnProperty(rule_set[k])){CONDITION_SELECTOR_BOXES_MAP[event_type][rule_set[k]]=[lbid];}else if(JQUERY_DIGIOH.inArray(lbid,CONDITION_SELECTOR_BOXES_MAP[event_type][rule_set[k]])==-1){CONDITION_SELECTOR_BOXES_MAP[event_type][rule_set[k]].push(lbid);}
if(event_type=='click'&&JQUERY_DIGIOH.inArray(rule_set[k],CLICK_SELECTORS)==-1){CLICK_SELECTORS.push(rule_set[k]);}else if(event_type=='hover'&&JQUERY_DIGIOH.inArray(rule_set[k],HOVER_SELECTORS)==-1){HOVER_SELECTORS.push(rule_set[k]);}else if(event_type=='exists'&&JQUERY_DIGIOH.inArray(rule_set[k],EXISTS_SELECTORS)==-1){EXISTS_SELECTORS.push(rule_set[k]);}}}}
else{if(rule_val!=''){if(!CONDITION_SELECTOR_BOXES_MAP[event_type].hasOwnProperty(rule_val)){CONDITION_SELECTOR_BOXES_MAP[event_type][rule_val]=[lbid];}else if(JQUERY_DIGIOH.inArray(lbid,CONDITION_SELECTOR_BOXES_MAP[event_type][rule_val])==-1){CONDITION_SELECTOR_BOXES_MAP[event_type][rule_val].push(lbid);}
if(event_type=='click'&&JQUERY_DIGIOH.inArray(rule_val,CLICK_SELECTORS)==-1){CLICK_SELECTORS.push(rule_val);}else if(event_type=='hover'&&JQUERY_DIGIOH.inArray(rule_val,HOVER_SELECTORS)==-1){HOVER_SELECTORS.push(rule_val);}else if(event_type=='exists'&&JQUERY_DIGIOH.inArray(rule_val,EXISTS_SELECTORS)==-1){EXISTS_SELECTORS.push(rule_val);}}}}
else if(rule_prop==='R_ruleset'){}}}
DIGIOH_LIGHTBOX_CONDITIONS[i].has_only_load_rules=!(DIGIOH_LIGHTBOX_CONDITIONS[i].has_click_rules||DIGIOH_LIGHTBOX_CONDITIONS[i].has_hover_rules||DIGIOH_LIGHTBOX_CONDITIONS[i].has_scroll_rules||DIGIOH_LIGHTBOX_CONDITIONS[i].has_exit_rules||DIGIOH_LIGHTBOX_CONDITIONS[i].has_time_rules);DIGIOH_LIGHTBOX_CONDITIONS[i].has_or_block_with_only_load_rules=found_or_block_with_only_load_rules;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"buildConditionSelectorsToBoxesMap");}}
function doConditionsUseGeo(){try{var rule_prop='';for(var i=0;i<DIGIOH_LIGHTBOX_CONDITIONS.length;i++){for(var x=0;x<DIGIOH_LIGHTBOX_CONDITIONS[i].conditions.length;x++){for(var y=0;y<DIGIOH_LIGHTBOX_CONDITIONS[i].conditions[x].length;y++){rule_prop=DIGIOH_LIGHTBOX_CONDITIONS[i].conditions[x][y]['p'];if(rule_prop=='E_continent'||rule_prop=='E_country'||rule_prop=='E_state'||rule_prop=='S_city'||rule_prop=='S_ip_address'||rule_prop=='S_zipcode'||rule_prop=='I_latitude'||rule_prop=='I_longitude'||rule_prop=='S_metro_code'||rule_prop=='S_area_code'){return true;}}}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"doConditionsUseGeo");}
return false;}
function getRandomInt(min,max){var res=Math.floor(Math.random()*(max-min))+min;if(res>=max)res--;return res;}
function initVariations(){var keepVariation=false;for(var variation_guid in DIGIOH_VARIATION_TO_BOX_MAP){if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(variation_guid)&&DIGIOH_VARIATION_TO_BOX_MAP[variation_guid].length>7){if(AB_BOXES_SKIP_MAP.hasOwnProperty(variation_guid)){keepVariation=false;}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(variation_guid)){keepVariation=true;}else if(DIGIOH_PRIMARY_VARIATIONS_ARR.length>0&&DIGIOH_PRIMARY_VARIATIONS_ARR.join(',').indexOf(variation_guid)>=0){keepVariation=true;}else{keepVariation=false;}
if(!keepVariation){if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(variation_guid)){delete DIGIOH_VARIATION_TO_BOX_MAP[variation_guid];}}}}
for(var variation_guid in DIGIOH_VARIATION_TO_BOX_MAP){if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(variation_guid)&&DIGIOH_VARIATION_TO_BOX_MAP[variation_guid].length>7){if(AB_BOXES_SKIP_MAP.hasOwnProperty(variation_guid)){keepVariation=false;}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(variation_guid)){keepVariation=true;}else if(DIGIOH_PRIMARY_VARIATIONS_ARR.length>0&&DIGIOH_PRIMARY_VARIATIONS_ARR.join(',').indexOf(variation_guid)>=0){keepVariation=true;}else{keepVariation=false;}
if(keepVariation){LIGHTBOX_TO_VARIATION_MAP[DIGIOH_VARIATION_TO_BOX_MAP[variation_guid]]=variation_guid;}}}}
var initABSplitTests=function(){try{if(typeof DIGIOH_SPLIT_TESTS_ARR==='undefined'){return false;}
var utcNowMillisJs=new Date().getTime();var foundMatch=false;var lpMax=1000000;for(var i=0;i<DIGIOH_SPLIT_TESTS_ARR.length;i++){var tp=getRandomInt(1,101);var lp=getRandomInt(1,lpMax+1);var dist=0;var test_type='multivariate';var skip=false;if(DIGIOH_API&&DIGIOH_API.hasOwnProperty('RANDOM_GLOBAL')&&DIGIOH_API.RANDOM_GLOBAL){lp=DIGIOH_API.RANDOM_GLOBAL;}
if(!DIGIOH_STORAGE.data.hasOwnProperty("__bxabtest"))
DIGIOH_STORAGE.data["__bxabtest"]={};if(!DIGIOH_STORAGE.data["__bxabtest"].hasOwnProperty(DIGIOH_SPLIT_TESTS_ARR[i].split_short_id))
DIGIOH_STORAGE.data["__bxabtest"][DIGIOH_SPLIT_TESTS_ARR[i].split_short_id]={};if(!DIGIOH_STORAGE.data["__bxabtest"][DIGIOH_SPLIT_TESTS_ARR[i].split_short_id].hasOwnProperty('end_date'))
DIGIOH_STORAGE.data["__bxabtest"][DIGIOH_SPLIT_TESTS_ARR[i].split_short_id]={"tp":tp,"lp":lp,"end_date":DIGIOH_SPLIT_TESTS_ARR[i].end_date};if(DIGIOH_SPLIT_TESTS_ARR[i].end_date<=utcNowMillisJs){delete DIGIOH_STORAGE.data["__bxabtest"][DIGIOH_SPLIT_TESTS_ARR[i].split_short_id];}else if(typeof DIGIOH_VENDOR_SHORT_ID!=='undefined'&&DIGIOH_VENDOR_SHORT_ID&&DIGIOH_VENDOR_SHORT_ID.toString()!='1'){tp=DIGIOH_STORAGE.data["__bxabtest"][DIGIOH_SPLIT_TESTS_ARR[i].split_short_id].tp;lp=DIGIOH_STORAGE.data["__bxabtest"][DIGIOH_SPLIT_TESTS_ARR[i].split_short_id].lp;if(lp<=100)lpMax=100;}
if(!DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('test_type')||DIGIOH_SPLIT_TESTS_ARR[i].test_type==='multivariate'){test_type='multivariate';}else if(DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('test_type')&&DIGIOH_SPLIT_TESTS_ARR[i].test_type==='box_variation'){test_type='box_variation';}else if(DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('test_type')&&DIGIOH_SPLIT_TESTS_ARR[i].test_type==='variation_variation'){test_type='variation_variation';}else{logger('Skipping AB Test (No Test Type Specified): '+DIGIOH_SPLIT_TESTS_ARR[i].name);skip=true;}
if(!skip&&DIGIOH_SPLIT_TESTS_ARR[i].start_date>=utcNowMillisJs){logger('Skipping AB Test ('+test_type+') (Start Date): '+DIGIOH_SPLIT_TESTS_ARR[i].name);skip=true;}
if(!skip&&DIGIOH_SPLIT_TESTS_ARR[i].end_date<=utcNowMillisJs){logger('Skipping AB Test ('+test_type+') (End Date): '+DIGIOH_SPLIT_TESTS_ARR[i].name);skip=true;}
if(!skip&&DIGIOH_SPLIT_TESTS_ARR[i].traffic_percent<tp){logger('Skipping AB Test ('+test_type+') (Traffic Percent): '+DIGIOH_SPLIT_TESTS_ARR[i].name+', and associated Lightboxes...');if(test_type=='multivariate'){var box_guids=DIGIOH_SPLIT_TESTS_ARR[i].box_guids.split(',');for(var j=0;j<box_guids.length;j++){AB_BOXES_SKIP_MAP[box_guids[j]]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;logger('Skipping Lightbox : '+box_guids[j]);}}
skip=true;}
if(skip){if(DIGIOH_SPLIT_TESTS_ARR[i].variation_guids.length>0){var var_guids=DIGIOH_SPLIT_TESTS_ARR[i].variation_guids.split(',');for(var j=0;j<var_guids.length;j++){if(DIGIOH_SPLIT_TESTS_ARR[i].primary_variation_guids.indexOf(var_guids[j])===-1){AB_BOXES_SKIP_MAP[var_guids[j]]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;}}}
continue;}
if(test_type=='multivariate'){var box_guids=DIGIOH_SPLIT_TESTS_ARR[i].box_guids.split(',');var box_weights=(DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('box_weights')&&DIGIOH_SPLIT_TESTS_ARR[i].box_weights.indexOf(',')>0)?DIGIOH_SPLIT_TESTS_ARR[i].box_weights.split(','):[];if(box_guids.length<2){logger('Skipping AB Test (Multivariate) (Box GUIDs length = '+box_guids.length+', min 2): '+DIGIOH_SPLIT_TESTS_ARR[i].name);continue;}
var matchedBoxGuid='';foundMatch=false;dist=lpMax/box_guids.length;var pctCheckedSoFar=0;for(var k=0;k<box_guids.length;k++){var isOutsideRange=true;if(box_weights.length===box_guids.length){dist=lpMax*parseInt(box_weights[k])/100;isOutsideRange=lp<pctCheckedSoFar||lp>(pctCheckedSoFar+dist);pctCheckedSoFar+=dist;}else{isOutsideRange=(k*dist>lp)||((k+1)*dist<lp);}
if(foundMatch){AB_BOXES_SKIP_MAP[box_guids[k]]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;logger('Skipped Lightbox (Multivariate) ('+box_guids[k]+') for AB Test ('+DIGIOH_SPLIT_TESTS_ARR[i].split_guid+')');}else if(isOutsideRange){AB_BOXES_SKIP_MAP[box_guids[k]]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;logger('Skipped Lightbox (Multivariate) ('+box_guids[k]+') for AB Test ('+DIGIOH_SPLIT_TESTS_ARR[i].split_guid+')');}else{AB_BOXES_TAKE_MAP[box_guids[k]]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;foundMatch=true;matchedBoxGuid=box_guids[k];logger('Activated Lightbox (Multivariate) ('+box_guids[k]+') for AB Test ('+DIGIOH_SPLIT_TESTS_ARR[i].split_guid+')');}}
if(!foundMatch){if(AB_BOXES_SKIP_MAP.hasOwnProperty(box_guids[0])){delete AB_BOXES_SKIP_MAP[box_guids[0]];logger('Removed Lightbox (Multivariate) ('+box_guids[0]+') from Skipped Map, for AB Test ('+DIGIOH_SPLIT_TESTS_ARR[i].split_guid+')');}
AB_BOXES_TAKE_MAP[box_guids[0]]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;matchedBoxGuid=box_guids[0];logger('Defaulting to first Lightbox in AB Test, due to no match of lp: '+lp);logger('Activated Lightbox (Multivariate) ('+box_guids[0]+') for AB Test ('+DIGIOH_SPLIT_TESTS_ARR[i].split_guid+')');}
if(matchedBoxGuid.length>7){for(var var_guid in DIGIOH_VARIATION_TO_BOX_MAP){if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(var_guid)&&DIGIOH_VARIATION_TO_BOX_MAP[var_guid]==matchedBoxGuid){AB_BOXES_SKIP_MAP[var_guid]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;}}}}else if(test_type=='box_variation'){var box_guid=DIGIOH_SPLIT_TESTS_ARR[i].box_guids;var variation_guid=DIGIOH_SPLIT_TESTS_ARR[i].variation_guids;if(box_guid.length<7||box_guid.indexOf(',')>=0){logger('Skipping AB Test (Box vs. Variation) (Box GUID invalid): '+box_guid+', for AB Test: '+DIGIOH_SPLIT_TESTS_ARR[i].name);continue;}
if(variation_guid.length<=1||variation_guid.indexOf(',')>=0){logger('Skipping AB Test (Box vs. Variation) (Variation GUID invalid): '+variation_guid+', for AB Test: '+DIGIOH_SPLIT_TESTS_ARR[i].name);continue;}
if(lp<=(lpMax/2)){AB_BOXES_TAKE_MAP[box_guid]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;AB_BOXES_SKIP_MAP[variation_guid]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;logger('Activated Lightbox (Lightbox vs. Variation) ('+box_guid+') for AB Test ('+DIGIOH_SPLIT_TESTS_ARR[i].split_guid+')');logger('Skipping Variation (Lightbox vs. Variation) ('+variation_guid+') for AB Test ('+DIGIOH_SPLIT_TESTS_ARR[i].split_guid+')');}else{AB_BOXES_TAKE_MAP[variation_guid]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;logger('Activated Variation (Lightbox vs. Variation) ('+variation_guid+') for AB Test ('+DIGIOH_SPLIT_TESTS_ARR[i].split_guid+')');logger('Skipping Lightbox (Lightbox vs. Variation) ('+box_guid+') for AB Test ('+DIGIOH_SPLIT_TESTS_ARR[i].split_guid+')');}}else if(test_type=='variation_variation'){var box_guid=DIGIOH_SPLIT_TESTS_ARR[i].box_guids;var variation_guids=DIGIOH_SPLIT_TESTS_ARR[i].variation_guids.split(',');if(box_guid.length<7||box_guid.indexOf(',')>=0){logger('Skipping AB Test (Variation vs. Variation) (Box GUID invalid): '+box_guid+', for AB Test: '+DIGIOH_SPLIT_TESTS_ARR[i].name);continue;}
if(variation_guids.length!=2){logger('Skipping AB Test (Variation vs. Variation) (Variation GUIDs = '+DIGIOH_SPLIT_TESTS_ARR[i].variation_guids+', must be 2 variations): '+DIGIOH_SPLIT_TESTS_ARR[i].name);continue;}
if(lp<=(lpMax/2)){AB_BOXES_TAKE_MAP[variation_guids[0]]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;AB_BOXES_SKIP_MAP[variation_guids[1]]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;logger('initABSplitTests: id = '+DIGIOH_SPLIT_TESTS_ARR[i].split_short_id);logger('initABSplitTests: lp = '+lp);logger('initABSplitTests: chosen variation '+variation_guids[0]);logger('initABSplitTests: skipped variation '+variation_guids[1]);}else{AB_BOXES_TAKE_MAP[variation_guids[1]]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;AB_BOXES_SKIP_MAP[variation_guids[0]]=DIGIOH_SPLIT_TESTS_ARR[i].split_guid;logger('initABSplitTests: id = '+DIGIOH_SPLIT_TESTS_ARR[i].split_short_id);logger('initABSplitTests: lp = '+lp);logger('initABSplitTests: chosen variation '+variation_guids[1]);logger('initABSplitTests: skipped variation '+variation_guids[0]);}}}
for(var prop in DIGIOH_STORAGE.data["__bxabtest"]){if(DIGIOH_STORAGE.data["__bxabtest"].hasOwnProperty(prop)){foundMatch=false;for(var i=0;i<DIGIOH_SPLIT_TESTS_ARR.length;i++){if(DIGIOH_SPLIT_TESTS_ARR[i].split_short_id==prop){foundMatch=true;}}
if(!foundMatch)
delete DIGIOH_STORAGE.data["__bxabtest"][prop];}}
DIGIOH_STORAGE.set();}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initABSplitTests");}
return '';};var checkConditions=function(hook,lbguidToMatch,selector,multi){var multiArr=[];try{var foundMatch=false;if(typeof lbguidToMatch==='undefined'||!lbguidToMatch)
lbguidToMatch='';if(typeof selector==='undefined'||!selector)
selector='';if(typeof multi==='undefined'||multi!==true||!multi)
multi=false;for(var i=0;i<DIGIOH_LIGHTBOX_CONDITIONS.length;i++){if(lbguidToMatch===''&&AB_BOXES_SKIP_MAP.hasOwnProperty(DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid)){continue;}else if(lbguidToMatch===''&&isInlineLightbox(DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid)){continue;}
if(lbguidToMatch!==''){if(DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid===lbguidToMatch){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,false,false,false);if(foundMatch&&!multi){return DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid;}else if(!foundMatch&&!multi){return '';}else if(foundMatch&&multi){return[DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid];}else if(!foundMatch&&multi){return[''];}}}else if(selector!==''&&typeof selector==='string'&&selector.length>1){if(CONDITION_SELECTOR_BOXES_MAP.hasOwnProperty(hook)&&CONDITION_SELECTOR_BOXES_MAP[hook].hasOwnProperty(selector)&&JQUERY_DIGIOH.inArray(DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid,CONDITION_SELECTOR_BOXES_MAP[hook][selector])>-1){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,false,false,false);}}else if(hook==='load'&&(DIGIOH_LIGHTBOX_CONDITIONS[i].has_only_load_rules||DIGIOH_LIGHTBOX_CONDITIONS[i].has_or_block_with_only_load_rules)){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,false,false,false);logger('evalConditions:load:hook='+hook+':'+foundMatch+":"+DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid);}else if(hook==='exists'&&DIGIOH_LIGHTBOX_CONDITIONS[i].has_exists_rules){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,false,false,false);logger('evalConditions:exists:hook='+hook+':'+foundMatch+":"+DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid);}else if(hook==='click'&&DIGIOH_LIGHTBOX_CONDITIONS[i].has_click_rules){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,false,false,false);logger('evalConditions:click:hook='+hook+':'+foundMatch+":"+DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid);}else if(hook==='hover'&&DIGIOH_LIGHTBOX_CONDITIONS[i].has_hover_rules){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,false,false,false);logger('evalConditions:hover:hook='+hook+':'+foundMatch+":"+DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid);}else if(hook==='scroll'&&DIGIOH_LIGHTBOX_CONDITIONS[i].has_scroll_rules){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,false,false,false);logger('evalConditions:scroll:hook='+hook+':'+foundMatch+":"+DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid);}else if(hook==='exit'&&DIGIOH_LIGHTBOX_CONDITIONS[i].has_exit_rules){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,false,false,false);logger('evalConditions:exit:hook='+hook+':'+foundMatch+":"+DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid);}else if(hook==='time'&&DIGIOH_LIGHTBOX_CONDITIONS[i].has_time_rules){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,false,false,false);logger('evalConditions:time:hook='+hook+":"+DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid);}
if(foundMatch&&!multi){return DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid;}else if(foundMatch&&multi){multiArr.push(DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid);}
foundMatch=false;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"checkConditions");}
if(multi){if(multiArr.length===0)return[''];else return multiArr;}else{return '';}};function evalConditions(conditions,lbid,vars,eval_preload_teaser,is_follow_me_teaser,is_ruleset){if(typeof AB_BOXES_SKIP_MAP!=='undefined'&&AB_BOXES_SKIP_MAP.hasOwnProperty(lbid)){return false;}
if(typeof is_follow_me_teaser==='undefined'||!is_follow_me_teaser){is_follow_me_teaser=false;}
var short_id=lbid;var or_blocks=[];var or_block_json=[];var json_rule={};try{var skip_device_rules=false;for(var x=0;x<conditions.length;x++){or_blocks[x]=true;or_block_json[x]=[];for(var y=0;y<conditions[x].length;y++){json_rule={};if(!conditions[x][y].hasOwnProperty('k')){conditions[x][y]['k']='';}
if(conditions[x][y]['p']==='R_ruleset'&&conditions[x][y]['v']){if(DIGIOH_LIGHTBOX_RULESETS.hasOwnProperty(conditions[x][y]['v'])){if(conditions[x][y]['o']==='does_not_equal'){json_rule.rule_result=!evalConditions(DIGIOH_LIGHTBOX_RULESETS[conditions[x][y]['v']],lbid,vars,eval_preload_teaser,is_follow_me_teaser,true);}else{json_rule.rule_result=evalConditions(DIGIOH_LIGHTBOX_RULESETS[conditions[x][y]['v']],lbid,vars,eval_preload_teaser,is_follow_me_teaser,true);}
json_rule.rule_message='Ruleset ID: '+conditions[x][y]['v'];json_rule.rule_error=false;json_rule.rule_func='evalConditions for Ruleset';}else{json_rule.rule_result=false;json_rule.rule_message='Ruleset ID: '+conditions[x][y]['v']+' was not found in RULESETS.  Check to make sure that Ruleset ID '+conditions[x][y]['v']+' has valid Conditions within it.';json_rule.rule_error=true;json_rule.rule_func='evalConditions for Ruleset (skipped)';}
json_rule.rule_prop='R_ruleset';json_rule.rule_operator='';json_rule.rule_val='';json_rule.rule_set=[];json_rule.rule_visual='';json_rule.is_preload_teaser_eval=eval_preload_teaser;json_rule.is_follow_me_teaser=is_follow_me_teaser;}
else{json_rule=evalRule(conditions[x][y]['p'],conditions[x][y]['o'],conditions[x][y]['s'],conditions[x][y]['v'],conditions[x][y]['sd'],conditions[x][y]['ed'],conditions[x][y]['k'],lbid,vars,eval_preload_teaser,is_follow_me_teaser,skip_device_rules);}
or_block_json[x].push(json_rule);if(!json_rule.rule_result){or_blocks[x]=false;break;}}
if(or_blocks[x]===true){if(!is_ruleset){if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbid)){short_id=DIGIOH_LIGHTBOX_IDS[lbid]+'';}
if(eval_preload_teaser){CONDITIONS_OUTPUT[short_id]='---------------------------------'+'\n';CONDITIONS_OUTPUT[short_id]+='Teaser Preload Conditions Succeeded for Lightbox '+short_id+'\n';CONDITIONS_OUTPUT[short_id]+='---------------------------------'+'\n';}else{CONDITIONS_OUTPUT[short_id]='---------------------------------'+'\n';CONDITIONS_OUTPUT[short_id]+='Conditions Succeeded for Lightbox '+short_id+'\n';CONDITIONS_OUTPUT[short_id]+=JSON.stringify(or_block_json,null,2)+'\n';CONDITIONS_OUTPUT[short_id]+='---------------------------------'+'\n';}}
return true;}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"evalConditions");}
if(!is_ruleset){if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbid)){short_id=DIGIOH_LIGHTBOX_IDS[lbid]+'';}
if(eval_preload_teaser){CONDITIONS_OUTPUT[short_id]='---------------------------------'+'\n';CONDITIONS_OUTPUT[short_id]+='Teaser Preload Conditions Failed for Lightbox '+short_id+'\n';CONDITIONS_OUTPUT[short_id]+='---------------------------------'+'\n';}else{CONDITIONS_OUTPUT[short_id]='---------------------------------'+'\n';CONDITIONS_OUTPUT[short_id]+='Conditions Failed for Lightbox '+short_id+'\n';CONDITIONS_OUTPUT[short_id]+=JSON.stringify(or_block_json,null,2)+'\n';CONDITIONS_OUTPUT[short_id]+='---------------------------------'+'\n';}}
return false;}
var printConditionsOutput=function(short_id){try{if(typeof console==='undefined'){return;}
if(typeof short_id==='number'){short_id=short_id+'';}
if(typeof short_id==='string'&&short_id.length>30&&DIGIOH_LIGHTBOX_IDS.hasOwnProperty(short_id)){short_id=DIGIOH_LIGHTBOX_IDS[short_id]+'';}
if(typeof short_id==='string'&&CONDITIONS_OUTPUT.hasOwnProperty(short_id)){console.log('printConditionsOutput: '+short_id+'\n\n\n');console.log(CONDITIONS_OUTPUT[short_id]);}
else if(typeof short_id==='string'&&!CONDITIONS_OUTPUT.hasOwnProperty(short_id)){console.log('printConditionsOutput: '+short_id);console.log('CONDITIONS not yet evaluated for Lightbox '+short_id);}
else{console.log('printConditionsOutput: ALL BOXES'+'\n\n\n');for(var prop in CONDITIONS_OUTPUT){if(CONDITIONS_OUTPUT.hasOwnProperty(prop)){console.log(CONDITIONS_OUTPUT[prop]+'\n\n\n');}}}
if(typeof short_id!=='string'||short_id.length<4){for(var z=0;z<DIGIOH_LIGHTBOX_CONDITIONS.length;z++){if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(DIGIOH_LIGHTBOX_CONDITIONS[z].lightbox_guid)){var sidCond=DIGIOH_LIGHTBOX_IDS[DIGIOH_LIGHTBOX_CONDITIONS[z].lightbox_guid];var foundMatch=false;for(var sid in CONDITIONS_OUTPUT){if(CONDITIONS_OUTPUT.hasOwnProperty(sid)&&sid===sidCond){foundMatch=true;}}
if(!foundMatch){console.log('---------------------------------');if(typeof AB_BOXES_SKIP_MAP!=='undefined'&&AB_BOXES_SKIP_MAP.hasOwnProperty(DIGIOH_LIGHTBOX_CONDITIONS[z].lightbox_guid)){console.log('CONDITIONS not evaluated for Lightbox '+sidCond+'.  Skipped Lightbox because it is in a Split Test and was not chosen '+sidCond);}else{console.log('CONDITIONS not evaluated for Lightbox '+sidCond);}
console.log('---------------------------------'+'\n\n\n');}}}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"printConditionsOutput");}};function evalRule(rule_prop,rule_operator,rule_set,rule_val,rule_start_date,rule_end_date,key_name,lbid,vars,eval_preload_teaser,is_follow_me_teaser,skip_device_rules){if(typeof is_follow_me_teaser==='undefined'||!is_follow_me_teaser){is_follow_me_teaser=false;}
var res={};res.rule_func='evalRule';res.rule_prop=rule_prop;res.rule_operator=rule_operator;res.rule_val=rule_val;res.rule_set=rule_set;res.rule_visual='';res.rule_message='';res.rule_error=false;res.rule_result=false;res.is_preload_teaser_eval=eval_preload_teaser;res.is_follow_me_teaser=is_follow_me_teaser;if(eval_preload_teaser){if(is_follow_me_teaser){if(rule_prop=='I_total_time_seconds'||rule_prop=='I_active_time_seconds'||rule_prop=='I_idle_time_seconds'||rule_prop=='I_scroll_percent'||rule_prop=='I_scroll_pixels'||rule_prop=='C_click_jquery_selector'||rule_prop=='C_hover_jquery_selector'||rule_prop=='E_exit_intent'||rule_prop=='E_visitor_activity_visitor'||rule_prop=='E_visitor_activity_session'||rule_prop=='E_visitor_activity_pageview'){res.rule_message='teaser follow me is automatically evaluated as true for the following rule event types:  time, scroll, click, hover, exit, max displays per pageview, max displays per session, max displays per visitor';res.rule_visual=res.rule_message;res.rule_result=true;return res;}}
if(!is_follow_me_teaser){if(rule_prop=='I_total_time_seconds'||rule_prop=='I_active_time_seconds'||rule_prop=='I_idle_time_seconds'||rule_prop=='I_scroll_percent'||rule_prop=='I_scroll_pixels'||rule_prop=='C_click_jquery_selector'||rule_prop=='C_hover_jquery_selector'||rule_prop=='E_exit_intent'){res.rule_message='teaser preloading is automatically evaluated as true for the following rule event types:  time, scroll, click, hover, exit';res.rule_visual=res.rule_message;res.rule_result=true;return res;}}}
if(rule_prop=='E_lightbox_activity'){var boxShortId='';if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbid)&&DIGIOH_LIGHTBOX_IDS[lbid]){boxShortId=DIGIOH_LIGHTBOX_IDS[lbid];}
if(!vars.lightbox_events.hasOwnProperty(boxShortId)){res.rule_message='no events found for this lightbox, so continue displaying';res.rule_visual=res.rule_message;res.rule_result=true;return res;}else if(rule_operator=='equals'){var rv='';if(rule_val=='view')rv='v';if(rule_val=='submit')rv='s';if(rule_val=='redirect')rv='r';if(rule_val=='download')rv='d';if(rule_val=='close')rv='c';if(!vars.lightbox_events[boxShortId].hasOwnProperty(rv)||vars.lightbox_events[boxShortId][rv]['c']==0){res.rule_message='no '+rule_val+' events found for this lightbox, so continue displaying';res.rule_visual=res.rule_message;res.rule_result=true;return res;}
else if(eval_preload_teaser&&is_follow_me_teaser&&rule_val=='close'){res.rule_message='continue displaying follow me teaser, even though lightbox close events were found';res.rule_visual=res.rule_message;res.rule_result=true;return res;}
else{res.rule_message=vars.lightbox_events[boxShortId][rv]['c']+' '+rule_val+' events found for this lightbox, so stop displaying';res.rule_visual=res.rule_message;res.rule_result=false;return res;}}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){var rv='';if(rule_set[x]=='view')rv='v';if(rule_set[x]=='submit')rv='s';if(rule_set[x]=='redirect')rv='r';if(rule_set[x]=='download')rv='d';if(rule_set[x]=='close')rv='c';if(vars.lightbox_events[boxShortId].hasOwnProperty(rv)&&vars.lightbox_events[boxShortId][rv]['c']>0){if(eval_preload_teaser&&is_follow_me_teaser){if(rule_set[x]!='close'){res.rule_message=vars.lightbox_events[boxShortId][rv]['c']+' '+rule_set[x]+' events found for this lightbox, so stop displaying follow me teaser';res.rule_visual=res.rule_message;res.rule_result=false;return res;}}
else{res.rule_message=vars.lightbox_events[boxShortId][rv]['c']+' '+rule_set[x]+' events found for this lightbox, so stop displaying';res.rule_visual=res.rule_message;res.rule_result=false;return res;}}}
res.rule_message='no matching events found for this lightbox, so continue displaying';res.rule_visual=res.rule_message;res.rule_result=true;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
if(rule_prop=='D_date_range'){var curr_date=new Date();var compare_date=(curr_date.getMonth()+1)+'/'+curr_date.getDate()+'/'+curr_date.getFullYear();return evalRuleDate(rule_prop,rule_operator,rule_start_date,rule_end_date,compare_date);}
if(rule_prop=='D_date_of_visit'){var compare_date=(vars.date_of_visit.getMonth()+1)+'/'+vars.date_of_visit.getDate()+'/'+vars.date_of_visit.getFullYear();return evalRuleDate(rule_prop,rule_operator,rule_start_date,rule_end_date,compare_date);}
if(rule_prop=='E_visitor_activity_visitor'){var boxShortId='';if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbid)&&DIGIOH_LIGHTBOX_IDS[lbid]){boxShortId=DIGIOH_LIGHTBOX_IDS[lbid];}
if(!vars.lightbox_events.hasOwnProperty(boxShortId)){res.rule_message='no displays found for this lightbox, so continue displaying';res.rule_visual=res.rule_message;res.rule_result=true;return res;}else if(rule_operator=='equals'){if(!vars.lightbox_events[boxShortId].hasOwnProperty('v')){res.rule_message='no displays found for this lightbox, so continue displaying';res.rule_visual=res.rule_message;res.rule_result=true;return res;}else if(vars.lightbox_events[boxShortId]['v']['c']<parseInt(rule_val)){res.rule_message=vars.lightbox_events[boxShortId]['v']['c']+' displays found for this lightbox, so continue displaying (max of '+rule_val+' displays per visitor)';res.rule_visual=res.rule_message;res.rule_result=true;return res;}else{res.rule_message=vars.lightbox_events[boxShortId]['v']['c']+' displays found for this lightbox, so stop displaying (max of '+rule_val+' displays allowed per visitor)';res.rule_visual=res.rule_message;res.rule_result=false;return res;}}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
if(rule_prop=='E_visitor_activity_session'){var boxShortId='';if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbid)&&DIGIOH_LIGHTBOX_IDS[lbid]){boxShortId=DIGIOH_LIGHTBOX_IDS[lbid];}
if(!vars.lightbox_events.hasOwnProperty(boxShortId)){res.rule_message='no session displays found for this lightbox, so continue displaying';res.rule_visual=res.rule_message;res.rule_result=true;return res;}else if(rule_operator=='equals'){if(!vars.lightbox_events[boxShortId].hasOwnProperty('v')||!vars.lightbox_events[boxShortId]['v'].hasOwnProperty('t')||vars.lightbox_events[boxShortId]['v']['t'].length==0){res.rule_message='no session displays found for this lightbox, so continue displaying';res.rule_visual=res.rule_message;res.rule_result=true;return res;}
var session_display_cnt=0;for(var x=0;x<vars.lightbox_events[boxShortId]['v']['t'].length;x++){if(vars.lightbox_events[boxShortId]['v']['t'][x]>=DIGIOH_LIGHTBOX_ANALYTICS.SessionStart){session_display_cnt++;}}
if(session_display_cnt<parseInt(rule_val)){res.rule_message=session_display_cnt+' session displays found for this lightbox, so continue displaying (max of '+rule_val+' displays allowed per session)';res.rule_visual=res.rule_message;res.rule_result=true;return res;}else{res.rule_message=session_display_cnt+' session displays found for this lightbox, so stop displaying (max of '+rule_val+' displays allowed per session)';res.rule_visual=res.rule_message;res.rule_result=false;return res;}}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
if(rule_prop=='E_visitor_activity_pageview'){var boxShortId='';if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbid)&&DIGIOH_LIGHTBOX_IDS[lbid]){boxShortId=DIGIOH_LIGHTBOX_IDS[lbid];}
if(!vars.lightbox_events.hasOwnProperty(boxShortId)){res.rule_message='no current page displays found for this lightbox, so continue displaying';res.rule_visual=res.rule_message;res.rule_result=true;return res;}else if(rule_operator=='equals'){if(!vars.lightbox_events[boxShortId].hasOwnProperty('v')||!vars.lightbox_events[boxShortId]['v'].hasOwnProperty('t')||vars.lightbox_events[boxShortId]['v']['t'].length==0){res.rule_message='no current page displays found for this lightbox, so continue displaying';res.rule_visual=res.rule_message;res.rule_result=true;return res;}
var pageview_display_cnt=0;for(var x=0;x<vars.lightbox_events[boxShortId]['v']['t'].length;x++){if(vars.lightbox_events[boxShortId]['v']['t'][x]>=DIGIOH_LIGHTBOX_ANALYTICS.PageviewStart){pageview_display_cnt++;}}
if(pageview_display_cnt<parseInt(rule_val)){res.rule_message=pageview_display_cnt+' session displays found for this lightbox, so continue displaying (max of '+rule_val+' displays allowed per pageview)';res.rule_visual=res.rule_message;res.rule_result=true;return res;}else{res.rule_message=pageview_display_cnt+' session displays found for this lightbox, so stop displaying (max of '+rule_val+' displays allowed per pageview)';res.rule_visual=res.rule_message;res.rule_result=false;return res;}}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
if(rule_prop=='I_page_visits'){return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,vars.page_visits);}
if(rule_prop=='I_page_visits_session'){return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,vars.page_visits_session);}
if(rule_prop=='I_past_visits'){return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,vars.past_visits);}
if(rule_prop=='I_days_since_last_view'){var boxShortId='';if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbid)&&DIGIOH_LIGHTBOX_IDS[lbid]){boxShortId=DIGIOH_LIGHTBOX_IDS[lbid];}
if(!vars.lightbox_activity.hasOwnProperty(boxShortId)||vars.lightbox_activity[boxShortId]["Days since last view"]==-1){res.rule_message='no displays found for this lightbox, so continue displaying';res.rule_visual=res.rule_message;res.rule_result=true;return res;}
return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,vars.lightbox_activity[boxShortId]["Days since last view"]);}
if(rule_prop=='I_total_time_seconds'){return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,vars.total_time_seconds);}
if(rule_prop=='I_active_time_seconds'){return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,vars.active_time_seconds);}
if(rule_prop=='I_idle_time_seconds'){return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,vars.idle_time_seconds);}
if(rule_prop=='I_scroll_percent'){return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,vars.scroll_percent);}
if(rule_prop=='I_scroll_pixels'){return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,vars.scroll_pixels);}
if(rule_prop=='I_browser_version'){if(isNaN(vars.browser_version)){res.rule_message='browser version is Not a Number (NaN), so evaluate to false';res.rule_visual=res.rule_message;res.rule_result=false;return res;}
var browser_version=Math.floor(parseFloat(vars.browser_version));return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,browser_version);}
if(rule_prop=='I_latitude'){if(isNaN(vars.latitude)){res.rule_message='latitude is Not a Number (NaN), so evaluate to false';res.rule_visual=res.rule_message;res.rule_result=false;return res;}
var latitude=Math.floor(parseFloat(vars.latitude));return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,latitude);}
if(rule_prop=='I_longitude'){if(isNaN(vars.longitude)){res.rule_message='longitude is Not a Number (NaN), so evaluate to false';res.rule_visual=res.rule_message;res.rule_result=false;return res;}
var longitude=Math.floor(parseFloat(vars.longitude));return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,longitude);}
if(rule_prop=='E_web_source'){return evalRuleEnum(rule_prop,rule_operator,rule_set,rule_val,vars.web_source);}
if(rule_prop=='E_segments'){return evalRuleEnumSegments(rule_prop,rule_operator,rule_set,rule_val,vars.segments);}
if(rule_prop=='E_search_engine'){return evalRuleEnum(rule_prop,rule_operator,rule_set,rule_val,vars.search_engine);}
if(rule_prop=='E_device'){return evalRuleDeviceEnum(rule_prop,rule_operator,rule_set,rule_val,vars.device);}
if(rule_prop=='E_browser_type'){return evalRuleEnum(rule_prop,rule_operator,rule_set,rule_val,vars.browser_type);}
if(rule_prop=='E_operating_system'){return evalRuleEnum(rule_prop,rule_operator,rule_set,rule_val,vars.operating_system);}
if(rule_prop=='E_language'){return evalRuleEnumLanguage(rule_prop,rule_operator,rule_set,rule_val);}
if(rule_prop=='E_country'){return evalRuleEnum(rule_prop,rule_operator,rule_set,rule_val,vars.country);}
if(rule_prop=='E_state'){return evalRuleEnum(rule_prop,rule_operator,rule_set,rule_val,vars.state);}
if(rule_prop=='E_continent'){return evalRuleEnum(rule_prop,rule_operator,rule_set,rule_val,vars.continent);}
if(rule_prop=='S_lytics'){var lytics_elems=[];try{var lytics_cookie=DIGIOH_COOKIE.get('ly_segs',true);if(lytics_cookie!==null&&typeof lytics_cookie==='string'&&lytics_cookie.length>0){lytics_cookie=decodeURIComponent(lytics_cookie);var lytics_json=JSON.parse(lytics_cookie);for(var seg in lytics_json){lytics_elems.push(lytics_json[seg]);}}else{}}
catch(e){console.log('S_lytics - error parsing cookie');}
return evalRuleStringMultiVal(rule_prop,rule_operator,rule_set,rule_val,lytics_elems);}
if(rule_prop=='S_current_page_url'){return evalRuleUrl(rule_prop,rule_operator,rule_set,rule_val,vars.current_page_url);}
if(rule_prop=='S_referring_website_url'){return evalRuleUrl(rule_prop,rule_operator,rule_set,rule_val,vars.referring_website_url);}
if(rule_prop=='S_landing_page'){return evalRuleUrl(rule_prop,rule_operator,rule_set,rule_val,vars.landing_page);}
if(rule_prop=='S_pages_navigated'){return evalRulePagesNavigated(rule_prop,rule_operator,rule_set,rule_val,vars.pages_navigated);}
if(rule_prop=='S_current_page_url_host'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,window.parent.location.hostname);}
if(rule_prop=='S_current_page_url_path'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,window.parent.location.pathname);}
if(rule_prop=='S_current_page_url_protocol'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,window.parent.location.protocol);}
if(rule_prop=='S_current_page_url_query'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,window.parent.location.search);}
if(rule_prop=='S_current_page_url_hash'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,window.parent.location.hash);}
if(rule_prop=='S_city'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,vars.city);}
if(rule_prop=='S_ip_address'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,vars.ip_address);}
if(rule_prop=='S_zipcode'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,vars.zipcode);}
if(rule_prop=='S_metro_code'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,vars.metro_code);}
if(rule_prop=='S_area_code'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,vars.area_code);}
if(rule_prop=='S_utm_campaign_name'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,vars.utm_campaign_name);}
if(rule_prop=='S_utm_campaign_source'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,vars.utm_campaign_source);}
if(rule_prop=='S_utm_campaign_content'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,vars.utm_campaign_content);}
if(rule_prop=='S_utm_campaign_term'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,vars.utm_campaign_term);}
if(rule_prop=='S_utm_campaign_medium'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,vars.utm_campaign_medium);}
if(rule_prop=='C_click_jquery_selector'){if(rule_operator=='equals'){if(rule_val==''){res.rule_visual='you entered a blank jquery click selector, which will automatically evaluate to false';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_result=(vars.click_jquery_selector.hasOwnProperty(rule_val)&&vars.click_jquery_selector[rule_val]==true);res.rule_visual='jquery click selector ('+rule_val+') occurred ('+res.rule_result+')';res.rule_message=res.rule_visual;return res;}}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]!=''&&vars.click_jquery_selector.hasOwnProperty(rule_set[x])&&vars.click_jquery_selector[rule_set[x]]==true){res.rule_result=true;res.rule_visual='jquery click selector ('+rule_set[x]+') from group item number ('+x+') occurred ('+res.rule_result+')';res.rule_message=res.rule_visual;return res;}}
res.rule_result=false;res.rule_visual='jquery click selector from set did not occur';res.rule_message=res.rule_visual;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
if(rule_prop=='C_hover_jquery_selector'){if(rule_operator=='equals'){if(rule_val==''){res.rule_visual='you entered a blank jquery hover selector, which will automatically evaluate to false';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_result=(vars.hover_jquery_selector.hasOwnProperty(rule_val)&&vars.hover_jquery_selector[rule_val]==true);res.rule_visual='jquery hover selector ('+rule_val+') occurred ('+res.rule_result+')';res.rule_message=res.rule_visual;return res;}}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]!=''&&vars.hover_jquery_selector.hasOwnProperty(rule_set[x])&&vars.hover_jquery_selector[rule_set[x]]==true){res.rule_result=true;res.rule_visual='jquery hover selector ('+rule_set[x]+') from group item number ('+x+') occurred ('+res.rule_result+')';res.rule_message=res.rule_visual;return res;}}
res.rule_result=false;res.rule_visual='jquery hover selector from set did not occur';res.rule_message=res.rule_visual;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
if(rule_prop=='C_exists_jquery_selector'){if(rule_operator=='equals'){if(rule_val==''){res.rule_visual='you entered a blank jquery exists selector, which will automatically evaluate to false';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_result=(vars.exists_jquery_selector.hasOwnProperty(rule_val)&&vars.exists_jquery_selector[rule_val]==true);res.rule_visual='jquery exists selector ('+rule_val+') exists ('+res.rule_result+')';res.rule_message=res.rule_visual;return res;}}else if(rule_operator=='does_not_equal'){if(rule_val==''){res.rule_visual='you entered a blank jquery exists selector, which will automatically evaluate to false';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_result=(!vars.exists_jquery_selector.hasOwnProperty(rule_val)||vars.exists_jquery_selector[rule_val]==false);res.rule_visual='jquery exists selector ('+rule_val+') does not exist ('+res.rule_result+')';res.rule_message=res.rule_visual;return res;}}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]!=''&&vars.exists_jquery_selector.hasOwnProperty(rule_set[x])&&vars.exists_jquery_selector[rule_set[x]]==true){res.rule_result=true;res.rule_visual='jquery exists selector ('+rule_set[x]+') from group item number ('+x+') exists ('+res.rule_result+') (success)';res.rule_message=res.rule_visual;return res;}}
res.rule_result=false;res.rule_visual='jquery exists selector from set did not occur (failure)';res.rule_message=res.rule_visual;return res;}else if(rule_operator=='not_in_set'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]!=''&&vars.exists_jquery_selector.hasOwnProperty(rule_set[x])&&vars.exists_jquery_selector[rule_set[x]]==true){res.rule_result=false;res.rule_visual='jquery exists selector ('+rule_set[x]+') from group item number ('+x+') exists ('+res.rule_result+') (failure)';res.rule_message=res.rule_visual;return res;}}
res.rule_result=true;res.rule_visual='jquery exists selector from set did not occur (success)';res.rule_message=res.rule_visual;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
if(rule_prop=='E_exit_intent'){return evalRuleEnum(rule_prop,rule_operator,rule_set,rule_val,vars.exit_intent);}
if(rule_prop=='L_any_other_box'){if(rule_operator=='equals'){var occurrances=DIGIOH_LIGHTBOX_ANALYTICS.getEventCountAcrossAllLightboxesExcept(rule_val,lbid);res.rule_result=(occurrances>0);res.rule_visual=rule_val+' event has occurred '+occurrances+' times across all other lightboxes, so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}else if(rule_operator=='does_not_equal'){var occurrances=DIGIOH_LIGHTBOX_ANALYTICS.getEventCountAcrossAllLightboxesExcept(rule_val,lbid);res.rule_result=(occurrances==0);res.rule_visual=rule_val+' event has occurred '+occurrances+' times across all other lightboxes, so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){var occurrances=DIGIOH_LIGHTBOX_ANALYTICS.getEventCountAcrossAllLightboxesExcept(rule_set[x],lbid);if(occurrances>0){res.rule_result=true;res.rule_visual=rule_set[x]+' event from group has occurred '+occurrances+' times across all other lightboxes, so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}}
res.rule_result=false;res.rule_visual='no events from group have occurred across all other lightboxes, so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}else if(rule_operator=='not_in_set'){for(var x=0;x<rule_set.length;x++){var occurrances=DIGIOH_LIGHTBOX_ANALYTICS.getEventCountAcrossAllLightboxesExcept(rule_set[x],lbid);if(occurrances>0){res.rule_result=false;res.rule_visual=rule_set[x]+' event from group has occurred '+occurrances+' times across all other lightboxes, so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}}
res.rule_result=true;res.rule_visual='no events from group have occurred across all other lightboxes, so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
if(rule_prop.indexOf('L_other_box_')==0){var other_lbguid=rule_prop.split('_')[3];if(rule_operator=='equals'){var occurrances=DIGIOH_LIGHTBOX_ANALYTICS.getEventCountByLightbox(rule_val,other_lbguid);res.rule_result=(occurrances>0);res.rule_visual=rule_val+' event has occurred '+occurrances+' times for other lightbox guid '+other_lbguid+', so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}else if(rule_operator=='does_not_equal'){var occurrances=DIGIOH_LIGHTBOX_ANALYTICS.getEventCountByLightbox(rule_val,other_lbguid);res.rule_result=(occurrances==0);res.rule_visual=rule_val+' event has occurred '+occurrances+' times for other lightbox guid '+other_lbguid+', so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){var occurrances=DIGIOH_LIGHTBOX_ANALYTICS.getEventCountByLightbox(rule_set[x],other_lbguid);if(occurrances>0){res.rule_result=true;res.rule_visual=rule_set[x]+' event from group has occurred '+occurrances+' times for other lightbox guid '+other_lbguid+', so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}}
res.rule_result=false;res.rule_visual='no events from group for other lightbox guid '+other_lbguid+' have occurred, so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}else if(rule_operator=='not_in_set'){for(var x=0;x<rule_set.length;x++){var occurrances=DIGIOH_LIGHTBOX_ANALYTICS.getEventCountByLightbox(rule_set[x],other_lbguid);if(occurrances>0){res.rule_result=false;res.rule_visual=rule_set[x]+' event from group has occurred '+occurrances+' times for other lightbox guid '+other_lbguid+', so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}}
res.rule_result=true;res.rule_visual='no events in from group for other lightbox guid '+other_lbguid+' have occurred, so this rule is evaluated as '+res.rule_result;res.rule_message=res.rule_visual;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
if(rule_prop=='K_cookie'||rule_prop=='K_local_storage'||rule_prop=='K_session_storage'){if(!key_name){res.rule_result=false;res.rule_visual='Key Name was not specified.';res.rule_message=res.rule_visual;return res;}
var storageVal='';try{if(rule_prop=='K_cookie'){storageVal=DIGIOH_COOKIE.getEncoded(key_name);}else if(rule_prop=='K_local_storage'){storageVal=window.localStorage.getItem(key_name);}else if(rule_prop=='K_session_storage'){storageVal=window.sessionStorage.getItem(key_name);}}
catch(err_storage){res.rule_result=false;res.rule_error=true;res.rule_message=rule_prop+' - ERROR::::'+err_storage.message;return res;}
if(rule_operator==='exists'){if(storageVal===null||typeof storageVal==='undefined'){res.rule_result=false;res.rule_visual='Key does not exist.';res.rule_message=res.rule_visual;return res;}else{res.rule_result=true;res.rule_visual='Key exists.';res.rule_message=res.rule_visual;return res;}}
if(rule_operator==='does_not_exist'){if(storageVal===null||typeof storageVal==='undefined'){res.rule_result=true;res.rule_visual='Key does not exist.';res.rule_message=res.rule_visual;return res;}else{res.rule_result=false;res.rule_visual='Key exists.';res.rule_message=res.rule_visual;return res;}}
if(typeof storageVal!=='string'){if(rule_operator==='does_not_contain'||rule_operator==='does_not_start_with'||rule_operator==='does_not_end_with'||rule_operator==='does_not_equal'){res.rule_result=true;res.rule_visual='Key does not exist.';res.rule_message=res.rule_visual;return res;}else{res.rule_result=false;res.rule_visual='Key does not exist.';res.rule_message=res.rule_visual;return res;}}
if(rule_operator!=='greater_than'&&rule_operator!=='less_than'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,storageVal);}else{if(!isStringAnInteger(storageVal)){res.rule_result=false;res.rule_error=true;res.rule_message='value is not a number';return res;}
return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,parseInt(storageVal));}}
if(rule_prop=='J_javascript_variable'||rule_prop=='J_custom_condition'){if(!key_name){res.rule_result=false;res.rule_visual='Variable Name was not specified.';res.rule_message=res.rule_visual;return res;}
var jsVar='';try{jsVar=looseJsonParseVar(key_name);}
catch(err_jsvar){res.rule_result=false;res.rule_error=true;res.rule_message='J_javascript_variable - ERROR::::'+err_jsvar.message;return res;}
if((rule_operator==='equals'||rule_operator==='not_equals')&&(rule_val=='true'||rule_val=='false'||rule_val==true||rule_val==false)){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val.toString().toLowerCase(),jsVar.toString().toLowerCase());}else if(rule_operator!=='greater_than'&&rule_operator!=='less_than'){return evalRuleString(rule_prop,rule_operator,rule_set,rule_val,jsVar);}else{if(!isStringAnInteger(jsVar)){res.rule_result=false;res.rule_error=true;res.rule_message='value is not a number';return res;}
return evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,parseInt(jsVar));}}
if(rule_prop=='J_javascript_function'){if(!rule_val){res.rule_result=false;res.rule_visual='JS Function was not specified.';res.rule_message=res.rule_visual;return res;}
var jsFunc='';try{jsFunc=looseJsonParseFunc(rule_val);}
catch(err_jsfunc){res.rule_result=false;res.rule_error=true;res.rule_message='J_javascript_function - ERROR::::'+err_jsfunc.message;return res;}
res.rule_result=(jsFunc===true);res.rule_error=!res.rule_result;return res;}}
function looseJsonParseVar(obj){return Function('window','return (window.'+obj+')')(window.parent);}
function looseJsonParseFunc(obj){return Function("'use strict';"+obj+"")();}
function evalRuleStringMultiVal(rule_prop,rule_operator,rule_set,rule_val,compare_arr){var res={};res.rule_func='evalRuleStringMultiVal';res.rule_prop=rule_prop;res.rule_operator=rule_operator;res.rule_set=rule_set;res.rule_val=rule_val;res.rule_compare_val=compare_arr;res.rule_visual='';res.rule_message='';res.rule_error=false;res.rule_result=false;try{if(rule_operator=='equals'){res.rule_visual='Array EQUALS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=JQUERY_DIGIOH.inArray(rule_val,compare_arr)>-1;return res;}else if(rule_operator=='does_not_equal'){res.rule_visual='Array DOES NOT EQUAL '+rule_val;res.rule_message=res.rule_visual;res.rule_result=JQUERY_DIGIOH.inArray(rule_val,compare_arr)===-1;return res;}else if(rule_operator=='starts_with'){if(rule_val==''){res.rule_visual='Array STARTS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual='Array STARTS WITH '+rule_val;res.rule_message=res.rule_visual;var fm=false;for(var c=0;c<compare_arr.length;c++){if(stringStartsWith(compare_arr[c],rule_val)){fm=true;}}
res.rule_result=fm;return res;}}else if(rule_operator=='does_not_start_with'){if(rule_val==''){res.rule_visual='Array DOES NOT START WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual='Array DOES NOT START WITH '+rule_val;res.rule_message=res.rule_visual;var fm=false;for(var c=0;c<compare_arr.length;c++){if(stringStartsWith(compare_arr[c],rule_val)){fm=true;}}
res.rule_result=!fm;return res;}}else if(rule_operator=='ends_with'){if(rule_val==''){res.rule_visual='Array ENDS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual='Array ENDS WITH '+rule_val;res.rule_message=res.rule_visual;var fm=false;for(var c=0;c<compare_arr.length;c++){if(stringEndsWith(compare_arr[c],rule_val)){fm=true;}}
res.rule_result=fm;return res;}}else if(rule_operator=='does_not_end_with'){if(rule_val==''){res.rule_visual='Array DOES NOT END WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual='Array DOES NOT END WITH '+rule_val;res.rule_message=res.rule_visual;var fm=false;for(var c=0;c<compare_arr.length;c++){if(stringEndsWith(compare_arr[c],rule_val)){fm=true;}}
res.rule_result=!fm;return res;}}else if(rule_operator=='contains'){if(rule_val==''){res.rule_visual='Array CONTAINS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual='Array CONTAINS '+rule_val;res.rule_message=res.rule_visual;var fm=false;for(var c=0;c<compare_arr.length;c++){if(compare_arr[c].indexOf(rule_val)>=0){fm=true;}}
res.rule_result=fm;return res;}}else if(rule_operator=='does_not_contain'){if(rule_val==''){res.rule_visual='Array DOES NOT CONTAIN '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual='Array DOES NOT CONTAIN '+rule_val;res.rule_message=res.rule_visual;var fm=false;for(var c=0;c<compare_arr.length;c++){if(compare_arr[c].indexOf(rule_val)>=0){fm=true;}}
res.rule_result=!fm;return res;}}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){for(var y=0;y<compare_arr.length;y++){if(compare_arr[y]==rule_set[x]){res.rule_visual='Array MATCHED VALUE #'+x+' IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}}
res.rule_visual='Array MATCHED NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set'){for(var x=0;x<rule_set.length;x++){for(var y=0;y<compare_arr.length;y++){if(compare_arr[y]==rule_set[x]){res.rule_visual='Array MATCHED VALUE #'+x+' IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}}
res.rule_visual='Array MATCHED NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else if(rule_operator=='in_set_contains'){for(var x=0;x<rule_set.length;x++){for(var y=0;y<compare_arr.length;y++){if(rule_set[x]!=''&&compare_arr[y].indexOf(rule_set[x])>=0){res.rule_visual='Array CONTAINS VALUE #'+x+' IN GROUP ('+rule_set[x]+') (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}}
res.rule_visual='Array CONTAINS NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set_contains'){for(var x=0;x<rule_set.length;x++){for(var y=0;y<compare_arr.length;y++){if(rule_set[x]!=''&&compare_arr[y].indexOf(rule_set[x])>=0){res.rule_visual='Array CONTAINS VALUE #'+x+' IN GROUP ('+rule_set[x]+') (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}}
res.rule_visual='Array CONTAINS NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"evalRuleStringMultiVal");res.rule_error=true;res.rule_result=false;res.rule_message=e.message;return res;}}
function evalRuleString(rule_prop,rule_operator,rule_set,rule_val,compare_val){var res={};res.rule_func='evalRuleString';res.rule_prop=rule_prop;res.rule_operator=rule_operator;res.rule_set=rule_set;res.rule_val=rule_val;res.rule_compare_val=compare_val;res.rule_visual='';res.rule_message='';res.rule_error=false;res.rule_result=false;try
{if(typeof compare_val!=='string')
{if(typeof(compare_val)!='undefined'){compare_val=''+compare_val;}
else{compare_val='';}
res.rule_compare_val=compare_val;}
if(rule_operator=='equals'){res.rule_visual=compare_val+' EQUALS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val==rule_val);return res;}else if(rule_operator=='does_not_equal'){res.rule_visual=compare_val+' DOES NOT EQUAL '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val!=rule_val);return res;}else if(rule_operator=='starts_with'){if(rule_val==''){res.rule_visual=compare_val+' STARTS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' STARTS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=stringStartsWith(compare_val,rule_val);return res;}}else if(rule_operator=='does_not_start_with'){if(rule_val==''){res.rule_visual=compare_val+' DOES NOT START WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' DOES NOT START WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=!stringStartsWith(compare_val,rule_val);return res;}}else if(rule_operator=='ends_with'){if(rule_val==''){res.rule_visual=compare_val+' ENDS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' ENDS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=stringEndsWith(compare_val,rule_val);return res;}}else if(rule_operator=='does_not_end_with'){if(rule_val==''){res.rule_visual=compare_val+' DOES NOT END WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' DOES NOT END WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=!stringEndsWith(compare_val,rule_val);return res;}}else if(rule_operator=='contains'){if(rule_val==''){res.rule_visual=compare_val+' CONTAINS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' CONTAINS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val.indexOf(rule_val)>=0);return res;}}else if(rule_operator=='does_not_contain'){if(rule_val==''){res.rule_visual=compare_val+' DOES NOT CONTAIN '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' DOES NOT CONTAIN '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val.indexOf(rule_val)==-1);return res;}}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){if(compare_val==rule_set[x]){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set'){for(var x=0;x<rule_set.length;x++){if(compare_val==rule_set[x]){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else if(rule_operator=='in_set_contains'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]!=''&&compare_val.indexOf(rule_set[x])>=0){res.rule_visual=compare_val+' CONTAINS VALUE #'+x+' IN GROUP ('+rule_set[x]+') (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}
res.rule_visual=compare_val+' CONTAINS NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set_contains'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]!=''&&compare_val.indexOf(rule_set[x])>=0){res.rule_visual=compare_val+' CONTAINS VALUE #'+x+' IN GROUP ('+rule_set[x]+') (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}
res.rule_visual=compare_val+' CONTAINS NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"evalRuleString");logger(res);res.rule_error=true;res.rule_result=false;res.rule_message=e.message;return res;}}
function evalRulePagesNavigated(rule_prop,rule_operator,rule_set,rule_val,compare_val){var res={};res.rule_func='evalRulePagesNavigated';res.rule_prop=rule_prop;res.rule_operator=rule_operator;res.rule_set=rule_set;res.rule_val=rule_val;res.rule_compare_val=compare_val;res.rule_visual='';res.rule_message='';res.rule_error=false;res.rule_result=false;try{if(rule_operator=='equals'){res.rule_visual=compare_val+' EQUALS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=compareUrlEqualityWithAndWithoutTrailingSlash(compare_val,rule_val);return res;}else if(rule_operator=='does_not_equal'){res.rule_visual=compare_val+' DOES NOT EQUAL '+rule_val;res.rule_message=res.rule_visual;res.rule_result=!compareUrlEqualityWithAndWithoutTrailingSlash(compare_val,rule_val);return res;}else if(rule_operator=='starts_with'){if(rule_val==''){res.rule_visual=compare_val+' STARTS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' STARTS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=stringStartsWith(compare_val.toLowerCase(),rule_val.toLowerCase());return res;}}else if(rule_operator=='does_not_start_with'){if(rule_val==''){res.rule_visual=compare_val+' DOES NOT START WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' DOES NOT START WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=!stringStartsWith(compare_val.toLowerCase(),rule_val.toLowerCase());return res;}}else if(rule_operator=='ends_with'){if(rule_val==''){res.rule_visual=compare_val+' ENDS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' ENDS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=compareUrlEndingWithAndWithoutTrailingSlash(compare_val,rule_val);return res;}}else if(rule_operator=='does_not_end_with'){if(rule_val==''){res.rule_visual=compare_val+' DOES NOT END WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' DOES NOT END WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=!compareUrlEndingWithAndWithoutTrailingSlash(compare_val,rule_val);return res;}}else if(rule_operator=='contains'){if(rule_val==''){res.rule_visual=compare_val+' CONTAINS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' CONTAINS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val.toLowerCase().indexOf(rule_val.toLowerCase())>=0);return res;}}else if(rule_operator=='does_not_contain'){if(rule_val==''){res.rule_visual=compare_val+' DOES NOT CONTAIN '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' DOES NOT CONTAIN '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val.toLowerCase().indexOf(rule_val.toLowerCase())==-1);return res;}}else if(rule_operator=='in_set'){var compare_set=[];if(DIGIOH_API.contains(compare_val,'|')){compare_set=compare_val.split('|');}else if(compare_val){compare_set.push(compare_val);}
for(var x=0;x<rule_set.length;x++){for(s=0;s<compare_set.length;s++){if(compareUrlEqualityWithAndWithoutTrailingSlash(compare_set[s],rule_set[x])){res.rule_visual=compare_set[s]+' MATCHED VALUE #'+x+' IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}}
res.rule_visual=compare_set[s]+' MATCHED NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set'){var compare_set=[];if(DIGIOH_API.contains(compare_val,'|')){compare_set=compare_val.split('|');}else if(compare_val){compare_set.push(compare_val);}
for(var x=0;x<rule_set.length;x++){for(s=0;s<compare_set.length;s++){if(compareUrlEqualityWithAndWithoutTrailingSlash(compare_set[s],rule_set[x])){res.rule_visual=compare_set[s]+' MATCHED VALUE #'+x+' IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}}
res.rule_visual=compare_set[s]+' MATCHED NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else if(rule_operator=='in_set_contains'){var compare_set=[];if(DIGIOH_API.contains(compare_val,'|')){compare_set=compare_val.split('|');}else if(compare_val){compare_set.push(compare_val);}
for(var x=0;x<rule_set.length;x++){for(s=0;s<compare_set.length;s++){if(rule_set[x]!=''&&compare_set[s].toLowerCase().indexOf(rule_set[x].toLowerCase())>=0){res.rule_visual=compare_set[s]+' CONTAINS VALUE #'+x+' IN GROUP ('+rule_set[x]+') (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}}
res.rule_visual=compare_set[s]+' CONTAINS NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set_contains'){var compare_set=[];if(DIGIOH_API.contains(compare_val,'|')){compare_set=compare_val.split('|');}else if(compare_val){compare_set.push(compare_val);}
for(var x=0;x<rule_set.length;x++){for(s=0;s<compare_set.length;s++){if(rule_set[x]!=''&&compare_set[s].toLowerCase().indexOf(rule_set[x].toLowerCase())>=0){res.rule_visual=compare_set[s]+' CONTAINS VALUE #'+x+' IN GROUP ('+rule_set[x]+') (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}}
res.rule_visual=compare_set[s]+' CONTAINS NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"evalRulePagesNavigated");res.rule_error=true;res.rule_result=false;res.rule_message=e.message;return res;}}
function evalRuleUrl(rule_prop,rule_operator,rule_set,rule_val,compare_val){var res={};res.rule_func='evalRuleUrl';res.rule_prop=rule_prop;res.rule_operator=rule_operator;res.rule_set=rule_set;res.rule_val=rule_val;res.rule_compare_val=compare_val;res.rule_visual='';res.rule_message='';res.rule_error=false;res.rule_result=false;try{if(rule_operator=='equals'){res.rule_visual=compare_val+' EQUALS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=compareUrlEqualityWithAndWithoutTrailingSlash(compare_val,rule_val);return res;}else if(rule_operator=='does_not_equal'){res.rule_visual=compare_val+' DOES NOT EQUAL '+rule_val;res.rule_message=res.rule_visual;res.rule_result=!compareUrlEqualityWithAndWithoutTrailingSlash(compare_val,rule_val);return res;}else if(rule_operator=='starts_with'){if(rule_val==''){res.rule_visual=compare_val+' STARTS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' STARTS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=stringStartsWith(compare_val.toLowerCase(),rule_val.toLowerCase());return res;}}else if(rule_operator=='does_not_start_with'){if(rule_val==''){res.rule_visual=compare_val+' DOES NOT START WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' DOES NOT START WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=!stringStartsWith(compare_val.toLowerCase(),rule_val.toLowerCase());return res;}}else if(rule_operator=='ends_with'){if(rule_val==''){res.rule_visual=compare_val+' ENDS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' ENDS WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=compareUrlEndingWithAndWithoutTrailingSlash(compare_val,rule_val);return res;}}else if(rule_operator=='does_not_end_with'){if(rule_val==''){res.rule_visual=compare_val+' DOES NOT END WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' DOES NOT END WITH '+rule_val;res.rule_message=res.rule_visual;res.rule_result=!compareUrlEndingWithAndWithoutTrailingSlash(compare_val,rule_val);return res;}}else if(rule_operator=='contains'){if(rule_val==''){res.rule_visual=compare_val+' CONTAINS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' CONTAINS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val.toLowerCase().indexOf(rule_val.toLowerCase())>=0);return res;}}else if(rule_operator=='does_not_contain'){if(rule_val==''){res.rule_visual=compare_val+' DOES NOT CONTAIN '+rule_val;res.rule_message=res.rule_visual;res.rule_result=false;return res;}else{res.rule_visual=compare_val+' DOES NOT CONTAIN '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val.toLowerCase().indexOf(rule_val.toLowerCase())==-1);return res;}}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){if(compareUrlEqualityWithAndWithoutTrailingSlash(compare_val,rule_set[x])){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set'){for(var x=0;x<rule_set.length;x++){if(compareUrlEqualityWithAndWithoutTrailingSlash(compare_val,rule_set[x])){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else if(rule_operator=='in_set_contains'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]!=''&&compare_val.toLowerCase().indexOf(rule_set[x].toLowerCase())>=0){res.rule_visual=compare_val+' CONTAINS VALUE #'+x+' IN GROUP ('+rule_set[x]+') (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}
res.rule_visual=compare_val+' CONTAINS NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set_contains'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]!=''&&compare_val.toLowerCase().indexOf(rule_set[x].toLowerCase())>=0){res.rule_visual=compare_val+' CONTAINS VALUE #'+x+' IN GROUP ('+rule_set[x]+') (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}
res.rule_visual=compare_val+' CONTAINS NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"evalRuleUrl");res.rule_error=true;res.rule_result=false;res.rule_message=e.message;return res;}}
function evalRuleDeviceEnum(rule_prop,rule_operator,rule_set,rule_val,compare_val_orig){var res={};res.rule_func='evalRuleDeviceEnum';res.rule_prop=rule_prop;res.rule_operator=rule_operator;res.rule_set=rule_set;res.rule_val=rule_val;res.rule_compare_val=compare_val_orig;res.rule_visual='';res.rule_message='';res.rule_error=false;res.rule_result=false;var compare_val=compare_val_orig;try{if(rule_operator=='equals'){if(rule_val&&rule_val.indexOf('Desktop/Laptop')===-1&&rule_val.indexOf('Phone/Tablet')===-1){if(isPhone()){compare_val='Phone';}else if(isTablet()){compare_val='Tablet';}else{compare_val='Desktop';}}else{compare_val=compare_val_orig;}
res.rule_visual=compare_val+' EQUALS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val==rule_val);return res;}else if(rule_operator=='does_not_equal'){if(rule_val&&rule_val.indexOf('Desktop/Laptop')===-1&&rule_val.indexOf('Phone/Tablet')===-1){if(isPhone()){compare_val='Phone';}else if(isTablet()){compare_val='Tablet';}else{compare_val='Desktop';}}else{compare_val=compare_val_orig;}
res.rule_visual=compare_val+' DOES NOT EQUAL '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val!=rule_val);return res;}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]&&rule_set[x].indexOf('Desktop/Laptop')===-1&&rule_set[x].indexOf('Phone/Tablet')===-1){if(isPhone()){compare_val='Phone';}else if(isTablet()){compare_val='Tablet';}else{compare_val='Desktop';}}else{compare_val=compare_val_orig;}
if(compare_val==rule_set[x]){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]&&rule_set[x].indexOf('Desktop/Laptop')===-1&&rule_set[x].indexOf('Phone/Tablet')===-1){if(isPhone()){compare_val='Phone';}else if(isTablet()){compare_val='Tablet';}else{compare_val='Desktop';}}else{compare_val=compare_val_orig;}
if(compare_val==rule_set[x]){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"evalRuleDeviceEnum");res.rule_visual='ERROR: '+e.message;res.rule_error=true;res.rule_result=false;res.rule_message=e.message;return res;}}
var getBrowserLanguages=function(){if(typeof navigator==='object'){var t='anguage',n=navigator,f;f=n['l'+t+'s'];return f&&f.length?f:(t=n['l'+t]||n['browserL'+t]||n['userL'+t])?[t]:t;}};function evalRuleEnumLanguage(rule_prop,rule_operator,rule_set,rule_val){var compare_val_orig='en';var langs=getBrowserLanguages();if(typeof langs==='object'&&langs!=null&&langs.length>0)
compare_val_orig=langs[0];var res={};res.rule_func='evalRuleEnumLanguage';res.rule_prop=rule_prop;res.rule_operator=rule_operator;res.rule_set=rule_set;res.rule_val=rule_val;res.rule_compare_val=compare_val_orig;res.rule_visual='';res.rule_message='';res.rule_error=false;res.rule_result=false;var compare_val=compare_val_orig;try{if(rule_operator=='equals'){if(rule_val&&rule_val.indexOf('_')===-1)
compare_val=compare_val_orig.split('-')[0];else
compare_val=compare_val_orig.split('-').join('_');res.rule_visual=compare_val+' EQUALS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val.toLowerCase()==rule_val.toLowerCase());return res;}else if(rule_operator=='does_not_equal'){if(rule_val&&rule_val.indexOf('_')===-1)
compare_val=compare_val_orig.split('-')[0];else
compare_val=compare_val_orig.split('-').join('_');res.rule_visual=compare_val+' DOES NOT EQUAL '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val.toLowerCase()!=rule_val.toLowerCase());return res;}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]&&rule_set[x].indexOf('_')===-1)
compare_val=compare_val_orig.split('-')[0];else
compare_val=compare_val_orig.split('-').join('_');if(compare_val.toLowerCase()==rule_set[x].toLowerCase()){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set'){for(var x=0;x<rule_set.length;x++){if(rule_set[x]&&rule_set[x].indexOf('_')===-1)
compare_val=compare_val_orig.split('-')[0];else
compare_val=compare_val_orig.split('-').join('_');if(compare_val.toLowerCase()==rule_set[x].toLowerCase()){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"evalRuleEnumLanguage");res.rule_visual='ERROR: '+e.message;res.rule_error=true;res.rule_result=false;res.rule_message=e.message;return res;}}
function evalRuleEnum(rule_prop,rule_operator,rule_set,rule_val,compare_val){var res={};res.rule_func='evalRuleEnum';res.rule_prop=rule_prop;res.rule_operator=rule_operator;res.rule_set=rule_set;res.rule_val=rule_val;res.rule_compare_val=compare_val;res.rule_visual='';res.rule_message='';res.rule_error=false;res.rule_result=false;try{if(rule_operator=='equals'){res.rule_visual=compare_val+' EQUALS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val==rule_val);return res;}else if(rule_operator=='does_not_equal'){res.rule_visual=compare_val+' DOES NOT EQUAL '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val!=rule_val);return res;}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){if(compare_val==rule_set[x]){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set'){for(var x=0;x<rule_set.length;x++){if(compare_val==rule_set[x]){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"evalRuleEnum");res.rule_error=true;res.rule_result=false;res.rule_message=e.message;return res;}}
function evalRuleEnumSegments(rule_prop,rule_operator,rule_set,rule_val,compare_val){var res={};res.rule_func='evalRuleEnumSegments';res.rule_prop=rule_prop;res.rule_operator=rule_operator;res.rule_set=rule_set;res.rule_val=rule_val;res.rule_compare_val=compare_val;res.rule_visual='';res.rule_message='';res.rule_error=false;res.rule_result=false;try{if(typeof CDP_VARS==='object'&&CDP_VARS&&CDP_VARS.hasOwnProperty('enabled')&&CDP_VARS.enabled){if(rule_operator==='equals'){res.rule_visual='['+compare_val.join(',')+']'+' EQUALS/CONTAINS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(JQUERY_DIGIOH.inArray(rule_val,compare_val)!==-1);return res;}else if(rule_operator==='does_not_equal'){res.rule_visual='['+compare_val.join(',')+']'+' DOES NOT EQUAL/CONTAIN '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(JQUERY_DIGIOH.inArray(rule_val,compare_val)===-1);return res;}else if(rule_operator==='in_set'){for(var x=0;x<rule_set.length;x++){if(JQUERY_DIGIOH.inArray(rule_val,compare_val)!==-1){res.rule_visual='['+compare_val.join(',')+']'+' MATCHED/CONTAINED VALUE #'+x+' IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}
res.rule_visual='['+compare_val.join(',')+']'+' MATCHED/CONTAINED NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator==='not_in_set'){for(var x=0;x<rule_set.length;x++){if(JQUERY_DIGIOH.inArray(rule_val,compare_val)!==-1){res.rule_visual='['+compare_val.join(',')+']'+' MATCHED/CONTAINED VALUE #'+x+' IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}
res.rule_visual='['+compare_val.join(',')+']'+' MATCHED/CONTAINED NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
else{if(DIGIOH_API.recipientSegmentsResult&&!DIGIOH_API.recipientSegmentsResult.found){res.rule_visual='API RESULT NOT FOUND (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}
var root_domain=window.location.host;if(window.location.host.split('.').length>2){var temp=window.location.host.split('.').reverse();root_domain=temp[1]+'.'+temp[0];}
if(rule_operator==='equals'){if(!DIGIOH_API.contains(rule_val,root_domain)){res.rule_visual='ROOT DOMAIN DID NOT MATCH (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}
rule_val=rule_val.split(' (')[0];res.rule_visual='['+compare_val.join(',')+']'+' EQUALS/CONTAINS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(JQUERY_DIGIOH.inArray(rule_val,compare_val)!==-1);return res;}else if(rule_operator==='does_not_equal'){if(!DIGIOH_API.contains(rule_val,root_domain)){res.rule_visual='ROOT DOMAIN DID NOT MATCH (failure)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}
rule_val=rule_val.split(' (')[0];res.rule_visual='['+compare_val.join(',')+']'+' DOES NOT EQUAL/CONTAIN '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(JQUERY_DIGIOH.inArray(rule_val,compare_val)===-1);return res;}else if(rule_operator==='in_set'){for(var x=0;x<rule_set.length;x++){if(!DIGIOH_API.contains(rule_set[x],root_domain)){continue;}
rule_val=rule_set[x].split(' (')[0];if(JQUERY_DIGIOH.inArray(rule_val,compare_val)!==-1){res.rule_visual='['+compare_val.join(',')+']'+' MATCHED/CONTAINED VALUE #'+x+' IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}
res.rule_visual='['+compare_val.join(',')+']'+' MATCHED/CONTAINED NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator==='not_in_set'){for(var x=0;x<rule_set.length;x++){if(!DIGIOH_API.contains(rule_set[x],root_domain)){continue;}
rule_val=rule_set[x].split(' (')[0];if(JQUERY_DIGIOH.inArray(rule_val,compare_val)!==-1){res.rule_visual='['+compare_val.join(',')+']'+' MATCHED/CONTAINED VALUE #'+x+' IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}
res.rule_visual='['+compare_val.join(',')+']'+' MATCHED/CONTAINED NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"evalRuleEnumSegments");res.rule_error=true;res.rule_result=false;res.rule_message=e.message;return res;}}
function evalRuleInt(rule_prop,rule_operator,rule_set,rule_val,compare_val){var res={};res.rule_func='evalRuleInt';res.rule_prop=rule_prop;res.rule_operator=rule_operator;res.rule_set=rule_set;res.rule_val=rule_val;res.rule_compare_val=compare_val;res.rule_visual='';res.rule_message='';res.rule_error=false;res.rule_result=false;try{if(rule_operator=='equals'){if(!isStringAnInteger(rule_val)){res.rule_error=true;res.rule_message='value is not a number';return res;}else{res.rule_visual=compare_val+' EQUALS '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val==parseInt(rule_val));return res;}}else if(rule_operator=='does_not_equal'){if(!isStringAnInteger(rule_val)){res.rule_error=true;res.rule_message='value is not a number';return res;}else{res.rule_visual=compare_val+' DOES NOT EQUAL '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val!=parseInt(rule_val));return res;}}else if(rule_operator=='less_than'){if(!isStringAnInteger(rule_val)){res.rule_error=true;res.rule_message='value is not a number';return res;}else{res.rule_visual=compare_val+' LESS THAN '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val<parseInt(rule_val));return res;}}else if(rule_operator=='greater_than'){if(!isStringAnInteger(rule_val)){res.rule_error=true;res.rule_message='value is not a number';return res;}else{res.rule_visual=compare_val+' GREATER THAN '+rule_val;res.rule_message=res.rule_visual;res.rule_result=(compare_val>parseInt(rule_val));return res;}}else if(rule_operator=='in_set'){for(var x=0;x<rule_set.length;x++){if(isStringAnInteger(rule_set[x])&&compare_val==parseInt(rule_set[x])){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}else if(rule_operator=='not_in_set'){for(var x=0;x<rule_set.length;x++){if(isStringAnInteger(rule_set[x])&&compare_val==parseInt(rule_set[x])){res.rule_visual=compare_val+' MATCHED VALUE #'+x+' IN GROUP (failure)';res.rule_message=res.rule_visual;res.rule_result=false;return res;}}
res.rule_visual=compare_val+' MATCHED NO VALUES IN GROUP (success)';res.rule_message=res.rule_visual;res.rule_result=true;return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"evalRuleInt");res.rule_error=true;res.rule_result=false;res.rule_message=e.message;return res;}}
function evalRuleDate(rule_prop,rule_operator,rule_start_date,rule_end_date,compare_date){var res={};res.rule_func='evalRuleDate';res.rule_prop=rule_prop;res.rule_operator=rule_operator;res.rule_start_date=rule_start_date;res.rule_end_date=rule_end_date;res.rule_compare_date=compare_date;res.rule_visual='';res.rule_message='';res.rule_error=false;res.rule_result=false;try{var start_date_parts=[];var end_date_parts=[];var compare_date_parts=[];var start;var end;var compare;if(compare_date.indexOf('/')==-1){res.rule_message='comparison date in invalid format, does not contain slash: '+compare_date;res.rule_error=true;return res;}
compare_date_parts=compare_date.split('/');if(compare_date_parts.length!=3){res.rule_message='comparison date in invalid format, less than 3 date parts: '+compare_date;res.rule_error=true;return res;}
compare=new Date(parseInt(compare_date_parts[2]),parseInt(compare_date_parts[0]-1),parseInt(compare_date_parts[1]),0,0,0);if(rule_start_date.indexOf('/')==-1){res.rule_message='start date in invalid format, does not contain slash: '+rule_start_date;res.rule_error=true;return res;}
start_date_parts=rule_start_date.split('/');if(start_date_parts.length!=3){res.rule_message='start date in invalid format, less than 3 date parts: '+rule_start_date;res.rule_error=true;return res;}
start=new Date(parseInt(start_date_parts[2]),parseInt(start_date_parts[0]-1),parseInt(start_date_parts[1]),0,0,0);if(rule_operator=='equals'){res.rule_visual=(compare.getMonth()+1)+'/'+compare.getDate()+'/'+compare.getFullYear()+' EQUALS '+rule_start_date;res.rule_result=(compare.getTime()==start.getTime());return res;}else if(rule_operator=='does_not_equal'){res.rule_visual=(compare.getMonth()+1)+'/'+compare.getDate()+'/'+compare.getFullYear()+' DOES NOT EQUAL '+rule_start_date;res.rule_result=(compare.getTime()!=start.getTime());return res;}else if(rule_operator=='less_than'){res.rule_visual=(compare.getMonth()+1)+'/'+compare.getDate()+'/'+compare.getFullYear()+' LESS THAN '+rule_start_date;res.rule_result=(compare.getTime()<start.getTime());return res;}else if(rule_operator=='greater_than'){res.rule_visual=(compare.getMonth()+1)+'/'+compare.getDate()+'/'+compare.getFullYear()+' GREATER THAN '+rule_start_date;res.rule_result=(compare.getTime()>start.getTime());return res;}else if(rule_operator=='between'||rule_operator=='is_not_between'){if(rule_end_date.indexOf('/')==-1){res.rule_message='end date in invalid format, does not contain slash: '+rule_end_date;res.rule_error=true;return res;}
end_date_parts=rule_end_date.split('/');if(end_date_parts.length!=3){res.rule_message='end date in invalid format, less than 3 date parts: '+rule_end_date;res.rule_error=true;return res;}
end=new Date(parseInt(end_date_parts[2]),parseInt(end_date_parts[0]-1),parseInt(end_date_parts[1]),0,0,0);if(end.getTime()<start.getTime()){res.rule_message='start date must be less than or equal to end date: '+rule_start_date+' (start date), '+rule_end_date+' (end date)';res.rule_error=true;return res;}
if(rule_operator=='between'){res.rule_visual=(compare.getMonth()+1)+'/'+compare.getDate()+'/'+compare.getFullYear()+' BETWEEN '+rule_start_date+', '+rule_end_date;res.rule_result=(compare.getTime()>=start.getTime()&&compare.getTime()<=end.getTime());return res;}else if(rule_operator=='is_not_between'){res.rule_visual=(compare.getMonth()+1)+'/'+compare.getDate()+'/'+compare.getFullYear()+' IS NOT BETWEEN '+rule_start_date+', '+rule_end_date;res.rule_result=(compare.getTime()<start.getTime()||compare.getTime()>end.getTime());return res;}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}else{res.rule_message='invalid operator: '+rule_operator;res.rule_error=true;res.result=false;return res;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"evalRuleDate");res.rule_error=true;res.rule_result=false;res.rule_message=e.message;return res;}}
function initLightboxActivity(){try{DIGIOH_LIGHTBOX_ANALYTICS.loadLightboxActivity();}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initLightboxActivity");}}
function checkLightboxMasterRules(){try{if(typeof DIGIOH_LIGHTBOX_MASTER_RULES!=="undefined"&&window.location.href.indexOf('ignore_lightbox_master_rules')<0){if(typeof DIGIOH_LIGHTBOX_MASTER_RULES.OneBoxPerPageview!=="undefined"&&DIGIOH_LIGHTBOX_MASTER_RULES.OneBoxPerPageview===true&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.master_rules["Once per pageview"]===false){logger("OneBoxPerPageview: Master rule prevented further execution.");return false;}
if(typeof DIGIOH_LIGHTBOX_MASTER_RULES.OneBoxPerSession!=="undefined"&&DIGIOH_LIGHTBOX_MASTER_RULES.OneBoxPerSession===true&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.master_rules["Once per session"]===false){logger("OneBoxPerSession:  Master rule prevented further execution.");return false;}
if(typeof DIGIOH_LIGHTBOX_MASTER_RULES.OneBoxPerVisitor!=="undefined"&&DIGIOH_LIGHTBOX_MASTER_RULES.OneBoxPerVisitor===true&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.master_rules["Once per visitor"]===false){logger("OneBoxPerVisitor:  Master rule prevented further execution.");return false;}
if(typeof DIGIOH_LIGHTBOX_MASTER_RULES.StopAfterFormSubmitted!=="undefined"&&DIGIOH_LIGHTBOX_MASTER_RULES.StopAfterFormSubmitted===true&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.master_rules["Until form is submitted"]===false){logger("StopAfterFormSubmitted:  Master rule prevented further execution.");return false;}
if(typeof DIGIOH_LIGHTBOX_MASTER_RULES.DisableIfCookiesDisabled!=="undefined"&&DIGIOH_LIGHTBOX_MASTER_RULES.DisableIfCookiesDisabled===true&&((DIGIOH_STORAGE.storage_type==='cookie'&&areCookiesDisabled())||(DIGIOH_STORAGE.storage_type==='cross_domain'&&!DIGIOH_CROSS_DOMAIN.isWorking))){logger("DisableIfCookiesDisabled:  Cookies are currently disabled in this browser.  Preventing further execution.");return false;}}
return true;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"checkLightboxMasterRules");return true;}}
function updateLightboxActivityView(lid){try{DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("view",lid);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"updateLightboxActivityView");}}
function updateLightboxActivityClose(lid){try{DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("close",lid);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"updateLightboxActivityClose");}}
function updateLightboxActivitySubmit(lid){try{DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("submit",lid);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"updateLightboxActivitySubmit");}}
function updateLightboxActivityRedirect(lid){try{DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("redirect",lid);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"updateLightboxActivityRedirect");}}
var initExistsSelectors=function(){try{for(var x=0;x<EXISTS_SELECTORS.length;x++){if(JQUERY_DIGIOH(EXISTS_SELECTORS[x]).length){DIGIOH_LIGHTBOX_ANALYTICS.VARS.exists_jquery_selector[EXISTS_SELECTORS[x]]=true;}else{DIGIOH_LIGHTBOX_ANALYTICS.VARS.exists_jquery_selector[EXISTS_SELECTORS[x]]=false;}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initExistsSelectors");}};var recheckExistsSelectors=function(){initExistsSelectors();};function initClickSelectors(){try{for(var x=0;x<CLICK_SELECTORS.length;x++){DIGIOH_LIGHTBOX_ANALYTICS.VARS.click_jquery_selector[CLICK_SELECTORS[x]]=false;JQUERY_DIGIOH(document).on('click',CLICK_SELECTORS[x],function(e){var curr=JQUERY_DIGIOH(this)[0];for(var y=0;y<CLICK_SELECTORS.length;y++){var elements=JQUERY_DIGIOH(CLICK_SELECTORS[y]);for(var w=0;w<elements.length;w++){if(elements[w]===curr){DIGIOH_LIGHTBOX_ANALYTICS.VARS.click_jquery_selector[CLICK_SELECTORS[y]]=true;var selector=CLICK_SELECTORS[y];var lbguid=checkConditions('click','',selector,false);if(lbguid&&lbguid.length>0){e.preventDefault();logger("loadLightbox: initClickSelectors, "+lbguid);loadLightbox(lbguid);}
DIGIOH_LIGHTBOX_ANALYTICS.VARS.click_jquery_selector[selector]=false;if(!DIGIOH_LIGHTBOX_MASTER_RULES.AllowMultipleBoxes){break;}}}}});}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initClickSelectors");}}
var checkConditionsClick=function(selector){try{var lbguid=checkConditions('click','',selector,false);if(lbguid&&lbguid.length>0){logger("loadLightbox: checkConditionsClick, "+lbguid);loadLightbox(lbguid);}
DIGIOH_LIGHTBOX_ANALYTICS.VARS.click_jquery_selector[selector]=false;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"checkConditionsClick");}};function initHoverSelectors(){try{for(var x=0;x<HOVER_SELECTORS.length;x++){DIGIOH_LIGHTBOX_ANALYTICS.VARS.hover_jquery_selector[HOVER_SELECTORS[x]]=false;JQUERY_DIGIOH(HOVER_SELECTORS[x]).mouseenter(function(){var curr=JQUERY_DIGIOH(this)[0];for(var y=0;y<HOVER_SELECTORS.length;y++){var elements=JQUERY_DIGIOH(HOVER_SELECTORS[y]);for(var w=0;w<elements.length;w++){if(elements[w]===curr){DIGIOH_LIGHTBOX_ANALYTICS.VARS.hover_jquery_selector[HOVER_SELECTORS[y]]=true;checkConditionsHover(HOVER_SELECTORS[y]);if(!DIGIOH_LIGHTBOX_MASTER_RULES.AllowMultipleBoxes){break;}}}}}).mouseleave(function(){var curr=JQUERY_DIGIOH(this)[0];for(var y=0;y<HOVER_SELECTORS.length;y++){var elements=JQUERY_DIGIOH(HOVER_SELECTORS[y]);for(var w=0;w<elements.length;w++){if(elements[w]===curr){DIGIOH_LIGHTBOX_ANALYTICS.VARS.hover_jquery_selector[HOVER_SELECTORS[y]]=false;if(!DIGIOH_LIGHTBOX_MASTER_RULES.AllowMultipleBoxes){break;}}}}});}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initHoverSelectors");}}
var checkConditionsHover=function(selector){try{var lbguid=checkConditions('hover','',selector,false);if(lbguid&&lbguid.length>0){logger("loadLightbox: checkConditionsHover, "+lbguid);loadLightbox(lbguid);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"checkConditionsHover");}};function initScrollSelectors(){try{if(SCROLL_BOXES_ARR.length>0){jqWin.scroll(function(){DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_pixels=Math.round(jqWin.scrollTop());DIGIOH_LIGHTBOX_ANALYTICS.VARS.scroll_percent=Math.round(100*jqWin.scrollTop()/(jqDoc.height()-jqWin.height()));checkConditionsScroll();});logger("initScrollSelectors");}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initScrollSelectors");}}
var checkConditionsScroll=function(){try{var lbguidCurr='';var lbguidMatch='';var ss=SCROLL_BOXES_ARR;for(var x=0;x<ss.length;x++){if(!SS_EVAL_PREV.hasOwnProperty(ss[x])){SS_EVAL_PREV[ss[x]]=false;}
lbguidCurr=checkConditions('scroll',ss[x],'',false);if(lbguidCurr&&lbguidCurr.length>0){if(lbguidMatch===''&&!SS_EVAL_PREV[ss[x]]){lbguidMatch=lbguidCurr;}
SS_EVAL_PREV[ss[x]]=true;}else{SS_EVAL_PREV[ss[x]]=false;}}
if(lbguidMatch&&lbguidMatch.length>0){logger("loadLightbox: checkConditionsScroll, "+lbguidMatch);loadLightbox(lbguidMatch);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"checkConditionsScroll");}};function initExitSelectors(){try{if(EXIT_BOXES_ARR.length>0){var mousex=-1;var mousey=-1;var lastmousex=-1;var lastmousey=-1;var lastmousetime;var mousetravel=0;var magnitudex=0;var magnitudey=0;var directionx='';var directiony='';var pageWidth=jqWin.width();var pageHeight=jqWin.height();var yOffset=jqWin.scrollTop();jqDoc.mousemove(function(e){mousex=e.pageX;mousey=e.pageY;magnitudex=Math.abs(mousex-lastmousex);magnitudey=Math.abs(mousey-lastmousey);if(lastmousex>-1){mousetravel=Math.max(magnitudex,magnitudey);}
if(mousex<lastmousex)directionx='left';else directionx='right';if(mousey>lastmousey)directiony='down';else directiony='up';lastmousex=mousex;lastmousey=mousey;});jqDoc.mouseleave(function(){yOffset=jqWin.scrollTop();var relative_y=yOffset-mousey;var relative_x=jqWin.width()-mousex;logger('Exit intent detected, with mousetravel = '+mousetravel);if(directionx=='right'&&mousex>(pageWidth-200)&&mousey>(yOffset+50)&&mousey<(pageHeight+yOffset-50)&&mousetravel>0&&magnitudex>=(magnitudey/2)){DIGIOH_LIGHTBOX_ANALYTICS.VARS.exit_intent="Mouse exits window right";logger("Exit intent: Mouse exits window right");checkConditionsExit();JQUERY_DIGIOH(document).trigger("lightboxExitEvent",["right"]);}
else if(directionx=='left'&&mousex<200&&mousey>(yOffset+50)&&mousey<(pageHeight+yOffset-50)&&mousetravel>0&&magnitudex>=(magnitudey/2)){DIGIOH_LIGHTBOX_ANALYTICS.VARS.exit_intent="Mouse exits window left";logger("Exit intent: Mouse exits window left");checkConditionsExit();JQUERY_DIGIOH(document).trigger("lightboxExitEvent",["left"]);}
else if(directiony=='up'&&mousey<(yOffset+200)&&mousetravel>0){DIGIOH_LIGHTBOX_ANALYTICS.VARS.exit_intent="Mouse exits window top";logger("Exit intent: Mouse exits window top");checkConditionsExit();JQUERY_DIGIOH(document).trigger("lightboxExitEvent",["top"]);}
else if(directiony=='down'&&mousey>(pageHeight+yOffset-100)&&mousetravel>0){DIGIOH_LIGHTBOX_ANALYTICS.VARS.exit_intent="Mouse exits window bottom";logger("Exit intent: Mouse exits window bottom");checkConditionsExit();JQUERY_DIGIOH(document).trigger("lightboxExitEvent",["bottom"]);}
else if(DIGIOH_API.GET_ANALYTICS().VARS.DeviceAtlas.browserName=='Safari'){DIGIOH_LIGHTBOX_ANALYTICS.VARS.exit_intent="Mouse exits window top";logger("Exit intent: Mouse exits window from unknown position in Safari.  Registering Exit intent anyway.");checkConditionsExit();JQUERY_DIGIOH(document).trigger("lightboxExitEvent",["unknown"]);}
setTimeout(function(){DIGIOH_LIGHTBOX_ANALYTICS.VARS.exit_intent="";},1000);});jqWin.resize(function(){pageWidth=jqWin.width();pageHeight=jqWin.height();yOffset=jqWin.scrollTop();});}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initExitSelectors");}}
var checkConditionsExit=function(){try{if(DIGIOH_LIGHTBOX_MASTER_RULES.AllowMultipleBoxes){var lbguids=checkConditions('exit','','',true);logger("checkConditionsExit:  AllowMultipleBoxes(true) => lbguidsMatched => "+JSON.stringify(lbguids));for(var i=0;i<lbguids.length;i++){if(lbguids[i]&&lbguids[i].length>0){logger("loadLightbox: checkConditionsExit, "+lbguids[i]);loadLightbox(lbguids[i]);}}}
else{var lbguid=checkConditions('exit','','',false);logger("checkConditionsExit:  AllowMultipleBoxes(false) => lbguidMatched => "+lbguid);if(lbguid&&lbguid.length>0){logger("loadLightbox: checkConditionsExit, "+lbguid);loadLightbox(lbguid);}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"checkConditionsExit");}};var checkConditionsLoad=function(){try{if(DIGIOH_LIGHTBOX_MASTER_RULES.AllowMultipleBoxes){var lbguids=checkConditions('load','','',true);logger("checkConditionsLoad:  AllowMultipleBoxes(true) => lbguidsMatched => "+JSON.stringify(lbguids));for(var i=0;i<lbguids.length;i++){if(lbguids[i]&&lbguids[i].length>0){logger("loadLightbox: checkConditionsLoad, "+lbguids[i]);loadLightbox(lbguids[i]);}}}
else{var lbguid=checkConditions('load','','',false);logger("checkConditionsLoad:  AllowMultipleBoxes(false) => lbguidMatched => "+lbguid);if(lbguid&&lbguid.length>0){logger("loadLightbox: checkConditionsLoad, "+lbguid);loadLightbox(lbguid);}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"checkConditionsLoad");}};var checkConditionsTime=function(){try{var lbguidCurr='';var lbguidMatch='';var ts=TIME_BOXES_ARR;for(var x=0;x<ts.length;x++){if(!TS_EVAL_PREV.hasOwnProperty(ts[x])){TS_EVAL_PREV[ts[x]]=false;}
lbguidCurr=checkConditions('time',ts[x],'',false);if(lbguidCurr&&lbguidCurr.length>0){if(lbguidMatch===''&&!TS_EVAL_PREV[ts[x]]){lbguidMatch=lbguidCurr;}
TS_EVAL_PREV[ts[x]]=true;}else{TS_EVAL_PREV[ts[x]]=false;}}
if(lbguidMatch&&lbguidMatch.length>0){logger("loadLightbox: checkConditionsTime, "+lbguidMatch);loadLightbox(lbguidMatch);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"checkConditionsTime");}};function checkConditionsPreloadTeasers(){try{var lbguid='';var var_id='';var foundMatch=false;if(DIGIOH_LIGHTBOX_TEASER_PRELOAD_ARR.length>0||DIGIOH_LIGHTBOX_TEASER_FOLLOW_ME_ARR.length>0){for(var i=0;i<DIGIOH_LIGHTBOX_CONDITIONS.length;i++){foundMatch=false;lbguid=DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid;var_id='';if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lbguid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lbguid];}
var skipToNext=false;for(var j=0;j<DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR.length;j++){if(lbguid===DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[j]){skipToNext=true;break;}else if(var_id&&var_id===DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR[j]){skipToNext=true;break;}}
if(!skipToNext){if(var_id.length>10){if(JQUERY_DIGIOH.inArray(var_id,DIGIOH_LIGHTBOX_TEASER_FOLLOW_ME_ARR)>-1){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,lbguid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,true,true,false);if(foundMatch)
logger('** Opening Follow Me Teaser');}
else if(JQUERY_DIGIOH.inArray(var_id,DIGIOH_LIGHTBOX_TEASER_PRELOAD_ARR)>-1){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,lbguid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,true,false,false);}}
else{if(JQUERY_DIGIOH.inArray(lbguid,DIGIOH_LIGHTBOX_TEASER_FOLLOW_ME_ARR)>-1){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,lbguid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,true,true,false);if(foundMatch)
logger('** Opening Follow Me Teaser');}else if(JQUERY_DIGIOH.inArray(lbguid,DIGIOH_LIGHTBOX_TEASER_PRELOAD_ARR)>-1){foundMatch=evalConditions(DIGIOH_LIGHTBOX_CONDITIONS[i].conditions,lbguid,DIGIOH_LIGHTBOX_ANALYTICS.VARS,true,false,false);}}
if(foundMatch){var open_id=lbguid;if(var_id.length>7){open_id=var_id;}
if(EFFECTS[open_id]['widget_type']=='sidebar'){openTeaser(EFFECTS[open_id].sidebar.teaser,open_id);}else if(EFFECTS[open_id]['widget_type']=='fancybox'){openTeaser(EFFECTS[open_id].fancybox.teaser,open_id);}}}}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"checkConditionsPreloadTeasers");}}
function setLightboxDomId(lid){try{if(!LOADED_BOX_DOM_ID_MAP.hasOwnProperty(lid)||LOADED_BOX_DOM_ID_MAP[lid].length<10){LOADED_BOX_DOM_ID_MAP[lid]='lightbox-'+lid+'-'+new Date().getTime();}
return LOADED_BOX_DOM_ID_MAP[lid];}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setLightboxDomId");}
return '';}
var getLightboxDomId=function(lid){try{if(LOADED_BOX_DOM_ID_MAP.hasOwnProperty(lid)&&LOADED_BOX_DOM_ID_MAP[lid].length>10){return LOADED_BOX_DOM_ID_MAP[lid];}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getLightboxDomId");}
return '';};var getActiveLightboxDomId=function(){try{if(LOADED_LIGHTBOXES.length>0){return getLightboxDomId(LOADED_LIGHTBOXES[LOADED_LIGHTBOXES.length-1]);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getActiveLightboxDomId");}
return '';};function preloadLightboxes(){try{if(DIGIOH_LIGHTBOX_PRELOAD_ARR.length>0){for(var x=0;x<DIGIOH_LIGHTBOX_PRELOAD_ARR.length;x++){preloadIframe(DIGIOH_LIGHTBOX_PRELOAD_ARR[x]);}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"preloadLightboxes");}}
function inlineResponsiveResizing(lbid,dom_id,start_time,prev_width,prev_height){try{var current_time=new Date().getTime();var diff_in_millis=current_time-start_time;var new_width=0;var new_height=0;if(JQUERY_DIGIOH('#'+dom_id).length){new_width=JQUERY_DIGIOH('#'+dom_id).width();new_height=JQUERY_DIGIOH('#'+dom_id).height();}
hMax=getResponsiveBoxHeightMax(lbid);hMin=getResponsiveBoxHeightMin(lbid);if(diff_in_millis>300){if(new_height>hMax){new_height=hMax;JQUERY_DIGIOH('#'+dom_id).height(new_height);}
if(new_height<hMin){new_height=hMin;JQUERY_DIGIOH('#'+dom_id).height(new_height);}}
if(new_width!==prev_width||new_height!==prev_height){window.setTimeout(function(){inlineResponsiveResizing(lbid,dom_id,start_time,new_width,new_height);},100);}
else{CURRENT_PAGE_DIMS_RESPONSIVE[lbid]={width:new_width,height:new_height};if(diff_in_millis<1000){sendMessageToIframe({sender:'lightbox',action:'dimensions_changed',widget_type:EFFECTS[lbid].widget_type,width:new_width,height:new_height},lbid);window.setTimeout(function(){inlineResponsiveResizing(lbid,dom_id,start_time,new_width,new_height);},100);}else{keepSendingResizeToChildUntilReceived({sender:'lightbox',action:'dimensions_changed',widget_type:EFFECTS[lbid].widget_type,width:new_width,height:new_height},lbid,100,0);}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"inlineResponsiveResizing");}}
function trySetAttribute(dom_id,kvp){try{if(kvp.k==='class')
JQUERY_DIGIOH('#'+dom_id).addClass(kvp.v);else
JQUERY_DIGIOH('#'+dom_id).attr(kvp.k,kvp.v);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"trySetAttribute");}}
async function preloadIframe(lid,inline_style,inline_jquery_selector,inline_jquery_method,inline_clear){try{if(!EFFECTS.hasOwnProperty(lid)){logger("preloadIframe: EFFECTS does not have lid: "+lid);return;}
var bpRes=await loadBreakpointsFile(lid);logger('preloadIframe breakpoint_file_loaded, bpRes = '+bpRes);setPixelThreshold(lid);if(typeof inline_style==='undefined'||inline_style===null)
inline_style='';if(typeof inline_jquery_selector==='undefined'||inline_jquery_selector===null)
inline_jquery_selector='';if(typeof inline_jquery_method==='undefined'||inline_jquery_method===null)
inline_jquery_method='';if(typeof inline_clear==='undefined'||inline_clear===null)
inline_clear='';var isVariation=false;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){isVariation=true;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){lid=LIGHTBOX_TO_VARIATION_MAP[lid];isVariation=true;}else if(DIGIOH_PUBLISHED_VARIATIONS_ARR.length>0&&DIGIOH_PUBLISHED_VARIATIONS_ARR.join(',').indexOf(lid)>=0){logger('preloadIframe: Skipping Preload Variation, it is ineligible: '+lid);return false;}
if(JQUERY_DIGIOH.inArray(lid,PRELOADED_LIGHTBOXES)==-1||!JQUERY_DIGIOH('#lightbox-iframe-'+lid).length){PRELOADED_LIGHTBOXES.push(lid);logger('preloadIframe: Preload Lightbox Started: '+lid);}else{logger('preloadIframe: Already Preloaded Lightbox: '+lid);return true;}
var dom_id=setLightboxDomId(lid);var add_classes='preloaded_lightbox';var pref=getPagePref(lid);var widthAndHeight='';var widthAndHeightInlineResponsive='';var responsiveScale='';var using_custom_iframe=(EFFECTS[lid].hasOwnProperty('iframe')&&EFFECTS[lid]['iframe']['use_custom']);if(using_custom_iframe){widthAndHeight+='width: '+EFFECTS[lid]['iframe']['width']+'px;';widthAndHeight+='height: '+EFFECTS[lid]['iframe']['height']+'px;';add_classes+=' preloaded_custom_iframe';}else{if(EFFECTS[lid].hasOwnProperty(pref+'responsive')&&EFFECTS[lid][pref+'responsive'].use){widthAndHeight+='width: '+getResponsiveBoxWidth(lid)+'px;';widthAndHeight+='height: '+getResponsiveBoxHeight(lid)+'px;';var wMax=getResponsiveBoxWidthMax(lid);var wMin=getResponsiveBoxWidthMin(lid);var hMax=getResponsiveBoxHeightMax(lid);var hMin=getResponsiveBoxHeightMin(lid);widthAndHeightInlineResponsive=";width:"+getResponsiveBoxWidthPercent(lid)+"%;height:"+getResponsiveBoxHeightPercent(lid)+"%;";widthAndHeightInlineResponsive+="max-width:"+wMax+"px;"+"min-width:"+wMin+"px;"+"max-height:"+hMax+"px;"+"min-height:"+hMin+"px;";}else{widthAndHeight+='width: '+getBoxWidth(lid)+'px;';widthAndHeight+='height: '+getBoxHeight(lid)+'px;';responsiveScale=getResponsiveScale(lid);}}
if(EFFECTS[lid]['widget_type']==='fancybox'){var extra_css='';if(EFFECTS[lid]['fancybox'].hasOwnProperty('css')&&typeof EFFECTS[lid]['fancybox']['css']==='string'&&EFFECTS[lid]['fancybox']['css'].indexOf(':')>0){extra_css=EFFECTS[lid]['fancybox']['css'];}
body.append("<div role='dialog' aria-label='Modal Overlay Box' id='"+dom_id+"' class='"+add_classes+"' style='z-index: 9948035; position: fixed; display: none; left: -2000px; top: -2000px; overflow: visible !important; "+widthAndHeight+responsiveScale+extra_css+"'><div title='Close' class='widget_fb_close' style='"+getCloseButtonStyle(EFFECTS[lid].fancybox.close_button,EFFECTS[lid].widget_type,lid)+"' aria-label='Close Modal'></div></div>");JQUERY_DIGIOH('#'+dom_id+' .widget_fb_close').click(function(){IS_LIGHTBOX_CLOSING[lid]=true;JQUERY_DIGIOH.fb_lightbox.close();});}else if(EFFECTS[lid]['widget_type']==='banner'){body.append("<div role='dialog' aria-label='Modal Overlay Box' id='"+dom_id+"' class='"+add_classes+"' style='display: none; "+getBannerPosition(EFFECTS[lid].banner,lid)+"'><div title='Close' class='banner-iframe-close' style='"+getCloseButtonStyle(EFFECTS[lid].banner.close_button,EFFECTS[lid].widget_type,lid)+"' aria-label='Close Banner'></div></div>");}else if(EFFECTS[lid]['widget_type']==='sidebar'){body.append("<div role='dialog' aria-label='Modal Overlay Box' id='"+dom_id+"' class='"+add_classes+"' style='display: none; "+getSidebarPosition(EFFECTS[lid].sidebar,lid)+"'><div title='Close' class='sidebar-iframe-close' style='"+getCloseButtonStyle(EFFECTS[lid].sidebar.close_button,EFFECTS[lid].widget_type,lid)+"' aria-label='Close Modal'></div></div>");}else if(EFFECTS[lid]['widget_type']==='inline'&&inline_style===''){return false;}else if(EFFECTS[lid]['widget_type']==='inline'&&inline_style!==''){if(inline_style.indexOf('position:')===-1){inline_style='position:relative;'+inline_style;}
if(IS_PREVIEW){JQUERY_DIGIOH('body').append('<div role="dialog" aria-label="Inline Form" id="'+dom_id+'" style="display:none;'+inline_style+widthAndHeightInlineResponsive+'"></div>');}else if(EFFECTS[lid].inline.position_using=='custom_function'){JQUERY_DIGIOH('body').append('<div role="dialog" aria-label="Inline Form" id="'+dom_id+'" style="display:none;'+inline_style+widthAndHeightInlineResponsive+'"></div>');JQUERY_DIGIOH('#'+dom_id).hide();}
else if(inline_jquery_selector===''){JQUERY_DIGIOH('body').append('<div role="dialog" aria-label="Inline Form" id="'+dom_id+'" style="display:none;'+inline_style+widthAndHeightInlineResponsive+'"></div>');}else{if(JQUERY_DIGIOH(inline_jquery_selector).length){if(JQUERY_DIGIOH(inline_jquery_selector).length>1){JQUERY_DIGIOH(inline_jquery_selector).eq(0)[inline_jquery_method]('<div role="dialog" aria-label="Inline Form" id="'+dom_id+'" style="display:none;'+inline_style+widthAndHeightInlineResponsive+'"></div>'+inline_clear);}else{JQUERY_DIGIOH(inline_jquery_selector)[inline_jquery_method]('<div role="dialog" aria-label="Inline Form" id="'+dom_id+'" style="display:none;'+inline_style+widthAndHeightInlineResponsive+'"></div>'+inline_clear);}}else{return false;}}}
if(using_custom_iframe){if(EFFECTS[lid]['iframe']['is_self_hosted']){if(PROTOCOL=='https://'&&EFFECTS[lid]['iframe']['self_hosted_url'].indexOf('http://')==0){CURRENT_IFRAME_SRC="https://"+EFFECTS[lid]['iframe']['self_hosted_url'].substring(7);}else{CURRENT_IFRAME_SRC=EFFECTS[lid]['iframe']['self_hosted_url'];}}else{if(isVariation){if(IS_QA){CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/variation/'+lid+'/custom_iframe_qa.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}else if(IS_PREVIEW){CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/variation/'+lid+'/custom_iframe_preview.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}else{CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/variation/'+lid+'/custom_iframe.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}}else{if(IS_QA){CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/lightbox/'+lid+'/custom_iframe_qa.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}else if(IS_PREVIEW){CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/lightbox/'+lid+'/custom_iframe_preview.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}else{CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/lightbox/'+lid+'/custom_iframe.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}}}
let TABINDEX=DIGIOH_API.getWidgetMetadata(lid,"boxtabindex");if(TABINDEX=="remove")TABINDEX="";else TABINDEX=TABINDEX&&!isNaN(TABINDEX)?`tabindex='${TABINDEX}'`:"tabindex='1'";JQUERY_DIGIOH('#'+dom_id).append("<iframe "+TABINDEX+" aria-label='Modal Overlay Box Frame' title='Modal Overlay Box Frame' src="+CURRENT_IFRAME_SRC+" width='"+getBoxWidth(lid)+"' height='"+getBoxHeight(lid)+"' frameborder='0' scrolling='no'></iframe>");if(JQUERY_DIGIOH.inArray(lid,PRELOADED_LIGHTBOXES_LOADED)==-1){PRELOADED_LIGHTBOXES_LOADED.push(lid);}}else{loadLightningIframe(lid,dom_id);if(EFFECTS[lid]['widget_type']==='inline'){if(EFFECTS[lid].hasOwnProperty(pref+'responsive')&&EFFECTS[lid][pref+'responsive'].use){inlineResponsiveResizing(lid,dom_id,(new Date().getTime()),0,0);}}}
if(EFFECTS[lid]['widget_type']&&EFFECTS[lid].hasOwnProperty(EFFECTS[lid]['widget_type'])&&EFFECTS[lid][EFFECTS[lid]['widget_type']].hasOwnProperty('metadata_kvps')){var kvps=EFFECTS[lid][EFFECTS[lid]['widget_type']].metadata_kvps;for(var k=0;k<kvps.length;k++){if(kvps[k].k&&kvps[k].v){trySetAttribute(dom_id,kvps[k]);}}}
if(EFFECTS[lid]['widget_type']==='inline'&&inline_style!==''&&EFFECTS[lid].inline.position_using==='custom_function'){if(!isVariation&&DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lid)&&DIGIOH_CUSTOM_JS.hasOwnProperty('InlineLightboxFormPositionCustomFunction_'+DIGIOH_LIGHTBOX_IDS[lid])){DIGIOH_CUSTOM_JS['InlineLightboxFormPositionCustomFunction_'+DIGIOH_LIGHTBOX_IDS[lid]](window,document,JQUERY_DIGIOH,lid,dom_id,inline_style);}
else if(isVariation&&DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lid)&&DIGIOH_CUSTOM_JS.hasOwnProperty('InlineLightboxFormPositionCustomFunction_VAR_'+DIGIOH_LIGHTBOX_IDS[lid])){DIGIOH_CUSTOM_JS['InlineLightboxFormPositionCustomFunction_VAR_'+DIGIOH_LIGHTBOX_IDS[lid]](window,document,JQUERY_DIGIOH,lid,dom_id,inline_style);}}
return true;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"preloadIframe");return false;}}
function showInline(lid){if(isActiveBox(lid)){logger('DIGIOH: isActiveBox() called from showInline() - prevented display - '+lid);return false;}
addActiveBox(lid);var bsid=DIGIOH_API.getBoxIDFromBoxOrVariation(lid).toString();logger('showInline('+lid+') before_lightbox_display: bsid='+bsid);if(DIGIOH_API.hasOwnProperty('BOXCOMM')&&DIGIOH_API.BOXCOMM.hasOwnProperty(bsid)&&DIGIOH_API.BOXCOMM[bsid].hasAfterDomReadyJsFinished){var res=DIGIOH_API.BOXCOMM[bsid].runCustomJsBeforeDisplay();logger('showInline('+lid+') before_lightbox_display: '+res);if(res===false){removeActiveBox(lid);return false;}
var dom_id=getLightboxDomId(lid);if(dom_id!=''&&JQUERY_DIGIOH('#'+dom_id).length){JQUERY_DIGIOH('#'+dom_id).show();if(!DIGIOH_API.contains(DIGIOH_LIGHTBOX_INLINE_DISPLAYED,lid)){DIGIOH_LIGHTBOX_INLINE_DISPLAYED.push(lid);logger('DIGIOH::::showInline('+lid+') ==>  SUCCESS');}
else{logger('DIGIOH::::showInline('+lid+') ==>  FAIL');}
registerLightboxShow(lid);JQUERY_DIGIOH('#'+dom_id).parent().find('div.box_loading_placeholder').hide();}}else{logger('showInline('+lid+') before_lightbox_display: retry');setTimeout(function(){removeActiveBox(lid);showInline(lid);},100);return false;}}
var shouldSuppressLightbox=function(lbid){try{if(typeof DIGIOH_VENDOR_SHORT_ID!=='undefined'&&DIGIOH_VENDOR_SHORT_ID){var dvsi=parseInt(DIGIOH_VENDOR_SHORT_ID);if((dvsi>40969&&dvsi<=40980&&dvsi!=40971)||dvsi==40774||dvsi==40884||dvsi==41391||dvsi==41763||dvsi==41758||dvsi==41688||dvsi==30575){if(DIGIOH_COOKIE.get('__bxsuppress',true)){logger('SUPPRESSION_POLICY ==> __bxsuppress cookie found, preventing lightbox display: '+lbid);return true;}
DIGIOH_COOKIE.set('__bxsuppress','1',1/48);logger('SUPPRESSION_POLICY ==> __bxsuppress cookie set, strictly preventing any non-inline boxes from displaying for the next 30 mins!');}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"shouldSuppressLightbox");}
return false;};var loadLightbox=function(lbid,force){try{if(typeof force==='undefined'){force=false;}
if(typeof lbid!=='string'||lbid.length<20){return false;}else if(!force&&!checkLightboxMasterRules()){logger('DIGIOH: checkLightboxMasterRules() called from loadLightbox() - prevented display - '+lbid);return false;}else if(isActiveBox(lbid)){logger('DIGIOH: isActiveBox() called from loadLightbox() - prevented display - '+lbid);return false;}
if(!force&&!DIGIOH_LIGHTBOX_MASTER_RULES.AllowMultipleBoxes&&LOADED_LIGHTBOXES.length>0){for(var i=0;i<LOADED_LIGHTBOXES.length;i++){var bidtmp=LOADED_LIGHTBOXES[i];if(EFFECTS.hasOwnProperty(bidtmp)&&EFFECTS[bidtmp].hasOwnProperty('widget_type')&&EFFECTS[bidtmp].widget_type!=='inline'){logger('DIGIOH: DIGIOH_LIGHTBOX_MASTER_RULES.AllowMultipleBoxes == false (prevented multi display of '+lbid+')'+' (found another active non-inline box '+EFFECTS[bidtmp].widget_type+' '+bidtmp+')');return false;}}}
var var_id='';var orig_lid=lbid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lbid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lbid];var_id=lbid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lbid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lbid];}
if(var_id!==''&&var_id.length>7){lbid=var_id;}
if(!IS_PREVIEW||IS_DEV){if(!isInlineLightbox(lbid)){if(shouldSuppressLightbox(lbid)){return false;}else{var customJsAppsResult=runCustomJsLinkedApps('BeforeDisplay',orig_lid,var_id);logger('JS_PARENT_APPS.runCustomJsBeforeLightboxDisplay - '+lbid);if(customJsAppsResult===false){logger('JS_PARENT_APPS.runCustomJsBeforeLightboxDisplay - prevented lightbox '+lbid+' from being displayed');return false;}
var customJsSuperResult=DIGIOH_CUSTOM_JS_SUPER.runCustomJsBeforeLightboxDisplay(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_GLOBAL.runCustomJsBeforeLightboxDisplay - '+lbid);if(!customJsSuperResult){logger('JS_GLOBAL.runCustomJsBeforeLightboxDisplay - prevented lightbox '+lbid+' from being displayed');return false;}
var customJsResult=DIGIOH_CUSTOM_JS.runCustomJsBeforeLightboxDisplay(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_PARENT.runCustomJsBeforeLightboxDisplay - '+lbid);if(!customJsResult){logger('JS_PARENT.runCustomJsBeforeLightboxDisplay - prevented lightbox '+lbid+' from being displayed');return false;}}}}
if(EFFECTS.hasOwnProperty(lbid)&&EFFECTS[lbid].hasOwnProperty('iframe')&&EFFECTS[lbid]['iframe']['use_custom']){EFFECTS[lbid].width=EFFECTS[lbid]['iframe']['width'];EFFECTS[lbid].height=EFFECTS[lbid]['iframe']['height'];}
if(JQUERY_DIGIOH.inArray(lbid,PRELOADED_LIGHTBOXES)>-1){logger('loadLightbox_1: '+lbid+', '+EFFECTS[lbid].widget_type);tryShowPreloadedLightbox(lbid);}else{logger('loadLightbox_2: '+lbid+', '+EFFECTS[lbid].widget_type);preloadIframe(lbid).then(function(){logger('loadLightbox_3: preloadIframe Promise complete - '+lbid);tryShowPreloadedLightbox(lbid);}).catch(function(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logger('loadLightbox_4: preloadIframe Promise ERROR - '+e.message);tryShowPreloadedLightbox(lbid);});}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"loadLightbox");}};var addActiveBox=function(lid){try{if(JQUERY_DIGIOH.inArray(lid,LOADED_LIGHTBOXES)===-1){LOADED_LIGHTBOXES.push(lid);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"addActiveBox");}};var removeActiveBox=function(lid){try{if(JQUERY_DIGIOH.inArray(lid,LOADED_LIGHTBOXES)>=0){LOADED_LIGHTBOXES.splice(JQUERY_DIGIOH.inArray(lid,LOADED_LIGHTBOXES),1);logger('removeActiveBox: LOADED_LIGHTBOXES - '+lid);logger(LOADED_LIGHTBOXES);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"removeActiveBox");}};function getActiveBreakpointPixels(lid){try{if(typeof DIGIOH_API.BREAKPOINT_POINTER==='object'&&DIGIOH_API.BREAKPOINT_POINTER.hasOwnProperty(lid)&&DIGIOH_API.BREAKPOINT_POINTER[lid]!=={}){var ptArr=[];for(var prop in DIGIOH_API.BREAKPOINT_POINTER[lid]){if(DIGIOH_API.BREAKPOINT_POINTER[lid].hasOwnProperty(prop)){if(JQUERY_DIGIOH.inArray(parseInt(prop),ptArr)===-1){ptArr.push(parseInt(prop));}}}
if(ptArr.length>0){ptArr.sort(function(a,b){return a-b;});var winWidth=JQUERY_DIGIOH(window).width();if(isMobile()||isTablet()){winWidth=getiOSWindowWidth();}
for(var i=0;i<ptArr.length;i++){if(ptArr[i]>winWidth){logger('breakpoint_file: getActiveBreakpointPixels - foundMatch ('+lid+') '+ptArr[i]);return ptArr[i];}}}}
return 0;}
catch(e){return 0;}}
function sortAndSetBreakpointForBox(lid,caller){try{var foundMatch=false;if(typeof DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS==='object'&&DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS.hasOwnProperty(lid)){var ptArr=[];for(var prop in DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lid]){if(DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lid].hasOwnProperty(prop)){if(JQUERY_DIGIOH.inArray(parseInt(prop),ptArr)===-1){ptArr.push(parseInt(prop));}}}
if(ptArr.length>0){ptArr.sort(function(a,b){return a-b;});var winWidth=JQUERY_DIGIOH(window).width();if(isMobile()||isTablet()){winWidth=getiOSWindowWidth();}
for(var i=0;i<ptArr.length;i++){if(ptArr[i]>winWidth){DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]=DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lid][ptArr[i].toString()];foundMatch=true;logger('breakpoint_file: DIGIOH_API.LIGHTBOX.PixelThresholdSettings['+lid+'] - foundMatch ('+caller+') '+ptArr[i]);break;}}}}
return foundMatch;}
catch(e){return false;}}
async function tryLoadBreakpointFile(breakpointURL,lid,started){let prom=new Promise(function(resolve,reject){JQUERY_DIGIOH.ajax({url:breakpointURL,crossDomain:true,dataType:'script',cache:true,success:function(){logger('breakpoint_file_download_success');resolve('breakpoint_file_download_success');},complete:function(){logger('breakpoint_file_download_complete');resolve('breakpoint_file_download_complete');},error:function(XMLHttpRequest,textStatus,errorThrown){logger('breakpoint_file_download_error: '+textStatus);resolve('breakpoint_file_download_error');}});});let res=await prom;logger('breakpoint_file: tryLoadBreakpointFile: '+res);return res;}
async function loadBreakpointsFile(lid){try{if(!DIGIOH_API||!DIGIOH_API.LIGHTBOX)
return false;if(!DIGIOH_API.LIGHTBOX.hasOwnProperty('PixelThresholdSettings'))
DIGIOH_API.LIGHTBOX.PixelThresholdSettings={};if(!DIGIOH_API.LIGHTBOX.PixelThresholdSettings.hasOwnProperty(lid))
DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]='';if(!DIGIOH_API.hasOwnProperty('hasTriedLoadingBreakpointFile')){DIGIOH_API.hasTriedLoadingBreakpointFile={};}
if(DIGIOH_API.hasTriedLoadingBreakpointFile.hasOwnProperty(lid)){logger('breakpoint_file: awaiting B');await DIGIOH_API.hasTriedLoadingBreakpointFile[lid];}
else if(!DIGIOH_API.hasTriedLoadingBreakpointFile.hasOwnProperty(lid)&&!DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS.hasOwnProperty(lid)&&DIGIOH_API.BREAKPOINT_POINTER.hasOwnProperty(lid)&&DIGIOH_API.BREAKPOINT_POINTER[lid]!=={}){logger('breakpoint_file: trying to load breakpoints.js');DIGIOH_API.hasTriedLoadingBreakpointFile[lid]=new Promise(async(resolve,reject)=>{var isVariation=false;var actual_lid=lid;var var_id='';if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){var_id=lid;actual_lid=DIGIOH_VARIATION_TO_BOX_MAP[lid];isVariation=true;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lid];actual_lid=lid;isVariation=true;lid=var_id;}
var breakpointFile="";var varIdOrLid="";if(isVariation&&var_id){breakpointFile+="/variation/"+var_id;varIdOrLid=var_id;}else{breakpointFile+="/lightbox/"+lid;varIdOrLid=lid;}
if(IS_QA){breakpointFile+="/breakpoints_qa.js";}else if(IS_PREVIEW){breakpointFile+="/breakpoints_preview.js";}else{breakpointFile+="/breakpoints.js";}
if(typeof DIGIOH_CACHE_VERSION==='undefined'){DIGIOH_CACHE_VERSION=(new Date().getTime());}
var breakpointURL=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+breakpointFile+'?cb='+DIGIOH_CACHE_VERSION;logger('breakpoint_file_url: '+breakpointURL);try{logger('tryLoadBreakpointFile started');var res=await tryLoadBreakpointFile(breakpointURL,lid,false);logger('tryLoadBreakpointFile finished: '+res);resolve('breakpoint_file_loaded');}
catch(ajaxError){logger('breakpoint_file_error...');console.error(ajaxError);reject('breakpoint_file_error');}});logger('breakpoint_file: awaiting A');await DIGIOH_API.hasTriedLoadingBreakpointFile[lid];}
return true;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"loadBreakpointsFile");return false;}}
function setPixelThreshold(lid,force_update){try{if(!DIGIOH_API||!DIGIOH_API.LIGHTBOX)
return false;if(!DIGIOH_API.LIGHTBOX.hasOwnProperty('PixelThresholdSettings'))
DIGIOH_API.LIGHTBOX.PixelThresholdSettings={};if(!DIGIOH_API.LIGHTBOX.PixelThresholdSettings.hasOwnProperty(lid))
DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]='';if(typeof force_update==='undefined'||!force_update){if(typeof DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]==='object'&&DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]!==null){return false;}}
if(typeof DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS==='object'&&!DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS.hasOwnProperty(lid)){return false;}
var existingThreshold='';if(typeof DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]==='object'&&DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]!==null){if(DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid].hasOwnProperty('pixel_version')){existingThreshold=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]['pixel_version'];}}
var foundMatch=sortAndSetBreakpointForBox(lid,'Existing');if(!foundMatch&&DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS.hasOwnProperty(lid)){if(typeof DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid]==='string'&&DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid].indexOf('{')<0){DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]=JSON.parse(DIGIOH_API.LIGHTBOX.LZString.decompressFromBase64(DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid]));}else if(typeof DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid]==='string'&&DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid].indexOf('{')>=0){DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]=JSON.parse(DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid]);}else{DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]=DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid];}
logger('breakpoint_file: DIGIOH_API.LIGHTBOX.PixelThresholdSettings['+lid+'] - original');}
if(EFFECTS.hasOwnProperty(lid)&&DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]){if(DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid].hasOwnProperty('iframe')){EFFECTS[lid].iframe=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid].iframe;}
var pref='';for(var i=1;i<=102;i++){if(i==1){pref='';}
else if(i==2){pref='thx';}
else if(i>=3&&i<=6){pref='ep'+(i-2);}
else if(i>=7){pref='ep'+(i-2);if(!DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid].hasOwnProperty(pref+'layout')){continue;}}
if(DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid].hasOwnProperty(pref+'layout')){EFFECTS[lid][pref+'width']=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'layout'].width;EFFECTS[lid][pref+'height']=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'layout'].height;}
if(DIGIOH_USE_RESPONSIVE&&DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid].hasOwnProperty(pref+'responsive')&&DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'responsive'].use){EFFECTS[lid][pref+'responsive']={};EFFECTS[lid][pref+'responsive'].use=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'responsive'].use;EFFECTS[lid][pref+'responsive'].box_width=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'responsive'].box_width;EFFECTS[lid][pref+'responsive'].box_height=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'responsive'].box_height;EFFECTS[lid][pref+'responsive'].width_max=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'responsive'].width_max;EFFECTS[lid][pref+'responsive'].width_min=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'responsive'].width_min;EFFECTS[lid][pref+'responsive'].height_max=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'responsive'].height_max;EFFECTS[lid][pref+'responsive'].height_min=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'responsive'].height_min;}
else{if(DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid].hasOwnProperty(pref+'responsive')){EFFECTS[lid][pref+'responsive']={};EFFECTS[lid][pref+'responsive'].use=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'responsive'].use;}
if(DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid].hasOwnProperty(pref+'scaling')){EFFECTS[lid][pref+'scaling']={};for(var prop2 in DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'scaling']){if(DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'scaling'].hasOwnProperty(prop2)){EFFECTS[lid][pref+'scaling'][prop2]=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid][pref+'scaling'][prop2];}}}}}}
var newThreshold='';if(typeof DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]==='object'){if(DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid].hasOwnProperty('pixel_version')){newThreshold=DIGIOH_API.LIGHTBOX.PixelThresholdSettings[lid]['pixel_version'];}}
return(existingThreshold!==newThreshold);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setPixelThreshold");return false;}}
function tryShowPreloadedLightbox(lbid){if(TERMINATED_LIGHTBOXES.hasOwnProperty(lbid)&&TERMINATED_LIGHTBOXES[lbid]){delete TERMINATED_LIGHTBOXES[lbid];}else if(JQUERY_DIGIOH.inArray(lbid,PRELOADED_LIGHTBOXES_LOADED)>-1){showPreloadedLightbox(lbid);}else{setTimeout(function(){tryShowPreloadedLightbox(lbid);},100);}}
function showPreloadedLightbox(lbid){try{logger('showPreloadedLightbox:'+lbid);if(EFFECTS[lbid].widget_type==="fancybox"){initFancybox(lbid,true);}else if(EFFECTS[lbid].widget_type==="sidebar"){showPreloadedSidebar(lbid);}else if(EFFECTS[lbid].widget_type==="banner"){showPreloadedBanner(lbid);}else if(EFFECTS[lbid].widget_type==="inline"){showInline(lbid);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"showPreloadedLightbox");}}
function showPreloadedSidebar(lid){try{SIDEBAR_CLOSE_MAP[lid]=0;logger('showPreloadedSidebar:'+lid);var dom_id=getLightboxDomId(lid);if(dom_id!=''&&JQUERY_DIGIOH('#'+dom_id).length){showSidebar(lid);}else{initSidebar(lid);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"showPreloadedSidebar");}}
function showPreloadedBanner(lid){try{BANNER_CLOSE_MAP[lid]=0;var dom_id=getLightboxDomId(lid);if(dom_id!=''&&JQUERY_DIGIOH('#'+dom_id).length){showBanner(lid);}else{initBanner(lid);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"showPreloadedBanner");}}
function showLightbox(lbid){try{if(EFFECTS[lbid].widget_type==="fancybox"){initFancybox(lbid,false);}else if(EFFECTS[lbid].widget_type==="sidebar"){initSidebar(lbid);}else if(EFFECTS[lbid].widget_type==="banner"){initBanner(lbid);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"showLightbox");}}
function initSidebar(lid){try{var dom_id=setLightboxDomId(lid);if(JQUERY_DIGIOH('#'+dom_id).length){logger('initSidebar_1');showSidebar(lid);}else{logger('initSidebar_2');body.append("<div id='"+dom_id+"' style='display:none;"+getSidebarPosition(EFFECTS[lid].sidebar,lid)+"'><div title='Close' class='sidebar-iframe-close' style='"+getCloseButtonStyle(EFFECTS[lid].sidebar.close_button,EFFECTS[lid].widget_type,lid)+"' aria-label='Close Modal'></div></div>");loadLightningIframe(lid,dom_id);if(EFFECTS[lid].hasOwnProperty('iframe')&&EFFECTS[lid]['iframe']['use_custom']){showSidebar(lid);}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initSidebar");}}
function initBanner(lid){try{var dom_id=setLightboxDomId(lid);if(JQUERY_DIGIOH('#'+dom_id).length){showBanner(lid);}else{body.append("<div id='"+dom_id+"' style='display:none;"+getBannerPosition(EFFECTS[lid].sidebar,lid)+"'><div title='Close' class='sidebar-iframe-close' style='"+getCloseButtonStyle(EFFECTS[lid].banner.close_button,EFFECTS[lid].widget_type,lid)+"' aria-label='Close Banner'></div></div>");loadLightningIframe(lid,dom_id);if(EFFECTS[lid].hasOwnProperty('iframe')&&EFFECTS[lid]['iframe']['use_custom']){showBanner(lid);}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initBanner");}}
function showBanner(lid){try{if(isActiveBox(lid)){logger('DIGIOH: isActiveBox() called from showBanner() - prevented display - '+lid);return false;}
addActiveBox(lid);var bsid=DIGIOH_API.getBoxIDFromBoxOrVariation(lid).toString();logger('showBanner('+lid+') before_lightbox_display: bsid='+bsid);if(DIGIOH_API.hasOwnProperty('BOXCOMM')&&DIGIOH_API.BOXCOMM.hasOwnProperty(bsid)&&DIGIOH_API.BOXCOMM[bsid].hasAfterDomReadyJsFinished){var res=DIGIOH_API.BOXCOMM[bsid].runCustomJsBeforeDisplay();logger('showBanner('+lid+') before_lightbox_display: '+res);if(res===false){removeActiveBox(lid);return false;}}else{logger('showBanner('+lid+') before_lightbox_display: retry');setTimeout(function(){removeActiveBox(lid);showBanner(lid);},100);return false;}
BANNER_CLOSE_MAP[lid]=0;var dom_id=getLightboxDomId(lid);JQUERY_DIGIOH('#'+dom_id+' .banner-iframe-close').click(function(){closeBanner(lid);});if(EFFECTS[lid].banner.close_button.display){JQUERY_DIGIOH('#'+dom_id+' .banner-iframe-close').css({'display':'block'});}
if(!EFFECTS[lid].banner.hasOwnProperty('placement')||EFFECTS[lid].banner.placement!=='bottom'){if(EFFECTS[lid].banner.page_overlap==='move'){var banner_height=getActualBoxWidthAndHeight(lid).height;JQUERY_DIGIOH('body').prepend("<div id='banner-spacer-"+lid+"' style='width:100%; height:"+banner_height+"px;'></div>");}}
var ele=JQUERY_DIGIOH('#'+dom_id);ele.attr('style',getBannerPosition(EFFECTS[lid].banner,lid));ele.show();registerLightboxShow(lid);registerMobileSidebarToLightboxConversion(lid,dom_id);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"showBanner");}}
function showSidebar(lid){try{if(isActiveBox(lid)){logger('DIGIOH: isActiveBox() called from showSidebar() - prevented display - '+lid);return false;}
addActiveBox(lid);var bsid=DIGIOH_API.getBoxIDFromBoxOrVariation(lid).toString();logger('showSidebar('+lid+') before_lightbox_display: bsid='+bsid);if(DIGIOH_API.hasOwnProperty('BOXCOMM')&&DIGIOH_API.BOXCOMM.hasOwnProperty(bsid)&&DIGIOH_API.BOXCOMM[bsid].hasAfterDomReadyJsFinished){var res=DIGIOH_API.BOXCOMM[bsid].runCustomJsBeforeDisplay();logger('showSidebar('+lid+') before_lightbox_display: '+res);if(res===false){removeActiveBox(lid);return false;}}else{logger('showSidebar('+lid+') before_lightbox_display: retry');setTimeout(function(){removeActiveBox(lid);showSidebar(lid);},100);return false;}
SIDEBAR_CLOSE_MAP[lid]=0;var dom_id=getLightboxDomId(lid);JQUERY_DIGIOH('#'+dom_id+' .sidebar-iframe-close').click(function(){if(DIGIOH_API.LIGHTBOX.isMobile()){logger('closeSidebar('+lid+') on native close button click (Mobile)');setTimeout(function(){closeSidebar(lid);},250);}
else{logger('closeSidebar('+lid+') on native close button click (Desktop)');setTimeout(function(){closeSidebar(lid);},50);}});if(effectsHasTeaserDisplaySidebar(lid)){closeTeaser(EFFECTS[lid].sidebar.teaser,lid,false);}
if(EFFECTS[lid].sidebar.close_button.display){JQUERY_DIGIOH('#'+dom_id+' .sidebar-iframe-close').css({'display':'block'});}
var bgScrollAccount=DIGIOH_API.getAccountMetadata('bgscroll_enable');var bgScroll=DIGIOH_API.getWidgetMetadata(lid,'bgscroll_enable');if(bgScroll!=='true'&&bgScrollAccount!=='true'&&EFFECTS[lid].sidebar.position==='center-center'){var st=jqWin.scrollTop();if(!JQUERY_DIGIOH('#dghstyles').length){var str='html.box_active_disable_scrolling, body.box_active_disable_scrolling { touch-action: none !important; overscroll-behavior: none !important; -webkit-overflow-scrolling: auto !important; overflow: hidden !important; }';JQUERY_DIGIOH('head').append('<style id="dghstyles" type="text/css">'+str+'</style>');}
if(!JQUERY_DIGIOH('html').hasClass('box_active_disable_scrolling')){JQUERY_DIGIOH('html').addClass('box_active_disable_scrolling');}
if(!JQUERY_DIGIOH('body').hasClass('box_active_disable_scrolling')){JQUERY_DIGIOH('body').addClass('box_active_disable_scrolling');}
if(isMobile()){jqWin.scrollTop(st);}
logger('bgscroll_disable');}
var oa=getOpenAnimation(EFFECTS[lid].sidebar,lid);if(EFFECTS[lid].sidebar.hasOwnProperty('overlay')&&EFFECTS[lid].sidebar.overlay&&(EFFECTS[lid].sidebar.overlay.background.use_image||EFFECTS[lid].sidebar.overlay.background.color!=='rgba(255, 255, 255, 0)')){JQUERY_DIGIOH('body').append("<div id='sidebar-overlay-"+dom_id+"' class='fb_lightbox-overlay fb_lightbox-overlay-fixed'></div>");var bg=getBackgroundStyle(EFFECTS[lid].sidebar.overlay.background);bg['display']='block';JQUERY_DIGIOH("#sidebar-overlay-"+dom_id).css(bg);}
if(!oa){oa={};var ele=JQUERY_DIGIOH('#'+dom_id);ele.attr('style',getSidebarPosition(EFFECTS[lid].sidebar,lid));ele.show();registerLightboxShow(lid);registerCloseSidebarClick(lid);registerCloseSidebarScroll(lid);registerCloseSidebarTime(lid);setBoxToScrollMode(lid,'main','display');}else{logger('DIGIOH: getOpenAnimation...');logger(oa);JQUERY_DIGIOH('#'+dom_id).show().animate(oa,{duration:EFFECTS[lid].sidebar.speed.open,easing:EFFECTS[lid].sidebar.easing.open,complete:function(){registerLightboxShow(lid);registerCloseSidebarClick(lid);registerCloseSidebarScroll(lid);registerCloseSidebarTime(lid);var sbp=getSidebarPosition(EFFECTS[lid].sidebar,lid);var sbpaa=getSidebarPositionAfterAnimation(EFFECTS[lid].sidebar,lid);if(sbp!==sbpaa){JQUERY_DIGIOH('#'+dom_id).attr('style',sbpaa);logger('DIGIOH: getSidebarPositionAfterAnimation() ==> override (sbpaa) (sbp)');logger(sbpaa);logger(sbp);}
registerMobileSidebarToLightboxConversion(lid,dom_id);setBoxToScrollMode(lid,'main','display');}});}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"showSidebar");}}
function registerMobileSidebarToLightboxConversion(lid,dom_id){try{if(!MOBILE_SCROLL_TOP_MAP.hasOwnProperty(lid)&&isMobile()){MOBILE_SCROLL_TOP_MAP[lid]=Math.round(jqWin.scrollTop());var ele=JQUERY_DIGIOH('#'+dom_id);var origStyle='';JQUERY_DIGIOH('#lightbox-iframe-'+lid).contents().find('input').each(function(){JQUERY_DIGIOH(this).focus(function(){PREVENT_SIDEBAR_CLOSE_GUIDS[lid]=true;if(EFFECTS[lid].widget_type==='sidebar'&&EFFECTS[lid].sidebar.css_positioning==='fixed'){logger('registerMobileSidebarToLightboxConversion: sidebar');origStyle=ele.attr('style');FOCUSED_SIDEBAR_BANNER_GUIDS[lid]=true;ele.attr('style',getSidebarPositionMobileFocused(EFFECTS[lid].sidebar,lid));for(var i=1;i<=5;i++){window.setTimeout(function(){ele.attr('style',getSidebarPositionMobileFocused(EFFECTS[lid].sidebar,lid));},(100*i*2));}}
if(EFFECTS[lid].widget_type==='banner'){logger('registerMobileSidebarToLightboxConversion: banner');origStyle=ele.attr('style');FOCUSED_SIDEBAR_BANNER_GUIDS[lid]=true;ele.attr('style',getBannerPositionMobileFocused(EFFECTS[lid].banner,lid));for(var i=1;i<=5;i++){window.setTimeout(function(){ele.attr('style',getBannerPositionMobileFocused(EFFECTS[lid].banner,lid));},(100*i*2));}}}).blur(function(){});});}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"registerMobileSidebarToLightboxConversion");}}
function getMobileSidebarToLightboxConversionPositionCss(lid,position_type){try{var css_top='';var css_left='';var css_margin_left='';var jqW=jqWin.width();var jqH=jqWin.height();var winW=window.innerWidth||jqW;var winH=window.innerHeight||jqH;var scrollTop=jqWin.scrollTop();var scrollLeft=jqWin.scrollLeft();var hasScrollbar=true;var isPortrait=true;if(winH>winW){isPortrait=true;if(winH-jqH<=10){winH=Math.round(winH*52/94);hasScrollbar=true;}else{winH=Math.round(winH*55/97);hasScrollbar=false;}}else{isPortrait=false;if(jqH-winH<=10){winH=Math.round(winH*24/58);hasScrollbar=false;}else{winH=Math.round(winH*18/51);hasScrollbar=true;}}
if(typeof position_type!=='string'||position_type!=='absolute'){position_type='fixed';}else{position_type='absolute';}
css_top=(Math.round(scrollTop)+20+'px');if((getBoxWidth(lid)+20)>=winW){if(scrollLeft>0){css_left=Math.round(scrollLeft)+10+'px';}else{css_left='10px';}}else{if(scrollLeft>0){css_left=Math.round(scrollLeft)+Math.round(winW/2)-Math.round(getBoxWidth(lid)/2)+'px';}else{css_left=Math.round(winW/2)-Math.round(getBoxWidth(lid)/2)+'px';}}
position_type='absolute';css_margin_left='0px';var css_obj={'top':css_top,'left':css_left,'width':(getBoxWidth(lid)+'px'),'height':(getBoxHeight(lid)+'px')};var style_attr="position: absolute; z-index: 9948030; top: "+css_top+"; left: "+css_left+"; width: "+getBoxWidth(lid)+"px; height: "+getBoxHeight(lid)+"px;";return style_attr;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getMobileSidebarToLightboxConversionPositionCss");}}
function setIframeSrc(lid,is_preload){try{if(typeof is_preload!=="undefined"&&is_preload)is_preload=true;else is_preload=false;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){isVariation=true;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){lid=LIGHTBOX_TO_VARIATION_MAP[lid];isVariation=true;}
if(EFFECTS[lid].hasOwnProperty('iframe')&&EFFECTS[lid]['iframe']['use_custom']){if(EFFECTS[lid]['iframe']['is_self_hosted']){if(PROTOCOL=='https://'&&EFFECTS[lid]['iframe']['self_hosted_url'].indexOf('http://')==0){CURRENT_IFRAME_SRC="https://"+EFFECTS[lid]['iframe']['self_hosted_url'].substring(7);}else{CURRENT_IFRAME_SRC=EFFECTS[lid]['iframe']['self_hosted_url'];}}else{if(isVariation){if(IS_QA){CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/variation/'+lid+'/custom_iframe_qa.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}else if(IS_PREVIEW){CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/variation/'+lid+'/custom_iframe_preview.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}else{CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/variation/'+lid+'/custom_iframe.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}}else{if(IS_QA){CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/lightbox/'+lid+'/custom_iframe_qa.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}else if(IS_PREVIEW){CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/lightbox/'+lid+'/custom_iframe_preview.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}else{CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/lightbox/'+lid+'/custom_iframe.html?v='+EFFECTS[lid]['iframe']['html_last_uploaded'];}}}}else{if(IS_DEV)CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/static/lightbox_dev.html?';else CURRENT_IFRAME_SRC=DIGIOH_API.CONFIG.BOX_BASE_URL+'/static/lightbox.html?';CURRENT_IFRAME_SRC+='wt='+EFFECTS[lid]['widget_type'];CURRENT_IFRAME_SRC+='&se='+(SHOW_ERRORS?'1':'0');CURRENT_IFRAME_SRC+='&prev='+(IS_PREVIEW?'1':'0');CURRENT_IFRAME_SRC+='&vid='+VENDOR_GUID;CURRENT_IFRAME_SRC+='&lid='+lid;CURRENT_IFRAME_SRC+='&is_var='+(isVariation?'1':'0');CURRENT_IFRAME_SRC+='&purl='+window.location.host;if(DIGIOH_CACHE_VERSION){CURRENT_IFRAME_SRC+='&cb='+DIGIOH_CACHE_VERSION;}else{CURRENT_IFRAME_SRC+='&cb='+(new Date().getTime());}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setIframeSrc");}}
function getCustomJsMetadata(lid){var S={};try{if(typeof DIGIOH_CACHE_VERSION==='undefined'){DIGIOH_CACHE_VERSION=(new Date().getTime());}
S.protocol=(PROTOCOL||"https://");S.protocol_user_override=(PROTOCOL_USER_OVERRIDE||"https://");S.cache_version=DIGIOH_CACHE_VERSION;S.parent_url=PROTOCOL+window.location.host;S.full_url=window.location.href.split("'").join("%27")||'';S.use_bugsnag=(typeof DIGIOH_USE_BUGSNAG!=='undefined'&&DIGIOH_USE_BUGSNAG);S.use_console=SHOW_ERRORS;S.is_preview=IS_PREVIEW;S.is_qa=IS_QA;S.user_id=VENDOR_GUID;S.user_guid=VENDOR_GUID;S.user_short_id=DIGIOH_VENDOR_SHORT_ID;S.vendor_id=VENDOR_GUID;S.vendor_guid=VENDOR_GUID;S.vendor_short_id=DIGIOH_VENDOR_SHORT_ID;S.client_id=CLIENT_GUID;S.client_guid=CLIENT_GUID;S.is_desktop=isDesktop();S.is_phone=isPhone();S.is_tablet=isTablet();S.is_mobile=isMobile();if(typeof lid==='string'&&lid.length>20){var isVariation=false;var actual_lid=lid;var var_id='';if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){var_id=lid;actual_lid=DIGIOH_VARIATION_TO_BOX_MAP[lid];isVariation=true;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lid];actual_lid=lid;isVariation=true;lid=var_id;}
var split_guid='';var split_short_id='';var split_name='';if(var_id.length>7&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){split_guid=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(actual_lid)){split_guid=AB_BOXES_TAKE_MAP[actual_lid];}
if(split_guid!=''){for(var i=0;i<DIGIOH_SPLIT_TESTS_ARR.length;i++){if(DIGIOH_SPLIT_TESTS_ARR[i].split_guid==split_guid){split_short_id=DIGIOH_SPLIT_TESTS_ARR[i].split_short_id;split_name=DIGIOH_SPLIT_TESTS_ARR[i].name;break;}}}
var widget_type='';var lightbox_name='';var variation_name='';var lightbox_short_id='';var variation_short_id='';if(var_id&&EFFECTS.hasOwnProperty(var_id)){widget_type=EFFECTS[var_id].widget_type;}else if(EFFECTS.hasOwnProperty(actual_lid)){widget_type=EFFECTS[actual_lid].widget_type;}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(actual_lid)){lightbox_name=DIGIOH_LIGHTBOX_NAMES[actual_lid];}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(var_id)){variation_name=DIGIOH_LIGHTBOX_NAMES[var_id];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(actual_lid)){lightbox_short_id=DIGIOH_LIGHTBOX_IDS[actual_lid];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)){variation_short_id=DIGIOH_LIGHTBOX_IDS[var_id];}
var varIdOrLid="";if(isVariation&&var_id){varIdOrLid=var_id;}else{varIdOrLid=lid;}
lightbox_or_variation_guid=(isVariation?var_id:actual_lid);S.widget_type=widget_type;S.lightbox_id=actual_lid;S.lightbox_guid=actual_lid;S.lightbox_short_id=lightbox_short_id;S.lightbox_name=lightbox_name;S.variation_id=var_id;S.variation_guid=var_id;S.variation_short_id=variation_short_id;S.variation_name=variation_name;S.is_variation=isVariation;S.ab_test_id=split_guid;S.ab_test_guid=split_guid;S.ab_test_short_id=split_short_id;S.ab_test_name=split_name;S.lightbox_or_variation_id=lightbox_or_variation_guid;S.lightbox_or_variation_guid=lightbox_or_variation_guid;S.lightbox_or_variation_short_id=(isVariation?variation_short_id:lightbox_short_id);S.lightbox_or_variation_name=(isVariation?variation_name:lightbox_name);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getCustomJsMetadata");}
return S;}
function loadLightningIframe(lid,append_to_element_id){try{var isVariation=false;var actual_lid=lid;var var_id='';if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){var_id=lid;actual_lid=DIGIOH_VARIATION_TO_BOX_MAP[lid];isVariation=true;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lid];actual_lid=lid;isVariation=true;lid=var_id;}
var split_guid='';var split_short_id='';var split_name='';if(var_id.length>7&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){split_guid=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(actual_lid)){split_guid=AB_BOXES_TAKE_MAP[actual_lid];}
if(split_guid!=''){for(var i=0;i<DIGIOH_SPLIT_TESTS_ARR.length;i++){if(DIGIOH_SPLIT_TESTS_ARR[i].split_guid==split_guid){split_short_id=DIGIOH_SPLIT_TESTS_ARR[i].split_short_id;split_name=DIGIOH_SPLIT_TESTS_ARR[i].name;break;}}}
var widget_type='';var lightbox_name='';var variation_name='';var lightbox_short_id='';var variation_short_id='';if(var_id&&EFFECTS.hasOwnProperty(var_id)){widget_type=EFFECTS[var_id].widget_type;}else if(EFFECTS.hasOwnProperty(actual_lid)){widget_type=EFFECTS[actual_lid].widget_type;}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(actual_lid)){lightbox_name=DIGIOH_LIGHTBOX_NAMES[actual_lid];}
if(DIGIOH_LIGHTBOX_NAMES.hasOwnProperty(var_id)){variation_name=DIGIOH_LIGHTBOX_NAMES[var_id];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(actual_lid)){lightbox_short_id=DIGIOH_LIGHTBOX_IDS[actual_lid];}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)){variation_short_id=DIGIOH_LIGHTBOX_IDS[var_id];}
var iframe_id='lightbox-iframe-'+lid;var iframe_position='absolute';if(isMobile()){if(widget_type==='inline'){iframe_position='absolute';}else{iframe_position='relative';}}
var settingsFile="";var varIdOrLid="";if(isVariation&&var_id){settingsFile+="/variation/"+var_id;varIdOrLid=var_id;}else{settingsFile+="/lightbox/"+lid;varIdOrLid=lid;}
if(IS_QA){settingsFile+="/settings_qa.js";}else if(IS_PREVIEW){settingsFile+="/settings_preview.js";}else{settingsFile+="/settings.js";}
if(typeof DIGIOH_CACHE_VERSION==='undefined'){DIGIOH_CACHE_VERSION=(new Date().getTime());}
if(!window.DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS.hasOwnProperty(varIdOrLid)){JQUERY_DIGIOH.ajax({url:DIGIOH_API.CONFIG.BOX_BASE_URL+
'/vendor/'+
VENDOR_GUID+
settingsFile+
'?cb='+
DIGIOH_CACHE_VERSION,crossDomain:true,dataType:"script",cache:true});}else{logger('settings.js already preloaded for '+varIdOrLid);}
var iframe_title=lightbox_name;if(iframe_title===''||!iframe_title)
iframe_title=variation_name;if(iframe_title===''||!iframe_title)
iframe_title='Lightbox Screen Overlay';iframe_title=iframe_title.split('"').join('').split("'").join("");var hostname='';if(window&&window.location&&window.location.hostname){hostname=window.location.hostname;}else if(window&&window.parent&&window.parent.location&&window.parent.location.hostname){hostname=window.parent.location.hostname;}
var hosted_iframe=DIGIOH_API.getAccountMetadata('hosted_iframe:'+hostname);if(!hosted_iframe){hosted_iframe=DIGIOH_API.getAccountMetadata('hosted_iframe');}
if(hosted_iframe){hosted_iframe=hosted_iframe.toLowerCase().replace('https://','').replace('http://','').trim();}
var use_hosted_iframe=hostname&&hosted_iframe&&hosted_iframe.length>7;if(use_hosted_iframe&&hosted_iframe.indexOf(hostname+'/')!==0){use_hosted_iframe=false;logger('hosted_iframe: host of configured url ('+hosted_iframe+') must match current hostname ('+hostname+')');}
if(!IS_PREVIEW&&use_hosted_iframe){var boxParams='';boxParams+="PROTOCOL="+(PROTOCOL||"https://")+"";boxParams+="|||PROTOCOL_USER_OVERRIDE="+(PROTOCOL_USER_OVERRIDE||"https://")+"";boxParams+="|||WIDGET_TYPE="+widget_type+"";boxParams+="|||CACHE_VERSION="+DIGIOH_CACHE_VERSION+"";boxParams+="|||PARENT_URL="+PROTOCOL+window.location.host+"";boxParams+="|||FULL_URL="+window.location.href.split("'").join("%27")+"";boxParams+="|||IS_PRODUCTION="+(IS_DEV?'false':'true')+"";boxParams+="|||IS_QA="+(DIGIOH_API.isQaMode()?'true':'false')+"";boxParams+="|||IS_PREVIEW="+(IS_PREVIEW?'true':'false')+"";boxParams+="|||SHOW_ERRORS="+(SHOW_ERRORS?'true':'false')+"";boxParams+="|||IS_IE_9_OR_LESS=false";boxParams+="|||VENDOR_GUID="+VENDOR_GUID+"";boxParams+="|||VENDOR_SHORT_ID="+DIGIOH_VENDOR_SHORT_ID+"";boxParams+="|||CLIENT_GUID="+CLIENT_GUID+"";boxParams+="|||LIGHTBOX_GUID="+actual_lid+"";boxParams+="|||LIGHTBOX_SHORT_ID="+lightbox_short_id+"";boxParams+="|||LIGHTBOX_NAME="+lightbox_name+"";boxParams+="|||VARIATION_GUID="+var_id+"";boxParams+="|||VARIATION_SHORT_ID="+variation_short_id+"";boxParams+="|||VARIATION_NAME="+variation_name+"";boxParams+="|||IS_VARIATION="+isVariation.toString().toLowerCase()+"";boxParams+="|||AB_TEST_GUID="+split_guid+"";boxParams+="|||AB_TEST_SHORT_ID="+split_short_id+"";boxParams+="|||AB_TEST_NAME="+split_name+"";boxParams+="|||IS_DESKTOP="+isDesktop().toString().toLowerCase()+"";boxParams+="|||IS_PHONE="+isPhone().toString().toLowerCase()+"";boxParams+="|||IS_TABLET="+isTablet().toString().toLowerCase()+"";boxParams+="|||IS_MOBILE="+isMobile().toString().toLowerCase()+"";if(typeof DIGIOH_USE_RESPONSIVE!=='undefined'&&DIGIOH_USE_RESPONSIVE)
boxParams+="|||DIGIOH_USE_RESPONSIVE=true";else
boxParams+="|||DIGIOH_USE_RESPONSIVE=false";if(typeof DIGIOH_USE_BUGSNAG!=='undefined'&&DIGIOH_USE_BUGSNAG)
boxParams+="|||DIGIOH_USE_BUGSNAG=true";else
boxParams+="|||DIGIOH_USE_BUGSNAG=false";if(typeof DIGIOH_USE_PRQ!=='undefined'&&DIGIOH_USE_PRQ)
boxParams+="|||DIGIOH_USE_PRQ=true";else
boxParams+="|||DIGIOH_USE_PRQ=false";DIGIOH_API.LIGHTBOX.USE_PRQ=(typeof DIGIOH_USE_PRQ!=='undefined'&&DIGIOH_USE_PRQ);var lzParams=LZString.compressToBase64(boxParams);var frameLink=hosted_iframe;let TABINDEX=DIGIOH_API.getWidgetMetadata(lid,"boxtabindex");if(TABINDEX=="remove")TABINDEX="";else TABINDEX=TABINDEX&&!isNaN(TABINDEX)?`tabindex='${TABINDEX}'`:"tabindex='1'";JQUERY_DIGIOH("<iframe "+TABINDEX+" aria-label='Modal Overlay Box Frame' src='//"+frameLink+"?lz="+lzParams+"' id='"+iframe_id+"' title='"+iframe_title+"' class='box-"+lightbox_short_id+"' width='100%' height='100%' frameborder='0' scrolling='no' style='display:block;position:"+iframe_position+";margin:0;padding:0;border:none;width:100%;height:100%;' sandbox='allow-scripts allow-same-origin allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-top-navigation'></iframe>").bind('load',function(event){}).appendTo('#'+append_to_element_id);}
else{let TABINDEX=DIGIOH_API.getWidgetMetadata(lid,"boxtabindex");if(TABINDEX=="remove")TABINDEX="";else TABINDEX=TABINDEX&&!isNaN(TABINDEX)?`tabindex='${TABINDEX}'`:"tabindex='1'";JQUERY_DIGIOH("<iframe "+TABINDEX+" aria-label='Modal Overlay Box Frame' id='"+iframe_id+"' title='"+iframe_title+"' class='box-"+lightbox_short_id+"' width='100%' height='100%' frameborder='0' scrolling='no' style='display:block;position:"+iframe_position+";margin:0;padding:0;border:none;width:100%;height:100%;' sandbox='allow-scripts allow-same-origin allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-top-navigation'></iframe>").bind('load',function(event){var cwd=null;if(this.contentDocument){cwd=this.contentDocument;}else if(this.contentWindow){cwd=this.contentWindow.document;}
if(cwd==null){return;}
var s;var cwh=cwd.getElementsByTagName('head')[0];var scriptInit='';scriptInit+="var PROTOCOL = '"+(PROTOCOL||"https://")+"';";scriptInit+="var PROTOCOL_USER_OVERRIDE = '"+(PROTOCOL_USER_OVERRIDE||"https://")+"';";scriptInit+="var WIDGET_TYPE = '"+widget_type+"';";scriptInit+="var CACHE_VERSION = '"+DIGIOH_CACHE_VERSION+"';";scriptInit+="var PARENT_URL = '"+PROTOCOL+window.location.host+"';";scriptInit+="var FULL_URL = '"+window.location.href.split("'").join("%27")+"';";scriptInit+="var IS_PRODUCTION = "+(IS_DEV?'false':'true')+";";scriptInit+="var IS_PREVIEW = "+(IS_PREVIEW?'true':'false')+";";scriptInit+="var IS_QA = "+(DIGIOH_API.isQaMode()?'true':'false')+";";scriptInit+="var SHOW_ERRORS = "+(SHOW_ERRORS?'true':'false')+";";scriptInit+="var IS_IE_9_OR_LESS = false;";scriptInit+="var VENDOR_GUID = '"+VENDOR_GUID+"';";scriptInit+="var VENDOR_SHORT_ID = '"+DIGIOH_VENDOR_SHORT_ID+"';";scriptInit+="var CLIENT_GUID = '"+CLIENT_GUID+"';";scriptInit+="var LIGHTBOX_GUID = '"+actual_lid+"';";scriptInit+="var LIGHTBOX_SHORT_ID = '"+lightbox_short_id+"';";scriptInit+="var LIGHTBOX_NAME = '"+lightbox_name+"';";scriptInit+="var VARIATION_GUID = '"+var_id+"';";scriptInit+="var VARIATION_SHORT_ID = '"+variation_short_id+"';";scriptInit+="var VARIATION_NAME = '"+variation_name+"';";scriptInit+="var IS_VARIATION = "+isVariation.toString().toLowerCase()+";";scriptInit+="var AB_TEST_GUID = '"+split_guid+"';";scriptInit+="var AB_TEST_SHORT_ID = '"+split_short_id+"';";scriptInit+="var AB_TEST_NAME = '"+split_name+"';";var is_desktop=isDesktop();var is_phone=isPhone();if(typeof is_desktop!=='boolean'||typeof is_phone!=='boolean'){logger('isDesktop() ==> '+is_desktop);logger('isPhone() ==> '+is_phone);logger('DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.primaryHardwareType ==> '+DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.primaryHardwareType);}
scriptInit+="var IS_DESKTOP = "+is_desktop.toString().toLowerCase()+";";scriptInit+="var IS_PHONE = "+is_phone.toString().toLowerCase()+";";scriptInit+="var IS_TABLET = "+isTablet().toString().toLowerCase()+";";scriptInit+="var IS_MOBILE = "+isMobile().toString().toLowerCase()+";";if(typeof DIGIOH_USE_RESPONSIVE!=='undefined'&&DIGIOH_USE_RESPONSIVE){scriptInit+="var DIGIOH_USE_RESPONSIVE = true;";}else{scriptInit+="var DIGIOH_USE_RESPONSIVE = false;";}
if(typeof DIGIOH_USE_BUGSNAG!=='undefined'&&DIGIOH_USE_BUGSNAG){scriptInit+="var DIGIOH_USE_BUGSNAG = true;";}else{scriptInit+="var DIGIOH_USE_BUGSNAG = false;";}
if(typeof DIGIOH_USE_PRQ!=='undefined'&&DIGIOH_USE_PRQ){scriptInit+="var DIGIOH_USE_PRQ = true;";}else{scriptInit+="var DIGIOH_USE_PRQ = false;";}
DIGIOH_API.LIGHTBOX.USE_PRQ=(typeof DIGIOH_USE_PRQ!=='undefined'&&DIGIOH_USE_PRQ);s=cwd.createElement('script');s.type='text/javascript';if(typeof s.textContent!=="undefined"){s.textContent=scriptInit;}else{s.innerText=scriptInit;}
cwh.appendChild(s);let builderFilename='lightbox_builder.js';if(DIGIOH_API.isPreview())builderFilename='lightbox_builder_preview.js';if(DIGIOH_API.isQaMode())builderFilename='lightbox_builder_qa.js';s=cwd.createElement('script');s.type='text/javascript';s.src=DIGIOH_API.CONFIG.BOX_BASE_URL+'/vendor/'+VENDOR_GUID+'/'+builderFilename+'?cb='+DIGIOH_CACHE_VERSION;cwh.appendChild(s);}).appendTo('#'+append_to_element_id);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"loadLightningIframe");}}
function tryInitFancyboxWhenChildReady(lid,attempts){if(attempts>30){logger('tryInitFancyboxWhenChildReady - cancelled after '+attempts+' attempts');return;}else if(!CHILD_READY.hasOwnProperty(lid)||CHILD_READY[lid]!==true){window.setTimeout(function(){tryInitFancyboxWhenChildReady(lid,attempts++);},100);}else{logger('tryInitFancyboxWhenChildReady - loaded after '+attempts+' attempts');initFancybox(lid,true);}}
function updateFancyboxPosition(dom_id,cnt,lbid){try{if(IS_LIGHTBOX_CLOSING.hasOwnProperty(lbid)&&IS_LIGHTBOX_CLOSING[lbid]){return;}
var wrap=JQUERY_DIGIOH('.fb_lightbox-wrap').filter(':first');var preload=JQUERY_DIGIOH('#'+dom_id);var position={};if(!isMobile()){position.position="fixed";}else{position.position="absolute";}
position.top=parseInt(wrap.css('top'));position.left=parseInt(wrap.css('left'));var m=getResponsiveScaleMultiplier(lbid);preload.css({'position':position.position,'left':position.left,'top':position.top,'transform':'scale('+m+')','-webkit-transform':'scale('+m+')','-moz-transform':'scale('+m+')','-ms-transform':'scale('+m+')','-o-transform':'scale('+m+')'});preload.show();if(cnt<2){cnt++;window.setTimeout(function(){updateFancyboxPosition(dom_id,cnt,lbid);},300);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"updateFancyboxPosition");}}
function initFancybox(lbid,is_preloaded){try{if(is_preloaded)is_preloaded=true;else is_preloaded=false;if(isActiveBox(lbid)){logger('DIGIOH: isActiveBox() called from initFancybox() - prevented display - '+lbid);return false;}
addActiveBox(lbid);var bsid=DIGIOH_API.getBoxIDFromBoxOrVariation(lbid).toString();logger('initFancybox('+lbid+') before_lightbox_display: bsid='+bsid);if(DIGIOH_API.hasOwnProperty('BOXCOMM')&&DIGIOH_API.BOXCOMM.hasOwnProperty(bsid)&&DIGIOH_API.BOXCOMM[bsid].hasAfterDomReadyJsFinished){var res=DIGIOH_API.BOXCOMM[bsid].runCustomJsBeforeDisplay();logger('initFancybox('+lbid+') before_lightbox_display: '+res);if(res===false){removeActiveBox(lbid);return false;}}else{logger('initFancybox('+lbid+') before_lightbox_display: retry');setTimeout(function(){removeActiveBox(lbid);initFancybox(lbid,is_preloaded);},100);return false;}
if(effectsHasTeaserDisplayFancybox(lbid)){closeTeaser(EFFECTS[lbid].fancybox.teaser,lbid,false);}
if(!is_preloaded){preloadIframe(lbid);removeActiveBox(lbid);tryInitFancyboxWhenChildReady(lbid,1);return;}
var dom_id=getLightboxDomId(lbid);var fb={};var dims_box=getActualBoxWidthAndHeight(lbid);if(is_preloaded){fb={content:"<div class='fb_lightbox-content'></div>",width:dims_box.width,height:dims_box.height,autoSize:false,scrolling:'no',arrows:false,padding:0,autoCenter:(!isMobile()),fixed:(!isMobile()),keys:{close:0}};fb.afterShow=function(){IS_LIGHTBOX_CLOSING[lbid]=false;registerLightboxShow(lbid);JQUERY_DIGIOH("body").css({'overflow-y':'hidden'});updateFancyboxPosition(dom_id,0,lbid);};fb.onUpdate=function(){if(!isMobile()||!FANCY_REPOSITION_LOCKED.hasOwnProperty(lbid)||!FANCY_REPOSITION_LOCKED[lbid]){updateFancyboxPosition(dom_id,0,lbid);}};fb.beforeClose=function(){IS_LIGHTBOX_CLOSING[lbid]=true;removeActiveBox(lbid);keepSendingEventNotificationToChildUntilReceived({sender:'lightbox',action:'before_lightbox_close'},lbid,100,0);};fb.afterClose=function(){IS_LIGHTBOX_CLOSING[lbid]=true;JQUERY_DIGIOH('#'+dom_id).hide();JQUERY_DIGIOH("body").css({'overflow-y':'visible'});JQUERY_DIGIOH('#'+dom_id).css({'opacity':1});registerLightboxClose(lbid);if(FANCY_REPOSITION_LOCKED.hasOwnProperty(lbid)){FANCY_REPOSITION_LOCKED[lbid]=false;}
setTimeout(function(){IS_LIGHTBOX_CLOSING[lbid]=false;},1500);};}else{}
fb.beforeLoad=function(){JQUERY_DIGIOH.fb_lightbox.hideLoading();};fb.helpers={overlay:{closeClick:EFFECTS[lbid].fancybox.overlay.close_click,css:getBackgroundStyle(EFFECTS[lbid].fancybox.overlay.background)}};fb.topRatio=(EFFECTS[lbid].fancybox.position.top/10);fb.leftRatio=(EFFECTS[lbid].fancybox.position.left/10);if(EFFECTS[lbid].fancybox.animation.open!="fade"&&EFFECTS[lbid].fancybox.animation.open!="elastic"){fb.openEffect="fade";fb.openMethod=EFFECTS[lbid].fancybox.animation.open+"In";}else{fb.openEffect=EFFECTS[lbid].fancybox.animation.open;fb.openMethod='zoomInCustom';}
if(EFFECTS[lbid].fancybox.animation.open!="fade"){fb.openEasing=EFFECTS[lbid].fancybox.easing.open;}
fb.openSpeed=EFFECTS[lbid].fancybox.speed.open;if(EFFECTS[lbid].fancybox.animation.close!="fade"&&EFFECTS[lbid].fancybox.animation.close!="elastic"){fb.closeEffect="fade";fb.closeMethod=EFFECTS[lbid].fancybox.animation.close+"Out";}else{fb.closeEffect=EFFECTS[lbid].fancybox.animation.close;fb.closeMethod='zoomOutCustom';}
if(EFFECTS[lbid].fancybox.animation.close!="fade"){fb.closeEasing=EFFECTS[lbid].fancybox.easing.close;}
fb.closeSpeed=EFFECTS[lbid].fancybox.speed.close;fb.tpl={closeBtn:'<div title="Close" id="widget_fb_close_hide" style="display:none;" aria-label="Close Modal"></div>'};fb.box_id=lbid;JQUERY_DIGIOH.fb_lightbox.open(fb);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initFancybox");}}
function fancyboxMobileSidebarFix(lbid){try{var dom_id=getLightboxDomId(lbid);var dims_box=getActualBoxWidthAndHeight(lbid);var fb={content:'<div></div>',width:dims_box.width,height:dims_box.height,autoSize:false,scrolling:'no',arrows:false,padding:0,autoCenter:false,fixed:false,keys:{close:0}};fb.afterShow=function(){var wrap=JQUERY_DIGIOH('.fb_lightbox-wrap').filter(':first');var preload=JQUERY_DIGIOH('#'+dom_id);var position=wrap.offset();preload.css(position);preload.show();};fb.onUpdate=function(){if(!FANCY_REPOSITION_LOCKED.hasOwnProperty(lbid)||!FANCY_REPOSITION_LOCKED[lbid]){var wrap=JQUERY_DIGIOH('.fb_lightbox-wrap').filter(':first');var preload=JQUERY_DIGIOH('#'+dom_id);var position=wrap.offset();preload.css(position);}};fb.beforeClose=function(){keepSendingEventNotificationToChildUntilReceived({sender:'lightbox',action:'before_lightbox_close'},lbid,100,0);};fb.afterClose=function(){JQUERY_DIGIOH('#'+dom_id).hide();JQUERY_DIGIOH("body").css({'overflow-y':'visible'});JQUERY_DIGIOH('#'+dom_id).css({'opacity':1});registerLightboxClose(lbid);};fb.beforeLoad=function(){JQUERY_DIGIOH.fb_lightbox.hideLoading();JQUERY_DIGIOH("body").css({'overflow-y':'hidden'});};fb.helpers={overlay:{closeClick:false,css:{"background-color":"rgba(0, 0, 0, 0)","opacity":"0"}}};fb.topRatio=(1/10);fb.leftRatio=(5/10);fb.openEffect="fade";fb.openMethod="slideDownIn";fb.closeEffect="fade";fb.closeMethod="slideUpOut";fb.openSpeed=50;fb.closeSpeed=100;fb.tpl={closeBtn:'<div title="Close" id="widget_fb_close_hide" style="display:none;"></div>'};JQUERY_DIGIOH('#'+dom_id+' .widget_fb_close').click(function(){IS_LIGHTBOX_CLOSING[lbid]=true;JQUERY_DIGIOH.fb_lightbox.close();});fb.box_id=lbid;JQUERY_DIGIOH.fb_lightbox.open(fb);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"fancyboxMobileSidebarFix");}}
function initFancyboxEffects(){try{(function(JQUERY_DIGIOH,F){F.transitions.slideDownIn=function(){logger("initFancyboxEffects: "+F.current.box_id);var dims_obj=getActualBoxWidthAndHeight(F.current.box_id);var endPos=F._getPosition(true);var animatePx=(parseInt(endPos.top,10)+dims_obj.height)+'px';endPos.top=(dims_obj.height*-1)+'px';if(JQUERY_DIGIOH.inArray(F.current.box_id,PRELOADED_LIGHTBOXES)===-1){F.wrap.css(endPos).show().animate({top:'+='+animatePx},{easing:F.current.openEasing,duration:F.current.openSpeed,complete:F._afterZoomIn});}else{JQUERY_DIGIOH('#'+getLightboxDomId(F.current.box_id)).css(endPos).show().animate({top:'+='+animatePx},{easing:F.current.openEasing,duration:F.current.openSpeed,complete:F._afterZoomIn});}};F.transitions.slideDownOut=function(){logger("initFancyboxEffects: "+F.current.box_id);var dims_obj=getActualBoxWidthAndHeight(F.current.box_id);var winHeight=JQUERY_DIGIOH(window).height();var widgetTop=JQUERY_DIGIOH('.fb_lightbox-wrap').filter(':first').offset().top;var animatePx=Math.ceil(winHeight-widgetTop)+'px';if(JQUERY_DIGIOH.inArray(F.current.box_id,PRELOADED_LIGHTBOXES)===-1){F.wrap.removeClass('fb_lightbox-opened').animate({top:'+='+animatePx},{easing:F.current.closeEasing,duration:F.current.closeSpeed,complete:F._afterZoomOut});}else{F.wrap.removeClass('fb_lightbox-opened');JQUERY_DIGIOH('#'+getLightboxDomId(F.current.box_id)).animate({top:'+='+animatePx},{easing:F.current.closeEasing,duration:F.current.closeSpeed,complete:F._afterZoomOut});}};F.transitions.slideUpIn=function(){logger("initFancyboxEffects: "+F.current.box_id);var dims_obj=getActualBoxWidthAndHeight(F.current.box_id);var endPos=F._getPosition(true);var winHeight=JQUERY_DIGIOH(window).height();var animatePx=Math.ceil(winHeight-parseInt(endPos.top,10))+'px';endPos.top=Math.ceil(winHeight)+'px';if(JQUERY_DIGIOH.inArray(F.current.box_id,PRELOADED_LIGHTBOXES)===-1){F.wrap.css(endPos).show().animate({top:'-='+animatePx},{easing:F.current.openEasing,duration:F.current.openSpeed,complete:F._afterZoomIn});}else{JQUERY_DIGIOH('#'+getLightboxDomId(F.current.box_id)).css(endPos).show().animate({top:'-='+animatePx},{easing:F.current.openEasing,duration:F.current.openSpeed,complete:F._afterZoomIn});}};F.transitions.slideUpOut=function(){logger("initFancyboxEffects: "+F.current.box_id);var dims_obj=getActualBoxWidthAndHeight(F.current.box_id);var endPos=F._getPosition(true);var animatePx=(parseInt(endPos.top,10)+dims_obj.height)+'px';if(JQUERY_DIGIOH.inArray(F.current.box_id,PRELOADED_LIGHTBOXES)===-1){F.wrap.removeClass('fb_lightbox-opened').animate({top:'-='+animatePx},{easing:F.current.closeEasing,duration:F.current.closeSpeed,complete:F._afterZoomOut});}else{F.wrap.removeClass('fb_lightbox-opened');JQUERY_DIGIOH('#'+getLightboxDomId(F.current.box_id)).animate({top:'-='+animatePx},{easing:F.current.closeEasing,duration:F.current.closeSpeed,complete:F._afterZoomOut});}};F.transitions.slideLeftIn=function(){logger("initFancyboxEffects: "+F.current.box_id);var dims_obj=getActualBoxWidthAndHeight(F.current.box_id);var winWidth=JQUERY_DIGIOH(window).width();var endPos=F._getPosition(true);var animatePx=Math.ceil(winWidth-parseInt(endPos.left,10))+'px';endPos.left=Math.ceil(winWidth)+'px';if(JQUERY_DIGIOH.inArray(F.current.box_id,PRELOADED_LIGHTBOXES)===-1){F.wrap.css(endPos).show().animate({left:'-='+animatePx},{easing:F.current.openEasing,duration:F.current.openSpeed,complete:F._afterZoomIn});}else{JQUERY_DIGIOH('#'+getLightboxDomId(F.current.box_id)).css(endPos).show().animate({left:'-='+animatePx},{easing:F.current.openEasing,duration:F.current.openSpeed,complete:F._afterZoomIn});}};F.transitions.slideLeftOut=function(){logger("initFancyboxEffects: "+F.current.box_id);var dims_obj=getActualBoxWidthAndHeight(F.current.box_id);var widgetLeft=JQUERY_DIGIOH('.fb_lightbox-wrap').filter(':first').offset().left;var animatePx=Math.ceil(widgetLeft+dims_obj.width)+'px';if(JQUERY_DIGIOH.inArray(F.current.box_id,PRELOADED_LIGHTBOXES)===-1){F.wrap.removeClass('fb_lightbox-opened').animate({left:'-='+animatePx},{easing:F.current.closeEasing,duration:F.current.closeSpeed,complete:F._afterZoomOut});}else{F.wrap.removeClass('fb_lightbox-opened');JQUERY_DIGIOH('#'+getLightboxDomId(F.current.box_id)).animate({left:'-='+animatePx},{easing:F.current.closeEasing,duration:F.current.closeSpeed,complete:F._afterZoomOut});}};F.transitions.slideRightIn=function(){logger("initFancyboxEffects: "+F.current.box_id);var dims_obj=getActualBoxWidthAndHeight(F.current.box_id);var endPos=F._getPosition(true);var animatePx=Math.ceil(parseInt(endPos.left,10)+dims_obj.width)+'px';endPos.left=(dims_obj.width*-1)+'px';if(JQUERY_DIGIOH.inArray(F.current.box_id,PRELOADED_LIGHTBOXES)===-1){F.wrap.css(endPos).show().animate({left:'+='+animatePx},{easing:F.current.openEasing,duration:F.current.openSpeed,complete:F._afterZoomIn});}else{JQUERY_DIGIOH('#'+getLightboxDomId(F.current.box_id)).css(endPos).show().animate({left:'+='+animatePx},{easing:F.current.openEasing,duration:F.current.openSpeed,complete:F._afterZoomIn});}};F.transitions.slideRightOut=function(){logger("initFancyboxEffects: "+F.current.box_id);var dims_obj=getActualBoxWidthAndHeight(F.current.box_id);var winWidth=JQUERY_DIGIOH(window).width();var widgetLeft=JQUERY_DIGIOH('.fb_lightbox-wrap').filter(':first').offset().left;var animatePx=Math.ceil(winWidth-widgetLeft)+'px';if(JQUERY_DIGIOH.inArray(F.current.box_id,PRELOADED_LIGHTBOXES)===-1){F.wrap.removeClass('fb_lightbox-opened').animate({left:'+='+animatePx},{easing:F.current.closeEasing,duration:F.current.closeSpeed,complete:F._afterZoomOut});}else{F.wrap.removeClass('fb_lightbox-opened');JQUERY_DIGIOH('#'+getLightboxDomId(F.current.box_id)).animate({left:'+='+animatePx},{easing:F.current.closeEasing,duration:F.current.closeSpeed,complete:F._afterZoomOut});}};F.transitions.zoomInCustom=function(){logger("initFancyboxEffects: "+F.current.box_id);var dims_obj=getActualBoxWidthAndHeight(F.current.box_id);var current=F.current,startPos=current.pos,effect=current.openEffect,elastic=effect==='elastic',endPos=JQUERY_DIGIOH.extend({opacity:1},startPos);delete endPos.position;if(elastic){startPos=this.getOrigPosition();if(current.openOpacity){startPos.opacity=0.1;}}else if(effect==='fade'){startPos.opacity=0.1;}
if(JQUERY_DIGIOH.inArray(F.current.box_id,PRELOADED_LIGHTBOXES)===-1){F.wrap.css(startPos).animate(endPos,{duration:effect==='none'?0:current.openSpeed,easing:current.openEasing,step:elastic?this.step:null,complete:F._afterZoomIn});}else{JQUERY_DIGIOH('#'+getLightboxDomId(F.current.box_id)).css(startPos).show().animate(endPos,{duration:effect==='none'?0:current.openSpeed,easing:current.openEasing,step:elastic?this.step:null,complete:F._afterZoomIn}).css('overflow','visible');}};F.transitions.zoomOutCustom=function(){logger("initFancyboxEffects: "+F.current.box_id);var dims_obj=getActualBoxWidthAndHeight(F.current.box_id);var current=F.current,effect=current.closeEffect,elastic=effect==='elastic',endPos={opacity:0.1};if(elastic){endPos=this.getOrigPosition();if(current.closeOpacity){endPos.opacity=0.1;}}
if(JQUERY_DIGIOH.inArray(F.current.box_id,PRELOADED_LIGHTBOXES)===-1){F.wrap.animate(endPos,{duration:effect==='none'?0:current.closeSpeed,easing:current.closeEasing,step:elastic?this.step:null,complete:F._afterZoomOut});}else{JQUERY_DIGIOH('#'+getLightboxDomId(F.current.box_id)).animate(endPos,{duration:effect==='none'?0:current.closeSpeed,easing:current.closeEasing,step:elastic?this.step:null,complete:F._afterZoomOut});}};}(JQUERY_DIGIOH,JQUERY_DIGIOH.fb_lightbox));}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initFancyboxEffects");}}
function createIdentityIframe(){try{var src=DIGIOH_API.CONFIG.BOX_BASE_URL+'/lclst/'+VENDOR_GUID+'/ls.html';src+='?purl='+encodeURIComponent(window.location.href);src+='&vid='+VENDOR_GUID;src+='&se='+(SHOW_ERRORS?'1':'0');src+='&prev='+(IS_PREVIEW?'1':'0');if(DIGIOH_CACHE_VERSION){src+='&cb='+DIGIOH_CACHE_VERSION;}else{src+='&cb='+(new Date().getTime());}
DIGIOH_IDENTITY_CHILD_IFRAME=JQUERY_DIGIOH('<iframe title="DigiohLocalStorageIframe" name="DigiohLocalStorageIframe" id="DigiohLocalStorageIframe" src="'+src+'" width="0" height="0" style="position:absolute;visibility:hidden;left:-100px;top:-100px;width:0;height:0;margin:0;padding:0;border-width:0px;border-style:none;" frameborder="0" scrolling="no"></iframe>').appendTo('body');}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"createIdentityIframe");}}
function initPostMessageReceiver(){try{if(window.addEventListener){window.addEventListener("message",runPostMessageReceiver,false);}
else{window.attachEvent("message",runPostMessageReceiver);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initPostMessageReceiver");}}
function runPostMessageReceiver(e){try{var postMessageDomain=PROTOCOL_USER_OVERRIDE+DIGIOH_API.CONFIG.CDN_DOMAIN;var origin=e.origin||e.originalEvent.origin;if(e.source&&e.source===window.frames['DigiohLocalStorageIframe']){var data=/^#localStorage#(\d+)(null)?#([\S\s]*)/.exec(e.data);if(data){if(DIGIOH_CROSS_DOMAIN.callbacks[data[1]]){DIGIOH_CROSS_DOMAIN.callbacks[data[1]](data[2]==='null'?null:data[3]);}
delete DIGIOH_CROSS_DOMAIN.callbacks[data[1]];}}
else if(e.data&&e.data==='#recaptcha#digioh#solved'){}
else if(origin!==postMessageDomain){return;}
else{processPostMessage(parsePostMessageResult(e.data));}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"runPostMessageReceiver");}}
function sendIdentityPostMessage(msgObj){try{var postMessageContentWindow=DIGIOH_IDENTITY_CHILD_IFRAME.get(0).contentWindow;var src=DIGIOH_API.CONFIG.BOX_BASE_URL+'/lclst/'+VENDOR_GUID+'/ls.html';src+='?parent_url='+encodeURIComponent(document.location.href);if(DIGIOH_CACHE_VERSION){src+='&cb='+DIGIOH_CACHE_VERSION;}else{src+='&cb='+(new Date().getTime());}
DIGIOH_CROSS_DOMAIN.getAll(function(value){if(typeof USE_LZ==='undefined'||USE_LZ==true){value=LZString.decompressFromBase64(value);}
console.log('got local storage item (mykey2) back in parent with value: '+value);});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"sendIdentityPostMessage");}}
function initPostMessageReceiverOld(){try{var postMessageDomain='https://'+DIGIOH_API.CONFIG.CDN_DOMAIN;JQUERY_DIGIOH.receiveMessage(function(e){console.log(e);processPostMessage(parsePostMessageResult(e.data));},postMessageDomain);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"initPostMessageReceiverOld");}}
function processPostMessage(e,lid){try{if(typeof lid!=='undefined'&&lid&&!CHILD_READY.hasOwnProperty(lid)){CHILD_READY[lid]=true;}
var hash=e;if(!hash.hasOwnProperty('sender')||(hash.hasOwnProperty('digioh_identity')&&hash.digioh_identity)){logger('processPostMessage: ');logger(hash);}
if(hash.hasOwnProperty('child_action')&&hash.hasOwnProperty('lightbox_id')){if(hash.child_action=='close_lightbox'){if(EFFECTS.hasOwnProperty(hash.lightbox_id)&&EFFECTS[hash.lightbox_id].widget_type==="sidebar"){if(hash.trigger=='form_submit'){EFFECTS[hash.lightbox_id].sidebar.teaser.display=false;}
closeSidebar(hash.lightbox_id);}else if(EFFECTS.hasOwnProperty(hash.lightbox_id)&&EFFECTS[hash.lightbox_id].widget_type==="banner"){closeBanner(hash.lightbox_id);}else if(EFFECTS.hasOwnProperty(hash.lightbox_id)&&EFFECTS[hash.lightbox_id].widget_type==="fancybox"){if(hash.trigger=='form_submit'){EFFECTS[hash.lightbox_id].fancybox.teaser.display=false;}
IS_LIGHTBOX_CLOSING[lid]=true;JQUERY_DIGIOH.fb_lightbox.close(true);}else if(EFFECTS.hasOwnProperty(hash.lightbox_id)&&EFFECTS[hash.lightbox_id].widget_type==="inline"){logger('closeInline: '+hash.lightbox_id);closeInline(hash.lightbox_id);}}else if(hash.child_action=='redirect_parent'&&hash.hasOwnProperty('url')&&hash.url.length>7){if(hash.hasOwnProperty('ui_trigger')){if(!IS_REDIRECTING_PARENT){IS_REDIRECTING_PARENT=true;keenLightboxRedirect(hash.lightbox_id);var var_id='';var orig_lid=hash.lightbox_id;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(hash.lightbox_id)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[hash.lightbox_id];var_id=hash.lightbox_id;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(hash.lightbox_id)){var_id=LIGHTBOX_TO_VARIATION_MAP[hash.lightbox_id];}
var ab_test_id='';if(var_id!=''&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){ab_test_id=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(orig_lid)){ab_test_id=AB_BOXES_TAKE_MAP[orig_lid];}
if(!IS_PREVIEW||IS_DEV){if(!isInlineLightbox(hash.lightbox_id)||doesInlineLightboxHaveCustomJsType(hash.lightbox_id,'all')){DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxRedirect(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_GLOBAL.runCustomJsOnLightboxRedirect - '+hash.lightbox_id);DIGIOH_CUSTOM_JS.runCustomJsOnLightboxRedirect(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_PARENT.runCustomJsOnLightboxRedirect - '+hash.lightbox_id);}}
DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("redirect",orig_lid);var vendorShortId=VENDOR_GUID||'empty';var boxShortId=orig_lid||'empty';var variationShortId=var_id||'empty';var splitShortId=ab_test_id||'empty';if(typeof DIGIOH_VENDOR_SHORT_ID!=='undefined'){vendorShortId=DIGIOH_VENDOR_SHORT_ID;}
if(orig_lid&&DIGIOH_LIGHTBOX_IDS.hasOwnProperty(orig_lid)&&DIGIOH_LIGHTBOX_IDS[orig_lid]){boxShortId=DIGIOH_LIGHTBOX_IDS[orig_lid];}
if(var_id&&DIGIOH_LIGHTBOX_IDS.hasOwnProperty(var_id)&&DIGIOH_LIGHTBOX_IDS[var_id]){variationShortId=DIGIOH_LIGHTBOX_IDS[var_id];}
if(typeof DIGIOH_SPLIT_TESTS_ARR!=='undefined'&&DIGIOH_SPLIT_TESTS_ARR.length){for(var i=0;i<DIGIOH_SPLIT_TESTS_ARR.length;i++){if(DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_short_id')&&DIGIOH_SPLIT_TESTS_ARR[i].hasOwnProperty('split_guid')&&DIGIOH_SPLIT_TESTS_ARR[i]['split_guid']==ab_test_id){splitShortId=DIGIOH_SPLIT_TESTS_ARR[i]['split_short_id'];break;}}}
var hostname='empty';if(window&&window.location&&window.location.hostname){hostname=window.location.hostname;}
var eplz=DIGIOH_API.LIGHTBOX.LZString.compressToBase64('e=r&c='+(new Date().getTime())+'&h='+encodeURIComponent(hostname)+'&u='+vendorShortId+'&b='+boxShortId+'&v='+variationShortId+'&s='+splitShortId+'#######'+hash.url);var epred=DIGIOH_API.CONFIG.JSAPI_BASE_URL+'/Event/RedirectProxy?eplz='+eplz+'&cb='+(new Date().getTime());var use_watch=getUrlParam('use_watch');if(use_watch&&(use_watch=='yes'||use_watch=='true'||use_watch=='1')){epred+="&use_watch=yes";}
if(!hash.hasOwnProperty('redirect_type')||!hash.redirect_type||hash.redirect_type==='current'){IS_REDIRECTING_PARENT=false;logger('IS_REDIRECTING_PARENT: '+IS_REDIRECTING_PARENT);logger('redirect_type=current ('+epred+')');window.location.href=epred;}else if(hash.redirect_type==='tab'){var randId=Math.floor(Math.random()*10000000);JQUERY_DIGIOH('body').append("<a id='new-tab-link-"+randId+"' style='display:none;' href='"+epred+"' target='_blank'></a>");document.getElementById("new-tab-link-"+randId).click();window.setTimeout(function(){JQUERY_DIGIOH("#new-tab-link-"+randId).remove();IS_REDIRECTING_PARENT=false;},1000);logger('redirect_type=tab');}else if(hash.redirect_type==='window'){window.open(epred,"NewWindow","menubar=yes,height="+(JQUERY_DIGIOH(window).height()-25)+",width="+(JQUERY_DIGIOH(window).width()-25)+",left=25,top=25");window.setTimeout(function(){IS_REDIRECTING_PARENT=false;},1000);logger('redirect_type=window');}}}}else if(hash.child_action=='lightbox_open'&&hash.hasOwnProperty('lightbox_open')&&hash.lightbox_open.length>1){if(!IS_REDIRECTING_PARENT){IS_REDIRECTING_PARENT=true;if(hash.hasOwnProperty('ui_trigger')&&hash.ui_trigger=='button'){keenLightboxRedirect(hash.lightbox_id);var var_id='';var orig_lid=hash.lightbox_id;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(hash.lightbox_id)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[hash.lightbox_id];var_id=hash.lightbox_id;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(hash.lightbox_id)){var_id=LIGHTBOX_TO_VARIATION_MAP[hash.lightbox_id];}
var ab_test_id='';if(var_id!=''&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){ab_test_id=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(orig_lid)){ab_test_id=AB_BOXES_TAKE_MAP[orig_lid];}
if(!IS_PREVIEW||IS_DEV){if(!isInlineLightbox(hash.lightbox_id)||doesInlineLightboxHaveCustomJsType(hash.lightbox_id,'all')){DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxRedirect(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_GLOBAL.runCustomJsOnLightboxRedirect - '+hash.lightbox_id);DIGIOH_CUSTOM_JS.runCustomJsOnLightboxRedirect(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_PARENT.runCustomJsOnLightboxRedirect - '+hash.lightbox_id);}}
DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("redirect",orig_lid);analyticsRedirect(orig_lid,var_id,ab_test_id);}
if(EFFECTS.hasOwnProperty(hash.lightbox_id)&&EFFECTS[hash.lightbox_id].widget_type==="sidebar"){EFFECTS[hash.lightbox_id].sidebar.teaser.display=false;closeSidebar(hash.lightbox_id);}else if(EFFECTS.hasOwnProperty(hash.lightbox_id)&&EFFECTS[hash.lightbox_id].widget_type==="banner"){closeBanner(hash.lightbox_id);}else if(EFFECTS.hasOwnProperty(hash.lightbox_id)&&EFFECTS[hash.lightbox_id].widget_type==="fancybox"){EFFECTS[hash.lightbox_id].fancybox.teaser.display=false;IS_LIGHTBOX_CLOSING[hash.lightbox_id]=true;JQUERY_DIGIOH.fb_lightbox.close(true);}
var foundAnotherLightbox=false;var lightbox_open_guid=DIGIOH_API.getBoxGUID(hash.lightbox_open);for(var i=0;i<DIGIOH_LIGHTBOX_CONDITIONS.length;i++){if(lightbox_open_guid==DIGIOH_LIGHTBOX_CONDITIONS[i].lightbox_guid){foundAnotherLightbox=true;tryOpenAnotherLightbox(lightbox_open_guid);break;}}
if(!foundAnotherLightbox){logger('Action lightbox_open invalid, could not find another active Lightbox with GUID: '+lightbox_open_guid);}}}else if(hash.child_action=='download_file'){keenLightboxDownload(hash.lightbox_id);var var_id='';var orig_lid=hash.lightbox_id;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(hash.lightbox_id)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[hash.lightbox_id];var_id=hash.lightbox_id;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(hash.lightbox_id)){var_id=LIGHTBOX_TO_VARIATION_MAP[hash.lightbox_id];}
var ab_test_id='';if(var_id!=''&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){ab_test_id=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(orig_lid)){ab_test_id=AB_BOXES_TAKE_MAP[orig_lid];}
if(!IS_PREVIEW||IS_DEV){if(!isInlineLightbox(hash.lightbox_id)||doesInlineLightboxHaveCustomJsType(hash.lightbox_id,'all')){runCustomJsLinkedApps('AfterDownload',orig_lid,var_id);logger('JS_PARENT_APPS.runCustomJsOnLightboxDownload - '+hash.lightbox_id);DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxDownload(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_GLOBAL.runCustomJsOnLightboxDownload - '+hash.lightbox_id);DIGIOH_CUSTOM_JS.runCustomJsOnLightboxDownload(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_PARENT.runCustomJsOnLightboxDownload - '+hash.lightbox_id);}}
DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("download",orig_lid);analyticsDownload(orig_lid,var_id,ab_test_id);}else if(hash.child_action=='change_pages'){var pref=hash.page_prefix.replace('_','');CURRENT_PAGE[hash.lightbox_id]=pref;var width_new=hash.width;var height_new=hash.height;var width_prev=hash.width_prev;var height_prev=hash.height_prev;var dom_id=getLightboxDomId(hash.lightbox_id);var dims_box=getActualBoxWidthAndHeight(hash.lightbox_id);CURRENT_PAGE_DIMS[hash.lightbox_id]={width:dims_box.width,height:dims_box.height};var offset_prev=JQUERY_DIGIOH('#'+dom_id).offset();logger('Changed Pages: '+pref+' ('+dims_box.width+'x'+dims_box.height+')');if(EFFECTS[hash.lightbox_id].widget_type==='inline'){var lbid=hash.lightbox_id;if(DIGIOH_USE_RESPONSIVE&&EFFECTS[lbid].hasOwnProperty(pref+'responsive')&&EFFECTS[lbid][pref+'responsive'].use){JQUERY_DIGIOH('#'+dom_id).css({'width':getResponsiveBoxWidthPercent(lbid)+'%','height':getResponsiveBoxHeightPercent(lbid)+'%','max-width':getResponsiveBoxWidthMax(lbid)+'px','min-width':getResponsiveBoxWidthMin(lbid)+'px','max-height':getResponsiveBoxHeightMax(lbid)+'px','min-height':getResponsiveBoxHeightMin(lbid)+'px'});}
else if(!DIGIOH_USE_RESPONSIVE&&EFFECTS[lbid].hasOwnProperty(pref+'responsive')&&EFFECTS[lbid][pref+'responsive'].use){var bw=getBoxWidth(lbid);var bh=getBoxHeight(lbid);JQUERY_DIGIOH('#'+dom_id).css({'width':'100%','height':bh+'px','max-width':'10000px','min-width':bw+'px','max-height':bh+'px','min-height':bh+'px'});}
else{var bw=getBoxWidth(lbid);var bh=getBoxHeight(lbid);JQUERY_DIGIOH('#'+dom_id).css({'width':bw+'px','height':bh+'px','min-width':bw+'px','min-height':bh+'px','max-height':bh+'px'});}}
if(EFFECTS[hash.lightbox_id].widget_type==='banner'){JQUERY_DIGIOH('#'+dom_id).attr('style',getBannerPosition(EFFECTS[hash.lightbox_id].banner,hash.lightbox_id));if(!EFFECTS[hash.lightbox_id].banner.hasOwnProperty('placement')||EFFECTS[hash.lightbox_id].banner.placement!=='bottom'){if(JQUERY_DIGIOH('#banner-spacer-'+hash.lightbox_id).length){JQUERY_DIGIOH('#banner-spacer-'+hash.lightbox_id).height(dims_box.height);}}
responsiveResizeCheck('change_pages');}
if(EFFECTS[hash.lightbox_id].widget_type==='sidebar'){if(Math.abs(width_new-width_prev)>20||Math.abs(height_new-height_prev)>20){JQUERY_DIGIOH('#'+dom_id).attr('style',getSidebarPositionAfterAnimation(EFFECTS[hash.lightbox_id].sidebar,hash.lightbox_id));}
setBoxToScrollMode(hash.lightbox_id,pref,'change_pages');responsiveResizeCheck('change_pages');}
if(EFFECTS[hash.lightbox_id].widget_type==='fancybox'){FANCY_REPOSITION_LOCKED[hash.lightbox_id]=true;if(isMobile()){if(Math.abs(width_new-width_prev)>20||Math.abs(height_new-height_prev)>20){var left_new=Math.round(((jqWin.width()-dims_box.width)/2)+jqWin.scrollLeft());var top_new=Math.round(((jqWin.height()-dims_box.height)/2)+jqWin.scrollTop());var m=getResponsiveScaleMultiplier(hash.lightbox_id);var wrap=JQUERY_DIGIOH('.fb_lightbox-wrap').filter(':first');wrap.css({'left':left_new,'top':top_new,'width':dims_box.width+'px','height':dims_box.height+'px','transform':'scale('+m+')','-webkit-transform':'scale('+m+')','-moz-transform':'scale('+m+')','-ms-transform':'scale('+m+')','-o-transform':'scale('+m+')'});JQUERY_DIGIOH('#'+dom_id).css({'left':left_new,'top':top_new,'width':dims_box.width+'px','height':dims_box.height+'px','transform':'scale('+m+')','-webkit-transform':'scale('+m+')','-moz-transform':'scale('+m+')','-ms-transform':'scale('+m+')','-o-transform':'scale('+m+')'});}}else{updateFancyboxPosition(dom_id,0,hash.lightbox_id);}
responsiveResizeCheck('change_pages');}
if(EFFECTS[hash.lightbox_id].hasOwnProperty(pref+'responsive')&&EFFECTS[hash.lightbox_id][pref+'responsive'].use){if(EFFECTS[hash.lightbox_id].widget_type!=='inline'){CURRENT_PAGE_DIMS_RESPONSIVE[hash.lightbox_id]={width:dims_box.width,height:dims_box.height};keepSendingResizeToChildUntilReceived({sender:'lightbox',action:'dimensions_changed',widget_type:EFFECTS[hash.lightbox_id].widget_type,width:dims_box.width,height:dims_box.height},hash.lightbox_id,100,0);}else{inlineResponsiveResizing(hash.lightbox_id,dom_id,(new Date().getTime()),0,0);}}
var var_id='';var orig_lid=hash.lightbox_id;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(hash.lightbox_id)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[hash.lightbox_id];var_id=hash.lightbox_id;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(hash.lightbox_id)){var_id=LIGHTBOX_TO_VARIATION_MAP[hash.lightbox_id];}
if(!IS_PREVIEW||IS_DEV){var metadata=getCustomJsMetadata(orig_lid);metadata.new_width=hash.width;metadata.old_width=hash.width_prev;metadata.new_height=hash.height;metadata.old_height=hash.height_prev;metadata.new_page=hash.new_page;metadata.old_page=hash.previous_page;metadata.element=hash.el_name;metadata.trigger=hash.ui_source;if(!isInlineLightbox(hash.lightbox_id)||doesInlineLightboxHaveCustomJsType(hash.lightbox_id,'all')){runCustomJsLinkedApps('AfterChangePages',orig_lid,var_id);logger('JS_PARENT_APPS.runCustomJsOnChangePages - '+hash.lightbox_id);DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnChangePages(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,metadata);logger('JS_GLOBAL.runCustomJsOnChangePages - '+hash.lightbox_id);DIGIOH_CUSTOM_JS.runCustomJsOnChangePages(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,metadata);logger('JS_PARENT.runCustomJsOnChangePages - '+hash.lightbox_id);}}}else if(hash.child_action=='register_analytics_submit'&&hash.hasOwnProperty('submission')&&hash.hasOwnProperty('post_to_keen')){if(!hash.hasOwnProperty('form_display')){logger("register_analytics_submit: hash does not have property - form_display");}
if(!hash.hasOwnProperty('form_display')||hash.form_display==true){var sid=generateGuidWithTimestamp();DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data=JSON.parse(LZString.decompressFromBase64(hash.submission));DIGIOH_LIGHTBOX_ANALYTICS.form_submit_query=LZString.decompressFromBase64(hash.post_to_keen);var extra_data={};if(hash.hasOwnProperty('extra')&&hash.extra){extra_data=hash.extra;}
if(!hash.hasOwnProperty('skip_submit')||!hash.skip_submit){keenLightboxSubmit(DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data,hash.lightbox_id,sid,extra_data);postToKeen(DIGIOH_LIGHTBOX_ANALYTICS.form_submit_query,hash.lightbox_id,sid,extra_data);}
registerLightboxSubmit(hash.lightbox_id);try{var curr=DIGIOH_LOCAL_STORAGE.getManual('fsdbx');if(typeof curr!=='object'||!curr){curr={};}
var box_short_id=hash.lightbox_id;if(DIGIOH_LIGHTBOX_IDS&&DIGIOH_LIGHTBOX_IDS.hasOwnProperty(hash.lightbox_id)){box_short_id=DIGIOH_LIGHTBOX_IDS[hash.lightbox_id]+'';}
for(var prop in DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data){if(DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data.hasOwnProperty(prop)&&DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data[prop]!==''){curr[prop]=DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data[prop];if(!curr.hasOwnProperty(box_short_id)||typeof curr[box_short_id]!=='object'||curr[box_short_id]===null){curr[box_short_id]={};}
curr[box_short_id][prop]=DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data[prop];}}
DIGIOH_LOCAL_STORAGE.setManual('fsdbx',curr);logger('fsdbx ==> ');logger(curr);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logger('fsdbx error - '+e.message);}}else{logger("register_analytics_submit: prevented submit event from firing because form is turned off.");DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data=JSON.parse(LZString.decompressFromBase64(hash.submission));keenLightboxDebug(hash.lightbox_id,DIGIOH_LIGHTBOX_ANALYTICS.form_submit_data);}}else if(hash.child_action=='coupon_used'&&hash.hasOwnProperty('coupon_meta_data')){keenLightboxCoupon(hash.lightbox_id,hash.coupon_meta_data);logger("coupon_used: keenLightboxCoupon");logger(hash);}}
if(hash.hasOwnProperty('parent_action')&&hash.hasOwnProperty('lightbox_id')){if(hash.parent_action=='terminate_lightbox'){TERMINATED_LIGHTBOXES[hash.lightbox_id]=true;var domId=getLightboxDomId(hash.lightbox_id);if(domId&&JQUERY_DIGIOH("#"+domId).length){JQUERY_DIGIOH("#"+domId).remove();}
if(DIGIOH_API.contains(PRELOADED_LIGHTBOXES_LOADED,hash.lightbox_id)){PRELOADED_LIGHTBOXES_LOADED=DIGIOH_API.remove(PRELOADED_LIGHTBOXES_LOADED,hash.lightbox_id);}
if(DIGIOH_API.contains(PRELOADED_LIGHTBOXES,hash.lightbox_id)){PRELOADED_LIGHTBOXES=DIGIOH_API.remove(PRELOADED_LIGHTBOXES,hash.lightbox_id);}
logger("Custom JS Boxes - Before DOM Ready - Terminated Execution of Lightbox: "+hash.lightbox_id);}}
if(hash.hasOwnProperty('event')){if(hash.event=='mouseenter'&&hash.hasOwnProperty('lightbox_id')){PREVENT_SIDEBAR_CLOSE_GUIDS[hash.lightbox_id]=true;}else if(hash.event=='mouseleave'&&hash.hasOwnProperty('lightbox_id')){if(PREVENT_SIDEBAR_CLOSE_GUIDS.hasOwnProperty(hash.lightbox_id)){delete PREVENT_SIDEBAR_CLOSE_GUIDS[hash.lightbox_id];}}else if(hash.event=='input_focus'&&hash.hasOwnProperty('lightbox_id')){if(isMobile()){}}}
if(hash.hasOwnProperty('zipcode')){if(hash.hasOwnProperty('sender')&&hash.sender=='maxmind2'){if(hash.hasOwnProperty('callback_func')&&hash.callback_func.length>0){if(window.DIGIOH_API.LIGHTBOX.hasOwnProperty(hash.callback_func)){window.DIGIOH_API.LIGHTBOX[hash.callback_func](hash.ip);}}}else{GEO_IP=hash;if(GEO_IP.hasOwnProperty("country_name"))GEO_IP.country_name=GEO_IP.country_name.replace('+',' ');if(GEO_IP.hasOwnProperty("region_name"))GEO_IP.region_name=GEO_IP.region_name.replace('+',' ');if(GEO_IP.hasOwnProperty("city"))GEO_IP.city=GEO_IP.city.replace('+',' ');if(GEO_IP.hasOwnProperty("latitude")&&GEO_IP.latitude)GEO_IP.latitude=parseFloat(GEO_IP.latitude);if(GEO_IP.hasOwnProperty("longitude")&&GEO_IP.longitude)GEO_IP.longitude=parseFloat(GEO_IP.longitude);if(GEO_IP.hasOwnProperty("time_zone")&&GEO_IP.time_zone)GEO_IP.time_zone=decodeURIComponent(GEO_IP.time_zone);GEO_IP.geo_source='maxmind';DIGIOH_LIGHTBOX_ANALYTICS.setGeoData(GEO_IP);initDependentScripts();}}
if(hash.hasOwnProperty('loading_status')&&hash.loading_status=="settings_applied"){if(hash.hasOwnProperty('widget_type')&&hash.widget_type==="sidebar"){if(JQUERY_DIGIOH.inArray(hash.lightbox_id,PRELOADED_LIGHTBOXES)===-1){showSidebar(hash.lightbox_id);logger("settings_applied_showSidebar: "+hash.lightbox_id);}}else if(hash.hasOwnProperty('widget_type')&&hash.widget_type==="banner"){if(JQUERY_DIGIOH.inArray(hash.lightbox_id,PRELOADED_LIGHTBOXES)===-1){showBanner(hash.lightbox_id);logger("settings_applied_showBanner: "+hash.lightbox_id);}}else if(hash.hasOwnProperty('widget_type')&&hash.widget_type==="inline"){showInline(hash.lightbox_id);logger("settings_applied_showInline: "+hash.lightbox_id);}
if(JQUERY_DIGIOH.inArray(hash.lightbox_id,PRELOADED_LIGHTBOXES_LOADED)==-1){PRELOADED_LIGHTBOXES_LOADED.push(hash.lightbox_id);}
if(IS_PREVIEW){logger("preview 1");if(typeof DigiohPreviewOnScriptLoaded!=="undefined"&&!wasScriptOnLoadedCalled){logger("preview 2");DigiohPreviewOnScriptLoaded();if(!IS_PREVIEW_EVENT){logger("preview 3");window.setTimeout(function(){logger("loadLightbox: settings_applied > IS_PREVIEW, "+LIGHTBOX_GUID_PREVIEW);loadLightbox(LIGHTBOX_GUID_PREVIEW);},500);}}}
var pref=getPagePref(hash.lightbox_id);if(EFFECTS[hash.lightbox_id].hasOwnProperty(pref+'responsive')&&EFFECTS[hash.lightbox_id][pref+'responsive'].use){if(EFFECTS[hash.lightbox_id].widget_type!=='inline'){var dims_box=getActualBoxWidthAndHeight(hash.lightbox_id);CURRENT_PAGE_DIMS_RESPONSIVE[hash.lightbox_id]={width:dims_box.width,height:dims_box.height};keepSendingResizeToChildUntilReceived({sender:'lightbox',action:'dimensions_changed',widget_type:EFFECTS[hash.lightbox_id].widget_type,width:dims_box.width,height:dims_box.height},hash.lightbox_id,100,0);}else{inlineResponsiveResizing(hash.lightbox_id,getLightboxDomId(hash.lightbox_id),(new Date().getTime()),0,0);}}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"processPostMessage");}}
function parsePostMessageResult(data){try{var hash={};if(data.indexOf('&')>0){var kvps=data.split('&');for(var x=0;x<kvps.length;x++){if(kvps[x].indexOf('=')>0){var kvp=kvps[x].split('=');hash[kvp[0]]=decodeURIComponent(kvp[1]);}}}else if(data.indexOf('=')>0){var kvp=data.split('=');hash[kvp[0]]=decodeURIComponent(kvp[1]);}
return hash;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"parsePostMessageResult");}}
function tryOpenAnotherLightbox(lid){window.setTimeout(function(){logger('tryOpenAnotherLightbox: loading another lightbox: '+lid);logger("loadLightbox: tryOpenAnotherLightbox, "+lid);loadLightbox(lid,true);IS_REDIRECTING_PARENT=false;},150);}
function getAnalyticsDataForSubmission(lid){try{var var_id='';if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lid)){var_id=lid;lid=DIGIOH_VARIATION_TO_BOX_MAP[lid];}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lid];}
var hash={is_preview:IS_PREVIEW,vendor_id:VENDOR_GUID,client_id:CLIENT_GUID,lightbox_id:lid,variation_id:var_id,referrer_url:document.referrer,page_url:document.location.href,geoip:{ip_address:DIGIOH_LIGHTBOX_ANALYTICS.VARS.ip_address,continent_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.continent,country_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.country,country_name:DIGIOH_LIGHTBOX_ANALYTICS.VARS.country_name,region_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.state,region_name:DIGIOH_LIGHTBOX_ANALYTICS.VARS.region_name,city:DIGIOH_LIGHTBOX_ANALYTICS.VARS.city,zipcode:DIGIOH_LIGHTBOX_ANALYTICS.VARS.zipcode,metro_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.metro_code,time_zone:DIGIOH_LIGHTBOX_ANALYTICS.VARS.time_zone,area_code:DIGIOH_LIGHTBOX_ANALYTICS.VARS.area_code,latitude:DIGIOH_LIGHTBOX_ANALYTICS.VARS.latitude,longitude:DIGIOH_LIGHTBOX_ANALYTICS.VARS.longitude},device:{hardware:DIGIOH_LIGHTBOX_ANALYTICS.VARS.device,os:DIGIOH_LIGHTBOX_ANALYTICS.VARS.operating_system,browser_type:DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_type,browser_version:DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_version},entry_point:{referrer_url:DIGIOH_LIGHTBOX_ANALYTICS.VARS.referring_website_url,landing_page_url:DIGIOH_LIGHTBOX_ANALYTICS.VARS.landing_page,landing_page_ip:DIGIOH_LIGHTBOX_ANALYTICS.VARS.landing_page_ip,landing_page_date:DIGIOH_LIGHTBOX_ANALYTICS.VARS.date_of_visit,web_source:DIGIOH_LIGHTBOX_ANALYTICS.VARS.web_source,past_visits:DIGIOH_LIGHTBOX_ANALYTICS.VARS.past_visits,page_visits:DIGIOH_LIGHTBOX_ANALYTICS.VARS.page_visits,search_engine:DIGIOH_LIGHTBOX_ANALYTICS.VARS.search_engine,utm_campaign_source:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_source,utm_campaign_medium:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_medium,utm_campaign_term:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_term,utm_campaign_content:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_content,utm_campaign_name:DIGIOH_LIGHTBOX_ANALYTICS.VARS.utm_campaign_name}};return hash;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getAnalyticsDataForSubmission");}}
function effectsHasTeaserDisplayFancybox(lbid){try{return(EFFECTS.hasOwnProperty(lbid)&&EFFECTS[lbid].hasOwnProperty("fancybox")&&EFFECTS[lbid]["fancybox"].hasOwnProperty("teaser")&&(EFFECTS[lbid].fancybox.teaser.display||EFFECTS[lbid].fancybox.teaser.display_on_page_load));}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"effectsHasTeaserDisplayFancybox");}}
function effectsHasTeaserDisplaySidebar(lbid){try{return(EFFECTS.hasOwnProperty(lbid)&&EFFECTS[lbid].hasOwnProperty("sidebar")&&EFFECTS[lbid]["sidebar"].hasOwnProperty("teaser")&&(EFFECTS[lbid].sidebar.teaser.display||EFFECTS[lbid].sidebar.teaser.display_on_page_load));}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"effectsHasTeaserDisplaySidebar");}}
function registerCloseSidebarTime(lbid){try{if(EFFECTS[lbid].sidebar.auto_close.time>0){window.setTimeout(function(){if(!PREVENT_SIDEBAR_CLOSE_GUIDS.hasOwnProperty(lbid)){closeSidebar(lbid);}},(1000*EFFECTS[lbid].sidebar.auto_close.time));}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"registerCloseSidebarTime");}}
function registerCloseSidebarScroll(lbid){try{if(EFFECTS[lbid].sidebar.auto_close.scroll_up>0||EFFECTS[lbid].sidebar.auto_close.scroll_down>0){ELIGIBLE_SIDEBAR_CLOSE_SCROLL_GUIDS[lbid]=Math.round(jqWin.scrollTop());if(!body.hasClass('sidebar-body-scroll')){body.addClass('sidebar-body-scroll');jqWin.scroll(function(){for(var key in ELIGIBLE_SIDEBAR_CLOSE_SCROLL_GUIDS){if(EFFECTS[key].sidebar.auto_close.scroll_up>0&&ELIGIBLE_SIDEBAR_CLOSE_SCROLL_GUIDS[key]-jqWin.scrollTop()>=EFFECTS[key].sidebar.auto_close.scroll_up){if(!PREVENT_SIDEBAR_CLOSE_GUIDS.hasOwnProperty(key)){closeSidebar(key);}}else if(EFFECTS[key].sidebar.auto_close.scroll_down>0&&jqWin.scrollTop()-ELIGIBLE_SIDEBAR_CLOSE_SCROLL_GUIDS[key]>=EFFECTS[key].sidebar.auto_close.scroll_down){if(!PREVENT_SIDEBAR_CLOSE_GUIDS.hasOwnProperty(key)){closeSidebar(key);}}}});}
logger("registerCloseSidebarScroll");}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"registerCloseSidebarScroll");}}
function registerCloseSidebarClick(lbid){try{if(EFFECTS[lbid].sidebar.auto_close.click){if(!body.hasClass('sidebar-body-click')){body.addClass('sidebar-body-click');}
JQUERY_DIGIOH('.sidebar-body-click').on(isMobile()?'touchstart':'mousedown',function(e){if(DIGIOH_API.LIGHTBOX.isMobile()){setTimeout(function(){closeSidebar(lbid);},150);}
else{setTimeout(function(){closeSidebar(lbid);},50);}});}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"registerCloseSidebarClick");}}
function debounce_leading(func,timeout=300){let timer;return(...args)=>{if(!timer){func.apply(this,args);}
clearTimeout(timer);timer=setTimeout(()=>{timer=undefined;},timeout);};}
function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;clearTimeout(timeout);timeout=setTimeout(function(){timeout=null;if(!immediate){func.apply(context,args);}},wait);if(immediate&&!timeout){func.apply(context,args);}};}
var closeBanner=function(lbid){try{var dom_id=getLightboxDomId(lbid);if(JQUERY_DIGIOH('#'+dom_id).length&&(!BANNER_CLOSE_MAP.hasOwnProperty(lbid)||BANNER_CLOSE_MAP[lbid]!=1)){BANNER_CLOSE_MAP[lbid]=1;setTimeout(function(){BANNER_CLOSE_MAP[lbid]=0;},1000);removeActiveBox(lbid);if(body.hasClass('sidebar-body-click')){JQUERY_DIGIOH(".sidebar-body-click").off();body.removeClass('sidebar-body-click');}
if(PREVENT_SIDEBAR_CLOSE_GUIDS.hasOwnProperty(lbid)){delete PREVENT_SIDEBAR_CLOSE_GUIDS[lbid];}
FOCUSED_SIDEBAR_BANNER_GUIDS[lbid]=false;if(ELIGIBLE_SIDEBAR_CLOSE_SCROLL_GUIDS.hasOwnProperty(lbid)){delete ELIGIBLE_SIDEBAR_CLOSE_SCROLL_GUIDS[lbid];}
keepSendingEventNotificationToChildUntilReceived({sender:'lightbox',action:'before_lightbox_close'},lbid,100,0);registerLightboxClose(lbid);JQUERY_DIGIOH('#'+dom_id).hide();if(!EFFECTS[lbid].banner.hasOwnProperty('placement')||EFFECTS[lbid].banner.placement!=='bottom'){if(JQUERY_DIGIOH("#banner-spacer-"+lbid).length){JQUERY_DIGIOH("#banner-spacer-"+lbid).remove();}}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"closeBanner");}};var closeSidebar=function(lbid){try{var dom_id=getLightboxDomId(lbid);stopBoxScrollMode(lbid);if(JQUERY_DIGIOH('#'+dom_id).length&&(!SIDEBAR_CLOSE_MAP.hasOwnProperty(lbid)||SIDEBAR_CLOSE_MAP[lbid]!=1)){SIDEBAR_CLOSE_MAP[lbid]=1;setTimeout(function(){SIDEBAR_CLOSE_MAP[lbid]=0;},1000);removeActiveBox(lbid);if(body.hasClass('sidebar-body-click')){JQUERY_DIGIOH(".sidebar-body-click").off();body.removeClass('sidebar-body-click');}
var bgScrollAccount=DIGIOH_API.getAccountMetadata('bgscroll_enable');var bgScroll=DIGIOH_API.getWidgetMetadata(lbid,'bgscroll_enable');if(bgScroll!=='true'&&bgScrollAccount!=='true'&&EFFECTS[lbid].sidebar.position==='center-center'){if(JQUERY_DIGIOH('html').hasClass('box_active_disable_scrolling')){JQUERY_DIGIOH('html').removeClass('box_active_disable_scrolling');}
if(JQUERY_DIGIOH('body').hasClass('box_active_disable_scrolling')){JQUERY_DIGIOH('body').removeClass('box_active_disable_scrolling');}
logger('bgscroll_reenable_on_close');}
if(PREVENT_SIDEBAR_CLOSE_GUIDS.hasOwnProperty(lbid)){delete PREVENT_SIDEBAR_CLOSE_GUIDS[lbid];}
FOCUSED_SIDEBAR_BANNER_GUIDS[lbid]=false;if(ELIGIBLE_SIDEBAR_CLOSE_SCROLL_GUIDS.hasOwnProperty(lbid)){delete ELIGIBLE_SIDEBAR_CLOSE_SCROLL_GUIDS[lbid];}
keepSendingEventNotificationToChildUntilReceived({sender:'lightbox',action:'before_lightbox_close'},lbid,100,0);if(EFFECTS[lbid].sidebar.hasOwnProperty('overlay')&&EFFECTS[lbid].sidebar.overlay){if(JQUERY_DIGIOH("#sidebar-overlay-"+dom_id).length){JQUERY_DIGIOH("#sidebar-overlay-"+dom_id).remove();}else if(JQUERY_DIGIOH(".fb_lightbox-overlay").length){JQUERY_DIGIOH(".fb_lightbox-overlay").remove();}}
var ca=getCloseAnimation(EFFECTS[lbid].sidebar,lbid);if(!ca){ca={};registerLightboxClose(lbid);JQUERY_DIGIOH('#'+dom_id).hide();}else{logger('DIGIOH: getCloseAnimation...');logger(ca);JQUERY_DIGIOH('#'+dom_id).animate(ca,{duration:EFFECTS[lbid].sidebar.speed.close,easing:EFFECTS[lbid].sidebar.easing.close,complete:function(){registerLightboxClose(lbid);JQUERY_DIGIOH('#'+dom_id).hide();}});}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"closeSidebar");}};var closeInline=function(lbid){try{if(JQUERY_DIGIOH.inArray(lbid,PRELOADED_LIGHTBOXES)>-1){var dom_id=getLightboxDomId(lbid);if(JQUERY_DIGIOH("#"+dom_id).length){setTimeout(function(){if(JQUERY_DIGIOH("#"+dom_id).length){JQUERY_DIGIOH("#"+dom_id).hide();JQUERY_DIGIOH("#"+dom_id).remove();DIGIOH_API.log('closeInline: '+dom_id);}},100);}
else{DIGIOH_API.log('closeInline_5::::'+lbid);}
removeActiveBox(lbid);keepSendingEventNotificationToChildUntilReceived({sender:'lightbox',action:'before_lightbox_close'},lbid,100,0);registerLightboxClose(lbid);if(DIGIOH_API.contains(DIGIOH_LIGHTBOX_INLINE_DISPLAYED,lbid)){DIGIOH_LIGHTBOX_INLINE_DISPLAYED=DIGIOH_API.remove(DIGIOH_LIGHTBOX_INLINE_DISPLAYED,lbid);}
else{}
if(DIGIOH_API.contains(PRELOADED_LIGHTBOXES,lbid)){PRELOADED_LIGHTBOXES=DIGIOH_API.remove(PRELOADED_LIGHTBOXES,lbid);}
else{}}
else{}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"closeInline");}};function openTeaser(teaser,lbid){try{var teaserId='teaser-'+lbid;TEASER_LIGHTBOX_GUIDS[teaserId]="open";if(!JQUERY_DIGIOH('#'+teaserId).length){body.append("<div id=\""+teaserId+"\" class=\""+teaserId+"\" style=\""+getTeaserStyle(teaser)+"\">"+teaser.text+"</div>");JQUERY_DIGIOH('#'+teaserId).css(getBackgroundStyle(teaser.background));JQUERY_DIGIOH('#'+teaserId).css(getBorderStyle(teaser.border));JQUERY_DIGIOH('#'+teaserId).css(getFontStyle(teaser.font));JQUERY_DIGIOH('#'+teaserId).click(function(){var lid=JQUERY_DIGIOH(this).attr('id').substring(7);closeTeaser(teaser,lid,true);});JQUERY_DIGIOH('#'+teaserId).mouseenter(function(){JQUERY_DIGIOH('#'+teaserId).css(getBackgroundStyle(teaser.background_hover));JQUERY_DIGIOH('#'+teaserId).css(getBorderStyle(teaser.border_hover));JQUERY_DIGIOH('#'+teaserId).css(getFontStyle(teaser.font_hover));}).mouseleave(function(){JQUERY_DIGIOH('#'+teaserId).css(getBackgroundStyle(teaser.background));JQUERY_DIGIOH('#'+teaserId).css(getBorderStyle(teaser.border));JQUERY_DIGIOH('#'+teaserId).css(getFontStyle(teaser.font));});JQUERY_DIGIOH('#'+teaserId).mousedown(function(){JQUERY_DIGIOH('#'+teaserId).css(getBackgroundStyle(teaser.background_focus));JQUERY_DIGIOH('#'+teaserId).css(getBorderStyle(teaser.border_focus));JQUERY_DIGIOH('#'+teaserId).css(getFontStyle(teaser.font_focus));}).mouseup(function(){JQUERY_DIGIOH('#'+teaserId).css(getBackgroundStyle(teaser.background_hover));JQUERY_DIGIOH('#'+teaserId).css(getBorderStyle(teaser.border_hover));JQUERY_DIGIOH('#'+teaserId).css(getFontStyle(teaser.font_hover));});}
var oa=getTeaserOpenAnimation(teaser);JQUERY_DIGIOH('#'+teaserId).animate({top:oa.top,left:oa.left,right:oa.right,bottom:oa.bottom},{duration:500,easing:"swing",complete:function(){}});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"openTeaser");}}
function closeTeaser(teaser,lbid,triggerLightboxLoad){try{if(JQUERY_DIGIOH('#teaser-'+lbid).length){var ca=getTeaserCloseAnimation(teaser);if(!ca)ca={};JQUERY_DIGIOH('#teaser-'+lbid).animate({top:ca.top,left:ca.left,right:ca.right,bottom:ca.bottom},{duration:100,easing:"swing",complete:function(){JQUERY_DIGIOH('#teaser-'+lbid).remove();if(triggerLightboxLoad){logger("loadLightbox: closeTeaser, "+lbid);loadLightbox(lbid);}}});}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"closeTeaser");}}
function getTeaserCloseAnimation(teaser){try{var pos=teaser.position.split('-');var posx=pos[1];var posy=pos[0];var ca={};if(posx=='left'){if(posy=='top'){ca.left="-="+(teaser.width+teaser.offset_x)+"px";}else if(posy=='center'){ca.left="-="+(teaser.width+teaser.offset_x)+"px";}else if(posy=='bottom'){ca.bottom="-="+(teaser.height+teaser.offset_y)+"px";}}else if(posx=='center'){if(posy=='top'){ca.top="-="+(teaser.height+teaser.offset_y)+"px";}else if(posy=='bottom'){ca.bottom="-="+(teaser.height+teaser.offset_y)+"px";}}else if(posx=='right'){if(posy=='top'){ca.right="-="+(teaser.width+teaser.offset_x)+"px";}else if(posy=='center'){ca.right="-="+(teaser.width+teaser.offset_x)+"px";}else if(posy=='bottom'){ca.bottom="-="+(teaser.height+teaser.offset_y)+"px";}}
return ca;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getTeaserCloseAnimation");}}
function getTeaserOpenAnimation(teaser){try{var pos=teaser.position.split('-');var posx=pos[1];var posy=pos[0];var oa={};if(posx=='left'){if(posy=='top'){oa.left="+="+(teaser.width+teaser.offset_x)+"px";}else if(posy=='center'){oa.left="+="+(teaser.width+teaser.offset_x)+"px";}else if(posy=='bottom'){oa.bottom="+="+(teaser.height+teaser.offset_y)+"px";}}else if(posx=='center'){if(posy=='top'){oa.top="+="+(teaser.height+teaser.offset_y)+"px";}else if(posy=='bottom'){oa.bottom="+="+(teaser.height+teaser.offset_y)+"px";}}else if(posx=='right'){if(posy=='top'){oa.right="+="+(teaser.width+teaser.offset_x)+"px";}else if(posy=='center'){oa.right="+="+(teaser.width+teaser.offset_x)+"px";}else if(posy=='bottom'){oa.bottom="+="+(teaser.height+teaser.offset_y)+"px";}}
return oa;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getTeaserOpenAnimation");}}
function getTeaserStyle(teaser){try{var str="cursor: pointer; z-index: 9948030; ";str+="position: "+teaser.css_positioning+"; ";str+="width: "+teaser.width+"px; ";str+="height: "+teaser.height+"px; ";str+="padding-top: "+teaser.padding.top+"px; ";str+="padding-right: "+teaser.padding.right+"px; ";str+="padding-bottom: "+teaser.padding.bottom+"px; ";str+="padding-left: "+teaser.padding.left+"px; ";var pos=teaser.position.split('-');var posx=pos[1];var posy=pos[0];if(posx=='left'){if(posy=='top'){str+="left: -"+(teaser.width)+"px; ";str+="top: "+(teaser.offset_y)+"px; ";}else if(posy=='center'){str+="left: -"+(teaser.width)+"px; ";str+="top: 50%; margin-top: -"+(Math.round(teaser.height/2)+teaser.offset_y)+"px; ";}else if(posy=='bottom'){str+="left: "+(teaser.offset_x)+"px; ";str+="bottom: -"+(teaser.height)+"px; ";}}else if(posx=='center'){if(posy=='top'){str+="left: 50%; margin-left: -"+(Math.round(teaser.width/2)+teaser.offset_x)+"px; ";str+="top: -"+(teaser.height)+"px; ";}else if(posy=='bottom'){str+="left: 50%; margin-left: -"+(Math.round(teaser.width/2)+teaser.offset_x)+"px; ";str+="bottom: -"+(teaser.height)+"px; ";}}else if(posx=='right'){if(posy=='top'){str+="right: -"+(teaser.width)+"px; ";str+="top: "+(teaser.offset_y)+"px; ";}else if(posy=='center'){str+="right: -"+(teaser.width)+"px; ";str+="top: 50%; margin-top: -"+(Math.round(teaser.height/2)+teaser.offset_y)+"px; ";}else if(posy=='bottom'){str+="right: "+(teaser.offset_x)+"px; ";str+="bottom: -"+(teaser.height)+"px; ";}}
return str;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getTeaserStyle");}}
function getFontStyle(propFont){try{var hash={};hash["font-family"]=propFont.family;hash["font-weight"]=(propFont.bold?"bold":"normal");hash["font-style"]=(propFont.italic?"italic":"normal");hash["text-decoration"]=(propFont.underline?"underline":"none");hash["text-transform"]=(propFont.uppercase?"uppercase":"none");hash["text-align"]=propFont.align;hash["font-size"]=propFont.size+"px";hash["color"]=propFont.color;return hash;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getFontStyle");}}
function getBorderStyle(propBorder){try{var hash={};if(propBorder.style==='none'||propBorder.width==='0'||propBorder.width===0){hash["border-style"]='none';hash["border-width"]='0px';hash["border-color"]='transparent';hash["border-radius"]='0px';}else{hash["border-color"]=propBorder.color;hash["border-style"]=propBorder.style;hash["border-width"]=propBorder.width+'px';hash["border-radius"]=propBorder.radius+'px';}
return hash;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getBorderStyle");}}
function getBackgroundStyle(propBackground){try{var hash={};if(propBackground.use_image&&propBackground.image.length>3&&propBackground.image!='none'){hash["background-image"]="url("+DIGIOH_API.CONFIG.S3_BASE_URL+"/vendors/"+VENDOR_GUID+"/uploads/"+propBackground.image+")";hash["background-position"]=propBackground.position;hash["background-color"]=propBackground.color;if(propBackground.repeat==='stretch'){hash["-webkit-background-size"]='cover';hash["-moz-background-size"]='cover';hash["-o-background-size"]='cover';hash["background-size"]='cover';}else{hash["background-repeat"]=propBackground.repeat;}}
else if(propBackground.use_gradient&&propBackground.gradient.length>3){hash["background-image"]="none";if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_type=="Chrome")
hash["background"]="-webkit-gradient(linear, left top, left bottom, from("+propBackground.color+"),to("+propBackground.gradient+"))";else if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_type=="Safari")
hash["background"]="-webkit-linear-gradient(top, "+propBackground.color+","+propBackground.gradient+")";else if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_type=="Opera")
hash["background"]="-o-linear-gradient(top, "+propBackground.color+","+propBackground.gradient+")";else if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_type=="Firefox")
hash["background"]="-moz-linear-gradient(top, "+propBackground.color+","+propBackground.gradient+")";else if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.browser_type=="Internet Explorer")
hash["background"]="-ms-linear-gradient(top, "+propBackground.color+","+propBackground.gradient+")";else
hash["background"]="linear-gradient(to bottom,"+propBackground.color+","+propBackground.gradient+")";}
else{hash["background-image"]="none";hash["background-color"]=propBackground.color;}
return hash;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getBackgroundStyle");}}
function getCloseButtonStyle(prop,widget_type,lbid){try{var str="position: absolute; width: 36px; height: 36px; cursor: pointer; z-index: 9948040; background-image: url("+CLOSE_BUTTON_URL+");";if(typeof lbid==='string'&&lbid&&EFFECTS.hasOwnProperty(lbid)){if(EFFECTS[lbid].widget_type&&EFFECTS[lbid].widget_type!=='inline'&&EFFECTS[lbid][EFFECTS[lbid].widget_type].hasOwnProperty('close_button_image')&&EFFECTS[lbid][EFFECTS[lbid].widget_type].close_button_image.length>30){var btnsrc=DIGIOH_API.CONFIG.S3_BASE_URL+'/vendors/'+DIGIOH_API.getAccountGuid()+'/uploads/'+EFFECTS[lbid][EFFECTS[lbid].widget_type].close_button_image;str="position: absolute; width: 36px; height: 36px; cursor: pointer; z-index: 9948040; background-image: url("+btnsrc+"); background-repeat: no-repeat; background-size: auto; background-position: center center;";}}
if(prop.display&&widget_type!="sidebar")str+="display: block; ";else str+="display: none; ";if(prop.position=='top-left'){str+="top: "+prop.offset_y+"px; ";str+="left: "+prop.offset_x+"px; ";}else if(prop.position=='top-right'){str+="top: "+prop.offset_y+"px; ";str+="right: "+prop.offset_x+"px; ";}else if(prop.position=='bottom-left'){str+="bottom: "+prop.offset_y+"px; ";str+="left: "+prop.offset_x+"px; ";}else if(prop.position=='bottom-right'){str+="bottom: "+prop.offset_y+"px; ";str+="right: "+prop.offset_x+"px; ";}
return str;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getCloseButtonStyle");}}
var setBoxToScrollMode=function(lid,page,event){try{var $=JQUERY_DIGIOH;DIGIOH_API.scroll_mode_data=DIGIOH_API.scroll_mode_data||{};if(typeof page=='undefined'){page='main';}
if(typeof event==='string'&&event==='window_resize'&&DIGIOH_API.scroll_mode_data&&DIGIOH_API.scroll_mode_data.lid){lid=DIGIOH_API.scroll_mode_data.lid;}
if(typeof event==='string'&&event==='change_pages'&&$('#lightbox-override').length){logger('setBoxToScrollMode:  Box page changed, forcing browser to scroll to the top of the box: '+page);$('#lightbox-override')[0].scrollTop=0;}
if(typeof lid==="string"&&lid.length>0&&!isActiveBox(lid)){return;}
if((DIGIOH_API.LIGHTBOX.getActiveLightboxDomId()!=""||$('#lightbox-override').length)&&DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS.hasOwnProperty(lid)&&DIGIOH_LIGHTBOX_EFFECTS.hasOwnProperty(lid)&&DIGIOH_LIGHTBOX_EFFECTS[lid].widget_type=="sidebar"){if(typeof DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid]==='string'&&DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid].length>50&&DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid].indexOf('{')<0){DIGIOH_API.scroll_mode_data.settings=JSON.parse(DIGIOH_API.LIGHTBOX.LZString.decompressFromBase64(DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid]));}else if(typeof DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid]==='string'&&DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid].length>50&&DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid].indexOf('{')>=0){DIGIOH_API.scroll_mode_data.settings=JSON.parse(DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid]);}else{DIGIOH_API.scroll_mode_data.settings=DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lid];}
var activeBreakpoint=1000000;DIGIOH_API.scroll_mode_data.responsive_breakpoint_in_use=false;if(typeof DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS==='object'&&DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS&&DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS.hasOwnProperty(lid)&&DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lid]){Object.keys(DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lid]).forEach(function(key){if(DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lid].hasOwnProperty(key)&&$(window).width()<parseInt(key)&&parseInt(key)<activeBreakpoint){activeBreakpoint=parseInt(key);}});}
if(activeBreakpoint<100000&&DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lid].hasOwnProperty(activeBreakpoint.toString())){if(!DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lid][activeBreakpoint.toString()].hasOwnProperty('scrolling')||!DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lid][activeBreakpoint.toString()]['scrolling']['use']){logger("setBoxToScrollMode: scrolling was off for breakpoint ("+activeBreakpoint+") "+lid);stopBoxScrollMode(lid);return false;}
logger("setBoxToScrollMode: scrolling was on for breakpoint ("+activeBreakpoint+") "+lid);DIGIOH_API.scroll_mode_data.responsive_breakpoint_in_use=true;DIGIOH_API.scroll_mode_data.settings=DIGIOH_API.DIGIOH_PIXEL_THRESHOLDS[lid][activeBreakpoint.toString()];}
else if(typeof DIGIOH_API.scroll_mode_data.settings!=='object'||!DIGIOH_API.scroll_mode_data.settings||!DIGIOH_API.scroll_mode_data.settings.hasOwnProperty('scrolling')||!DIGIOH_API.scroll_mode_data.settings.scrolling.use){logger("setBoxToScrollMode: scrolling was off for sidebar "+lid);stopBoxScrollMode(lid);return false;}
DIGIOH_API.scroll_mode_data.is_scroll_box_active=true;if(lid){DIGIOH_API.scroll_mode_data.lid=lid;}
var layoutName=page=="main"?"layout":page+"layout";DIGIOH_API.scroll_mode_data.currentPage=page;if(!$('#lightbox-override').length){$('#'+DIGIOH_API.LIGHTBOX.getLightboxDomId(lid)).attr('id','lightbox-override').attr('style','');logger('setBoxToScrollMode:  going to override the box positioning');}
else{logger('setBoxToScrollMode:  updating scroll box positioning: '+DIGIOH_API.scroll_mode_data.settings.scrolling.use+', '+DIGIOH_API.scroll_mode_data.responsive_breakpoint_in_use);}
DIGIOH_API.scroll_mode_data.pageUpdate=page;scrollModeSetCSSSettings(DIGIOH_API.scroll_mode_data.settings);$("head,body").addClass("digioh_overlay_style");$('#lightbox-override').css('height',$(window).height()+"px").css('width',$(window).width()+"px").css('margin-left','unset').css('margin-top','unset').css('top',$(window).scrollTop()+'px');$('#lightbox-override iframe').attr('style','').attr('data-layout',layoutName).addClass('digioh_override');if(CURRENT_PAGE&&CURRENT_PAGE.hasOwnProperty(lid)&&$('#lightbox-override iframe.digioh_override').length){var pg=CURRENT_PAGE[lid].replace('_','');if(pg=='main')pg='';$('#lightbox-override iframe.digioh_override').attr('data-layout',pg+'layout');logger('setBoxToScrollMode:  data-layout set to page: '+pg);}
if($("#lightbox-override > iframe[id^='lightbox-iframe-']").contents().find("button[custom_close_btn]").length){$("#lightbox-override > iframe[id^='lightbox-iframe-']").contents().find("button[custom_close_btn]").on(DIGIOH_API.LIGHTBOX.isMobile()?'touchend':'click',function(){if(DIGIOH_API.LIGHTBOX.isMobile()){setTimeout(function(){closeSidebar(lid);},150);}
else{setTimeout(function(){closeSidebar(lid);},50);}});}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setBoxToScrollMode");return 1;}}
var stopBoxScrollMode=function(lid){try{if(DIGIOH_API.hasOwnProperty('scroll_mode_data')&&DIGIOH_API.scroll_mode_data.hasOwnProperty('is_scroll_box_active')&&DIGIOH_API.scroll_mode_data.is_scroll_box_active){delete DIGIOH_API.scroll_mode_data.settings;delete DIGIOH_API.scroll_mode_data.pageUpdate;delete DIGIOH_API.scroll_mode_data.currentPage;JQUERY_DIGIOH('#digioh_element_styles').remove();JQUERY_DIGIOH("head,body").removeClass("digioh_overlay_style");JQUERY_DIGIOH("#lightbox-override iframe").removeClass("digioh_override").removeAttr('data-layout');JQUERY_DIGIOH('#lightbox-override').attr('id',DIGIOH_API.LIGHTBOX.getLightboxDomId(lid));logger('stopBoxScrollMode');}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"stopBoxScrollMode");}}
function scrollModeSetCSSSettings(settings){if(typeof settings!='object'||!settings||!settings.hasOwnProperty('layout')){logger('setBoxToScrollMode: missing settings object in scrollModeSetCSSSettings');return false;}
var css_str=".digioh_overlay_style {";css_str+="position: fixed !important;";css_str+="top: 0 !important;";css_str+="right: 0 !important;";css_str+="bottom: 0 !important;";css_str+="left: 0 !important;";css_str+="-webkit-overflow-scrolling: touch !important;";css_str+="margin-top: 0 !important;";css_str+="margin-bottom: 0 !important;";css_str+="-webkit-transition: none !important;";css_str+="transition: none !important;";css_str+="overflow: hidden !important;";css_str+="}";css_str+=".digioh_overlay_style .preloaded_lightbox {";css_str+="position: fixed !important;";css_str+="top: 0 !important;";css_str+="right: 0 !important;";css_str+="left: 0 !important;";css_str+="bottom: 0 !important;";css_str+="overflow-x: hidden !important;";css_str+="overflow-y: auto !important;";css_str+="text-align: center !important;";css_str+="z-index: 9948030 !important;";css_str+="}";css_str+=".digioh_overlay_style .fb_lightbox-overlay-fixed {";css_str+="z-index: 9847010 !important;";css_str+="}";css_str+=".digioh_overlay_style .sidebar-iframe-close {";css_str+="display: none !important;";css_str+="}";Object.keys(settings).forEach(function(key){if(key.match(/(layout|ep1layout|ep2layout|ep3layout|ep4layout|thxlayout)$/)){var top=35;if(settings.hasOwnProperty('scrolling')&&settings['scrolling'].use&&settings['scrolling'].hasOwnProperty('top')){top=settings['scrolling'].top;}
css_str+=".digioh_overlay_style .preloaded_lightbox .digioh_override[data-layout=\""+key+"\"]{";css_str+="position: absolute !important;";css_str+="width: "+settings[key].width+"px !important;";css_str+="height: "+(settings[key].height+35)+"px !important;";css_str+="top: "+top+"px !important;";css_str+="left: 50% !important;";css_str+="margin-left: -"+(settings[key].width/2)+"px !important;";css_str+="z-index: 9948031 !important;";css_str+="}";}});if(!DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH('#digioh_element_styles').length){DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH('head').append('<style id="digioh_element_styles" type="text/css">'+css_str+'</style>');}else{DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH('#digioh_element_styles').html(css_str);}
return true;};function getResponsiveScaleMultiplier(lid){try{var pref=getPagePref(lid);if(EFFECTS[lid].hasOwnProperty(pref+'scaling')&&EFFECTS[lid][pref+'scaling'].use===true){var ww=JQUERY_DIGIOH(window).width();var wh=JQUERY_DIGIOH(window).height();var bw=getBoxWidth(lid);var bh=getBoxHeight(lid);var scale=EFFECTS[lid][pref+'scaling'];if(scale.max_type&&scale.max_type==='pct'){if(scale.max_width_pct){ww=ww*scale.max_width_pct/100;}
if(scale.max_height_pct){wh=wh*scale.max_height_pct/100;}}else if(scale.max_type&&scale.max_type==='abs'){if(scale.max_width&&scale.max_width<ww){ww=scale.max_width;}
if(scale.max_height&&scale.max_height<wh){wh=scale.max_height;}}else if(scale.max_type&&scale.max_type==='win'){}
var mh=wh/bh;var mw=ww/bw;var m=1;if(mh<mw){m=mh;}else{m=mw;}
return m;}
else{return 1;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getResponsiveScaleMultiplier");return 1;}}
function getResponsiveScale(lid){try{var pref=getPagePref(lid);if(EFFECTS[lid].hasOwnProperty(pref+'scaling')&&EFFECTS[lid][pref+'scaling'].use===true){var m=getResponsiveScaleMultiplier(lid);var str='';str+='-webkit-transform: scale('+m+');';str+='-moz-transform: scale('+m+');';str+='-ms-transform: scale('+m+');';str+='-o-transform: scale('+m+');';str+='transform: scale('+m+');';if(EFFECTS[lid].widget_type==='banner'&&EFFECTS[lid].banner.placement==='bottom'){str+='transform-origin: 50% 100%;';}else if(EFFECTS[lid].widget_type==='banner'&&EFFECTS[lid].banner.placement==='top'){str+='transform-origin: 50% 0%;';}
if(EFFECTS[lid].widget_type==='sidebar'&&EFFECTS[lid].sidebar.position==='top-left'){str+='transform-origin: 0% 0%;';}else if(EFFECTS[lid].widget_type==='sidebar'&&EFFECTS[lid].sidebar.position==='top-center'){str+='transform-origin: 50% 0%;';}else if(EFFECTS[lid].widget_type==='sidebar'&&EFFECTS[lid].sidebar.position==='top-right'){str+='transform-origin: 100% 0%;';}
else if(EFFECTS[lid].widget_type==='sidebar'&&EFFECTS[lid].sidebar.position==='center-left'){str+='transform-origin: 0% 50%;';}else if(EFFECTS[lid].widget_type==='sidebar'&&EFFECTS[lid].sidebar.position==='center-center'){str+='transform-origin: 50% 50%;';}else if(EFFECTS[lid].widget_type==='sidebar'&&EFFECTS[lid].sidebar.position==='center-right'){str+='transform-origin: 100% 50%;';}
else if(EFFECTS[lid].widget_type==='sidebar'&&EFFECTS[lid].sidebar.position==='bottom-left'){str+='transform-origin: 0% 100%;';}else if(EFFECTS[lid].widget_type==='sidebar'&&EFFECTS[lid].sidebar.position==='bottom-center'){str+='transform-origin: 50% 100%;';}else if(EFFECTS[lid].widget_type==='sidebar'&&EFFECTS[lid].sidebar.position==='bottom-right'){str+='transform-origin: 100% 100%;';}
return str;}
else{return '';}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getResponsiveScale");return '';}}
function getResponsiveScaleInline(lid,dom_id){try{var pref=getPagePref(lid);if(EFFECTS[lid].hasOwnProperty(pref+'scaling')&&EFFECTS[lid][pref+'scaling'].use===true){var ww=JQUERY_DIGIOH('#'+dom_id).parent().width();var wh=JQUERY_DIGIOH('#'+dom_id).parent().height();var bw=getBoxWidth(lid);var bh=getBoxHeight(lid);var scale=EFFECTS[lid][pref+'scaling'];if(scale.max_type&&scale.max_type==='pct'){if(scale.max_width_pct){ww=ww*scale.max_width_pct/100;}
if(scale.max_height_pct){wh=wh*scale.max_height_pct/100;}}else if(scale.max_type&&scale.max_type==='abs'){if(scale.max_width&&scale.max_width<ww){ww=scale.max_width;}
if(scale.max_height&&scale.max_height<wh){wh=scale.max_height;}}else if(scale.max_type&&scale.max_type==='win'){}
var mh=wh/bh;var mw=ww/bw;var m=1;if(mh<mw){m=mh;}else{m=mw;}
var str='';str+='-webkit-transform: scale('+m+');';str+='-moz-transform: scale('+m+');';str+='-ms-transform: scale('+m+');';str+='-o-transform: scale('+m+');';str+='transform: scale('+m+');';return str;}
else{return '';}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getResponsiveScaleInline");return '';}}
function getBannerPosition(prop,lid){try{var css_pos='';if(prop.hasOwnProperty('placement')&&prop.placement==='bottom'){css_pos="fixed";}else if(prop.css_positioning=="fixed"&&isMobile()){css_pos=prop.css_positioning;}else{css_pos=prop.css_positioning;}
var str="position: "+css_pos+"; ";var dims_box=getActualBoxWidthAndHeight(lid);str+="width: "+dims_box.width+"px; ";str+="height: "+dims_box.height+"px; ";str+="z-index: 9948030; ";str+="left: 50%; margin-left: -"+Math.round(dims_box.width/2)+"px; ";str+=getResponsiveScale(lid);if(css_pos==="fixed"){if(prop.hasOwnProperty('placement')&&prop.placement==='bottom'){str+="bottom: 0px; ";}else{str+="top: 0px; ";}}else{var st=jqWin.scrollTop();if(prop.hasOwnProperty('placement')&&prop.placement==='bottom'){str+="bottom: 0px; ";}else if(prop.hasOwnProperty('placement')&&prop.placement==='top'){str+="top: 0px; ";}}
if(EFFECTS[lid]['banner'].hasOwnProperty('css')&&typeof EFFECTS[lid]['banner']['css']==='string'&&EFFECTS[lid]['banner']['css'].indexOf(':')>0){str+=EFFECTS[lid]['banner']['css'];}
return str;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getBannerPosition");}}
function getSidebarPosition(prop,lid){try{var css_pos='';if(prop.css_positioning=="fixed"&&isMobile()){css_pos=prop.css_positioning;}else{css_pos=prop.css_positioning;}
css_pos='fixed';var str="position: "+css_pos+"; ";var actualWindowWidthPixels=JQUERY_DIGIOH(window).width();var actualWindowHeightPixels=JQUERY_DIGIOH(window).height();var dims_box=getActualBoxWidthAndHeight(lid);str+="width: "+dims_box.width+"px; ";str+="height: "+dims_box.height+"px; ";str+="z-index: 9948030; ";str+=getResponsiveScale(lid);var pos=prop.position.split('-');var posx=pos[1];var posy=pos[0];if(css_pos==="fixed"){var offset_x=-1*Math.round(dims_box.width/2);var offset_y=-1*Math.round(dims_box.height/2);if(prop.hasOwnProperty('offset')&&prop.offset.hasOwnProperty('left')){if(prop.offset.left==0){offset_x=-1*(actualWindowWidthPixels/2)+30;}
else if(prop.offset.left==10){offset_x=1*(actualWindowWidthPixels/2)-dims_box.width-30;}
else if(prop.offset.left<5){offset_x=((prop.offset.left-5)/5)*((actualWindowWidthPixels/2)-Math.round(dims_box.width/2))-Math.round(dims_box.width/2);}
else if(prop.offset.left>5){offset_x=((prop.offset.left-5)/5)*((actualWindowWidthPixels/2)-Math.round(dims_box.width/2))-Math.round(dims_box.width/2);}}
if(prop.hasOwnProperty('offset')&&prop.offset.hasOwnProperty('top')){if(prop.offset.top==0){offset_y=-1*(actualWindowHeightPixels/2)+30;}
else if(prop.offset.top==10){offset_y=1*(actualWindowHeightPixels/2)-dims_box.height-30;}
else if(prop.offset.top<5){offset_y=((prop.offset.top-5)/5)*((actualWindowHeightPixels/2)-Math.round(dims_box.height/2))-Math.round(dims_box.height/2);}
else if(prop.offset.top>5){offset_y=((prop.offset.top-5)/5)*((actualWindowHeightPixels/2)-Math.round(dims_box.height/2))-Math.round(dims_box.height/2);}}
if(prop.animation.open=="slideUp"){str+="top: "+Math.ceil(actualWindowHeightPixels)+"px; ";}else if(prop.animation.open=="slideDown"){str+="top: "+Math.ceil(-1*dims_box.height)+"px; ";}else if(prop.animation.open=="slideRight"){str+="left: "+Math.ceil(-1*dims_box.width)+"px; ";}else if(prop.animation.open=="slideLeft"){str+="left: "+Math.ceil(actualWindowWidthPixels)+"px; ";}
if(prop.animation.open=="slideUp"||prop.animation.open=="slideDown"){if(posx=='left')str+="left: 0px; ";else if(posx=='center')str+="left: 50%; margin-left: "+offset_x+"px; ";else if(posx=='right')str+="right: 0px; ";}else if(prop.animation.open=="slideLeft"||prop.animation.open=="slideRight"){if(posy=='top')str+="top: 0px; ";else if(posy=='center')str+="top: 50%; margin-top: "+offset_y+"px; ";else if(posy=='bottom')str+="bottom: 0px; ";}else if(prop.animation.open=="fade"||prop.animation.open=="elastic"){if(posx=='left')str+="left: 0px; ";else if(posx=='center')str+="left: 50%; margin-left: "+offset_x+"px; ";else if(posx=='right')str+="right: 0px; ";if(posy=='top')str+="top: 0px; ";else if(posy=='center')str+="top: 50%; margin-top: "+offset_y+"px; ";else if(posy=='bottom')str+="bottom: 0px; ";}}else{var st=jqWin.scrollTop();if(prop.animation.open=="slideUp"){str+="top: "+Math.ceil(actualWindowHeightPixels+st)+"px; ";}else if(prop.animation.open=="slideDown"){str+="top: "+(Math.ceil(st)+Math.ceil(-1*dims_box.height))+"px; ";}else if(prop.animation.open=="slideRight"){str+="left: "+Math.ceil(-1*dims_box.width)+"px; ";}else if(prop.animation.open=="slideLeft"){str+="left: "+Math.ceil(actualWindowWidthPixels)+"px; ";}
if(prop.animation.open=="slideUp"||prop.animation.open=="slideDown"){if(posx=='left')str+="left: 0px; ";else if(posx=='center')str+="left: "+(Math.round(jqWin.width()/2)-Math.round(dims_box.width/2))+"px; ";else if(posx=='right')str+="left: "+Math.ceil(jqWin.width()-dims_box.width)+"px; ";}else if(prop.animation.open=="slideLeft"||prop.animation.open=="slideRight"){if(posy=='top')str+="top: "+Math.ceil(st)+"px; ";else if(posy=='center')str+="top: "+(Math.ceil(st)+Math.round(actualWindowHeightPixels/2)-Math.round(dims_box.height/2))+"px; ";else if(posy=='bottom')str+="top: "+Math.ceil(st+jqWin.height()-dims_box.height)+"px; ";}else if(prop.animation.open=="fade"||prop.animation.open=="elastic"){if(posx=='left')str+="left: 0px; ";else if(posx=='center')str+="left: "+(Math.round(jqWin.width()/2)-Math.round(dims_box.width/2))+"px; ";else if(posx=='right')str+="left: "+Math.ceil(jqWin.width()-dims_box.width)+"px; ";if(posy=='top')str+="top: "+Math.ceil(st)+"px; ";else if(posy=='center')str+="top: "+(Math.ceil(st)+Math.round(actualWindowHeightPixels/2)-Math.round(dims_box.height/2))+"px; ";else if(posy=='bottom')str+="top: "+Math.ceil(st+jqWin.height()-dims_box.height)+"px; ";}}
if(EFFECTS[lid]['sidebar'].hasOwnProperty('css')&&typeof EFFECTS[lid]['sidebar']['css']==='string'&&EFFECTS[lid]['sidebar']['css'].indexOf(':')>0){str+=EFFECTS[lid]['sidebar']['css'];}
return str;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getSidebarPosition");}}
function getSidebarPositionAfterAnimation(prop,lid){try{var css_pos='';if(prop.css_positioning=="fixed"&&isMobile()){css_pos=prop.css_positioning;}else{css_pos=prop.css_positioning;}
var str="position: "+css_pos+"; ";var actualWindowWidthPixels=JQUERY_DIGIOH(window).width();var actualWindowHeightPixels=JQUERY_DIGIOH(window).height();var dims_box=getActualBoxWidthAndHeight(lid);str+="width: "+dims_box.width+"px; ";str+="height: "+dims_box.height+"px; ";str+="z-index: 9948030; ";str+=getResponsiveScale(lid);var pos=prop.position.split('-');var posx=pos[1];var posy=pos[0];var st=jqWin.scrollTop();if(css_pos==="fixed"){var offset_x=(Math.round(jqWin.width()/2)-Math.round(dims_box.width/2));var offset_y=(Math.round(jqWin.height()/2)-Math.round(dims_box.height/2));if(prop.hasOwnProperty('offset')&&prop.offset.hasOwnProperty('left')){if(prop.offset.left==0){offset_x=30;}
else if(prop.offset.left==10){offset_x=actualWindowWidthPixels-dims_box.width-30;}
else if(prop.offset.left<5){offset_x=(prop.offset.left/5)*((actualWindowWidthPixels/2)-Math.round(dims_box.width/2));}
else if(prop.offset.left>5){offset_x=((prop.offset.left-5)/5)*((actualWindowWidthPixels/2)-Math.round(dims_box.width/2))+(actualWindowWidthPixels/2)-Math.round(dims_box.width/2);}}
if(prop.hasOwnProperty('offset')&&prop.offset.hasOwnProperty('top')){if(prop.offset.top==0){offset_y=30;}
else if(prop.offset.top==10){offset_y=actualWindowHeightPixels-dims_box.height-30;}
else if(prop.offset.top<5){offset_y=(prop.offset.top/5)*((actualWindowHeightPixels/2)-Math.round(dims_box.height/2));}
else if(prop.offset.top>5){offset_y=((prop.offset.top-5)/5)*((actualWindowHeightPixels/2)-Math.round(dims_box.height/2))+(actualWindowHeightPixels/2)-Math.round(dims_box.height/2);}}
if(posx=='left')str+="left: 0px; ";else if(posx=='center')str+="left: "+offset_x+"px; ";else if(posx=='right')str+="left: "+Math.ceil(jqWin.width()-dims_box.width)+"px; ";if(posy=='top')str+="top: 0px; ";else if(posy=='center')str+="top: "+offset_y+"px; ";else if(posy=='bottom')str+="bottom: 0px; ";}else{if(posx=='left')str+="left: 0px; ";else if(posx=='center')str+="left: "+(Math.round(jqWin.width()/2)-Math.round(dims_box.width/2))+"px; ";else if(posx=='right')str+="left: "+Math.ceil(jqWin.width()-dims_box.width)+"px; ";if(posy=='top')str+="top: "+Math.ceil(st)+"px; ";else if(posy=='center')str+="top: "+(Math.ceil(st)+Math.round(jqWin.height()/2)-Math.round(dims_box.height/2))+"px; ";else if(posy=='bottom')str+="top: "+Math.ceil(st+jqWin.height()-dims_box.height)+"px; ";}
if(EFFECTS[lid]['sidebar'].hasOwnProperty('css')&&typeof EFFECTS[lid]['sidebar']['css']==='string'&&EFFECTS[lid]['sidebar']['css'].indexOf(':')>0){str+=EFFECTS[lid]['sidebar']['css'];}
return str;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getSidebarPositionAfterAnimation");}}
function setSidebarPositionBeforeClose(lid){try{var css_pos='fixed';var str="position: "+css_pos+"; ";var dom_id=getLightboxDomId(lid);var dom_ele=JQUERY_DIGIOH('#'+dom_id);var offset=dom_ele.offset();logger('setSidebarPositionBeforeClose ==> offset: ');logger(offset);var st=jqWin.scrollTop();var top=Math.ceil(offset.top-st)+'px';var left=Math.ceil(offset.left)+'px';logger('top: '+top+', left: '+left);dom_ele.css({'position':'fixed',"left":left,"top":top});}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setSidebarPositionBeforeClose");}}
function getSidebarPositionMobileFocused(prop,lid){try{var str="";str+="position: absolute; ";var dims_box=getActualBoxWidthAndHeight(lid);str+="width: "+dims_box.width+"px; ";str+="height: "+dims_box.height+"px; ";str+="z-index: 9948030; ";str+="left: 50%; margin-left: -"+Math.round(dims_box.width/2)+"px; ";str+=getResponsiveScale(lid);var top=JQUERY_DIGIOH(window).scrollTop();var m=getResponsiveScaleMultiplier(lid);if(m>1){top=top+((dims_box.height*m)-dims_box.height);}
else if(m<1){top=top-(dims_box.height-(dims_box.height*m));}
str+="top: "+top+'px;';if(EFFECTS[lid]['sidebar'].hasOwnProperty('css')&&typeof EFFECTS[lid]['sidebar']['css']==='string'&&EFFECTS[lid]['sidebar']['css'].indexOf(':')>0){str+=EFFECTS[lid]['sidebar']['css'];}
return str;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getSidebarPositionMobileFocused");}}
function getBannerPositionMobileFocused(prop,lid){try{var str="";str+="position: absolute; ";var dims_box=getActualBoxWidthAndHeight(lid);str+="width: "+dims_box.width+"px; ";str+="height: "+dims_box.height+"px; ";str+="z-index: 9948030; ";str+="left: 50%; margin-left: -"+Math.round(dims_box.width/2)+"px; ";str+=getResponsiveScale(lid);var top=JQUERY_DIGIOH(window).scrollTop();var m=getResponsiveScaleMultiplier(lid);if(m>1){top=top+((dims_box.height*m)-dims_box.height);}
else if(m<1){top=top-(dims_box.height-(dims_box.height*m));}
str+="top: "+top+'px;';if(EFFECTS[lid]['banner'].hasOwnProperty('css')&&typeof EFFECTS[lid]['banner']['css']==='string'&&EFFECTS[lid]['banner']['css'].indexOf(':')>0){str+=EFFECTS[lid]['banner']['css'];}
return str;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getBannerPositionMobileFocused");}}
function getOpenAnimation(prop,lbid){try{var css_pos='';if(prop.css_positioning=="fixed"&&isMobile()){css_pos=prop.css_positioning;}else{css_pos=prop.css_positioning;}
var pos=prop.position.split('-');var posx=pos[1];var posy=pos[0];var oa={};var actualWindowWidthPixels=JQUERY_DIGIOH(window).width();var actualWindowHeightPixels=JQUERY_DIGIOH(window).height();var dims_box=getActualBoxWidthAndHeight(lbid);var offset_x=(Math.round(actualWindowWidthPixels/2)+Math.round(dims_box.width/2));var offset_y=(Math.round(actualWindowHeightPixels/2)+Math.round(dims_box.height/2));if(prop.hasOwnProperty('offset')&&prop.offset.hasOwnProperty('left')){if(prop.offset.left==0&&prop.animation.open=="slideRight"){offset_x=dims_box.width+30;}
else if(prop.offset.left==0&&prop.animation.open=="slideLeft"){offset_x=actualWindowWidthPixels-45;}
else if(prop.offset.left==10&&prop.animation.open=="slideRight"){offset_x=actualWindowWidthPixels-30;}
else if(prop.offset.left==10&&prop.animation.open=="slideLeft"){offset_x=dims_box.width+15;}
else if(prop.offset.left<5&&prop.animation.open=="slideLeft"){offset_x=actualWindowWidthPixels-((prop.offset.left/5)*((actualWindowWidthPixels/2)-Math.round(dims_box.width/2)))-15;}
else if(prop.offset.left<5&&prop.animation.open=="slideRight"){offset_x=(prop.offset.left/5)*((actualWindowWidthPixels/2)-Math.round(dims_box.width/2))+dims_box.width;}
else if(prop.offset.left>5&&prop.animation.open=="slideLeft"){offset_x=(((10-prop.offset.left)/5)*((actualWindowWidthPixels/2)-Math.round(dims_box.width/2)))+dims_box.width-15;}
else if(prop.offset.left>5&&prop.animation.open=="slideRight"){offset_x=((prop.offset.left-5)/5)*((actualWindowWidthPixels/2)-Math.round(dims_box.width/2))+(actualWindowWidthPixels/2)+(dims_box.width/2);}}
if(prop.hasOwnProperty('offset')&&prop.offset.hasOwnProperty('top')){if(prop.offset.top==0&&prop.animation.open=="slideDown"){offset_y=dims_box.height+30;}
else if(prop.offset.top==0&&prop.animation.open=="slideUp"){offset_y=actualWindowHeightPixels-30;}
else if(prop.offset.top==10&&prop.animation.open=="slideDown"){offset_y=actualWindowHeightPixels-30;}
else if(prop.offset.top==10&&prop.animation.open=="slideUp"){offset_y=dims_box.height+30;}
else if(prop.offset.top<5&&prop.animation.open=="slideUp"){offset_y=actualWindowHeightPixels-((prop.offset.top/5)*((actualWindowHeightPixels/2)-Math.round(dims_box.height/2)))-15;}
else if(prop.offset.top<5&&prop.animation.open=="slideDown"){offset_y=(prop.offset.top/5)*((actualWindowHeightPixels/2)-Math.round(dims_box.height/2))+dims_box.height;}
else if(prop.offset.top>5&&prop.animation.open=="slideUp"){offset_y=(((10-prop.offset.top)/5)*((actualWindowHeightPixels/2)-Math.round(dims_box.height/2)))+dims_box.height-15;}
else if(prop.offset.top>5&&prop.animation.open=="slideDown"){offset_y=((prop.offset.top-5)/5)*((actualWindowHeightPixels/2)-Math.round(dims_box.height/2))+(actualWindowHeightPixels/2)+(dims_box.height/2);}}
if(css_pos==="fixed"){if(prop.animation.open=="slideUp"){if(posy=='top'){oa.top="-="+Math.ceil(actualWindowHeightPixels)+"px";}else if(posy=='center'){oa.top="-="+offset_y+"px";}else if(posy=='bottom'){oa.top="-="+Math.ceil(dims_box.height)+"px";}
return oa;}else if(prop.animation.open=="slideDown"){if(posy=='top'){oa.top="+="+Math.ceil(dims_box.height)+"px";}else if(posy=='center'){oa.top="+="+offset_y+"px";}else if(posy=='bottom'){oa.top="+="+Math.ceil(actualWindowHeightPixels)+"px";}
return oa;}
if(prop.animation.open=="slideRight"){if(posx=='left'){oa.left="+="+Math.ceil(dims_box.width)+"px";}else if(posx=='center'){oa.left="+="+offset_x+"px";}else if(posx=='right'){oa.left="+="+Math.ceil(actualWindowWidthPixels)+"px";}
return oa;}else if(prop.animation.open=="slideLeft"){if(posx=='left'){oa.left="-="+Math.ceil(actualWindowWidthPixels)+"px";}else if(posx=='center'){oa.left="-="+offset_x+"px";}else if(posx=='right'){oa.left="-="+Math.ceil(dims_box.width)+"px";}
return oa;}}else{var st=jqWin.scrollTop();if(prop.animation.open=="slideUp"){if(posy=='top'){oa.top="-="+Math.ceil(actualWindowHeightPixels)+"px";}else if(posy=='center'){oa.top="-="+Math.ceil((actualWindowHeightPixels/2)+(dims_box.height/2))+"px";}else if(posy=='bottom'){oa.top="-="+Math.ceil(dims_box.height)+"px";}
return oa;}else if(prop.animation.open=="slideDown"){if(posy=='top'){oa.top="+="+Math.ceil(dims_box.height)+"px";}else if(posy=='center'){oa.top="+="+Math.ceil((actualWindowHeightPixels/2)+(dims_box.height/2))+"px";}else if(posy=='bottom'){oa.top="+="+(Math.ceil(actualWindowHeightPixels))+"px";}
return oa;}
if(prop.animation.open=="slideRight"){if(posx=='left'){oa.left="+="+Math.ceil(dims_box.width)+"px";}else if(posx=='center'){oa.left="+="+Math.ceil((actualWindowWidthPixels/2)+(dims_box.width/2))+"px";}else if(posx=='right'){oa.left="+="+Math.ceil(actualWindowWidthPixels)+"px";}
return oa;}else if(prop.animation.open=="slideLeft"){if(posx=='left'){oa.left="-="+Math.ceil(actualWindowWidthPixels)+"px";}else if(posx=='center'){oa.left="-="+Math.ceil((actualWindowWidthPixels/2)+(dims_box.width/2))+"px";}else if(posx=='right'){oa.left="-="+Math.ceil(dims_box.width)+"px";}
return oa;}}
return false;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getOpenAnimation");}}
function getCloseAnimation(prop,lbid){try{var pos=prop.position.split('-');var posx=pos[1];var posy=pos[0];var ca={};var actualWindowWidthPixels=JQUERY_DIGIOH(window).width();var actualWindowHeightPixels=JQUERY_DIGIOH(window).height();var dims_box=getActualBoxWidthAndHeight(lbid);var dom_id=getLightboxDomId(lbid);var dom_ele=JQUERY_DIGIOH('#'+dom_id);var offset=dom_ele.offset();logger('getCloseAnimation ==> offset: ');var st=jqWin.scrollTop();var top=Math.ceil(offset.top-st);var left=Math.ceil(offset.left);logger('top: '+top+', left: '+left);if(prop.animation.close=="slideUp"){ca.top="-="+Math.ceil(top+dims_box.height)+"px";return ca;}else if(prop.animation.close=="slideDown"){ca.top="+="+Math.ceil(actualWindowHeightPixels-top)+"px";return ca;}else if(prop.animation.close=="slideRight"){ca.left="+="+Math.ceil(actualWindowWidthPixels-left)+"px";return ca;}else if(prop.animation.close=="slideLeft"){ca.left="-="+Math.ceil(left+dims_box.width)+"px";return ca;}
return false;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getCloseAnimation");}}
var isInlineLightbox=function(lid){try{if(lid.length<30){var boxShortId=lid;for(var lbguid in DIGIOH_LIGHTBOX_IDS){if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbguid)&&DIGIOH_LIGHTBOX_IDS[lbguid]==boxShortId){lid=lbguid;break;}}}
var idxArrAlways=JQUERY_DIGIOH.inArray(lid,DIGIOH_LIGHTBOX_INLINE_ALWAYS_ARR);var idxArrConditions=JQUERY_DIGIOH.inArray(lid,DIGIOH_LIGHTBOX_INLINE_CONDITIONS_ARR);return(idxArrAlways>=0||idxArrConditions>=0);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"isInlineLightbox");}}
function registerLightboxShow(lbid){try{var var_id='';var orig_lid=lbid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lbid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lbid];var_id=lbid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lbid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lbid];}
logger('DIGIOH: registerLightboxShow: '+lbid);addActiveBox(lbid);updateLightboxActivityView(orig_lid);analyticsLightboxDisplay(lbid);var af=false;if(var_id&&var_id.length>7&&EFFECTS.hasOwnProperty(var_id)&&EFFECTS[var_id].widget_type){if(EFFECTS[var_id].widget_type==="fancybox"){af=true;}
else if(EFFECTS[var_id].widget_type==="sidebar"&&EFFECTS[var_id].sidebar.position=='center-center'){af=true;}}
else if(EFFECTS.hasOwnProperty(orig_lid)&&EFFECTS[orig_lid].widget_type){if(EFFECTS[orig_lid].widget_type==="fancybox"){af=true;}
else if(EFFECTS[orig_lid].widget_type==="sidebar"&&EFFECTS[orig_lid].sidebar.position=='center-center'){af=true;}}
keepSendingEventNotificationToChildUntilReceived({sender:'lightbox',action:'after_lightbox_display',auto_focus:af},(var_id&&var_id.length>7?var_id:lbid),100,0);if(!IS_PREVIEW||IS_DEV){if(!isInlineLightbox(lbid)||doesInlineLightboxHaveCustomJsType(lbid,'display')||doesInlineLightboxHaveCustomJsType(lbid,'all')){runCustomJsLinkedApps('AfterDisplay',orig_lid,var_id);logger('JS_PARENT_APPS.runCustomJsOnLightboxDisplay - '+lbid);DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxDisplay(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_GLOBAL.runCustomJsOnLightboxDisplay - '+lbid);DIGIOH_CUSTOM_JS.runCustomJsOnLightboxDisplay(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_PARENT.runCustomJsOnLightboxDisplay - '+lbid);}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"registerLightboxShow");}}
function registerLightboxSubmit(lbid){try{var var_id='';var orig_lid=lbid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lbid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lbid];var_id=lbid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lbid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lbid];}
updateLightboxActivitySubmit(orig_lid);if(!IS_PREVIEW||IS_DEV){if(!isInlineLightbox(lbid)||doesInlineLightboxHaveCustomJsType(lbid,'submit')||doesInlineLightboxHaveCustomJsType(lbid,'all')){runCustomJsLinkedApps('AfterSubmit',orig_lid,var_id);logger('JS_PARENT_APPS.runCustomJsOnLightboxSubmit - '+lbid);DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxSubmit(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_GLOBAL.runCustomJsOnLightboxSubmit - '+lbid);DIGIOH_CUSTOM_JS.runCustomJsOnLightboxSubmit(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_PARENT.runCustomJsOnLightboxSubmit - '+lbid);}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"registerLightboxSubmit");}}
function registerLightboxRedirect(lbid){try{var var_id='';var orig_lid=lbid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lbid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lbid];var_id=lbid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lbid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lbid];}
updateLightboxActivityRedirect(orig_lid);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"registerLightboxRedirect");}}
function registerLightboxClose(lbid){try{var var_id='';var orig_lid=lbid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lbid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lbid];var_id=lbid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lbid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lbid];}
removeActiveBox(lbid);removeActiveBox(orig_lid);updateLightboxActivityClose(orig_lid);keepSendingEventNotificationToChildUntilReceived({sender:'lightbox',action:'after_lightbox_close'},(var_id&&var_id.length>7?var_id:lbid),100,0);if(!IS_PREVIEW||IS_DEV){if(!isInlineLightbox(lbid)||doesInlineLightboxHaveCustomJsType(lbid,'all')){runCustomJsLinkedApps('AfterClose',orig_lid,var_id);logger('JS_PARENT_APPS.runCustomJsOnLightboxClose - '+lbid);DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxClose(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_GLOBAL.runCustomJsOnLightboxClose - '+lbid);DIGIOH_CUSTOM_JS.runCustomJsOnLightboxClose(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_PARENT.runCustomJsOnLightboxClose - '+lbid);}}
logger('DIGIOH: checkLightboxMasterRules() called from registerLightboxClose() - '+orig_lid+', '+var_id);if(checkLightboxMasterRules()){if(effectsHasTeaserDisplayFancybox(lbid)&&EFFECTS[lbid].widget_type==="fancybox"){openTeaser(EFFECTS[lbid].fancybox.teaser,lbid);}else if(effectsHasTeaserDisplaySidebar(lbid)&&EFFECTS[lbid].widget_type==="sidebar"){openTeaser(EFFECTS[lbid].sidebar.teaser,lbid);}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"registerLightboxClose");}}
var registerAnalyticsManualRedirect=function(lbid){try{var var_id='';var orig_lid=lbid;if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(lbid)){orig_lid=DIGIOH_VARIATION_TO_BOX_MAP[lbid];var_id=lbid;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(lbid)){var_id=LIGHTBOX_TO_VARIATION_MAP[lbid];}
var ab_test_id='';if(var_id!=''&&AB_BOXES_TAKE_MAP.hasOwnProperty(var_id)){ab_test_id=AB_BOXES_TAKE_MAP[var_id];}else if(AB_BOXES_TAKE_MAP.hasOwnProperty(orig_lid)){ab_test_id=AB_BOXES_TAKE_MAP[orig_lid];}
keenLightboxRedirect(lbid);DIGIOH_LIGHTBOX_ANALYTICS.setLightboxEvent("redirect",orig_lid);analyticsRedirect(orig_lid,var_id,ab_test_id);if(!IS_PREVIEW||IS_DEV){if(!isInlineLightbox(lbid)||doesInlineLightboxHaveCustomJsType(lbid,'all')){runCustomJsLinkedApps('AfterRedirect',orig_lid,var_id);logger('JS_PARENT_APPS.runCustomJsOnLightboxRedirect - '+lbid);DIGIOH_CUSTOM_JS_SUPER.runCustomJsOnLightboxRedirect(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_GLOBAL.runCustomJsOnLightboxRedirect - '+lbid);DIGIOH_CUSTOM_JS.runCustomJsOnLightboxRedirect(window.DIGIOH_API,window,document,JQUERY_DIGIOH,orig_lid,var_id,getCustomJsMetadata(orig_lid));logger('JS_PARENT.runCustomJsOnLightboxRedirect - '+lbid);}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"registerAnalyticsManualRedirect");}}
function startIdleTimer(){try{JQUERY_DIGIOH.idleTimer(IDLE_PERIOD*1000);JQUERY_DIGIOH(document).bind("idle.idleTimer",function(){IDLE_TIME+=IDLE_PERIOD;IDLE_INTERVAL=iframewin.setInterval(idleTimerIncrement,1000);});JQUERY_DIGIOH(document).bind("active.idleTimer",function(){if(IDLE_INTERVAL!=0)iframewin.clearInterval(IDLE_INTERVAL);IDLE_INTERVAL=0;});TOTAL_INTERVAL=iframewin.setInterval(totalTimerIncrement,1000);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"startIdleTimer");}}
function idleTimerIncrement(){try{IDLE_TIME+=1;DIGIOH_LIGHTBOX_ANALYTICS.VARS.idle_time_seconds=IDLE_TIME;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"idleTimerIncrement");}}
function totalTimerIncrement(){try{TOTAL_TIME+=1;DIGIOH_LIGHTBOX_ANALYTICS.VARS.total_time_seconds=TOTAL_TIME;DIGIOH_LIGHTBOX_ANALYTICS.VARS.active_time_seconds=TOTAL_TIME-IDLE_TIME;if(TIME_BOXES_ARR.length>0){checkConditionsTime();}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"totalTimerIncrement");}}
function isStringAnInteger(str){if(!str||str.length==0)return false;return!isNaN(str);}
function stringEndsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1;}
function stringStartsWith(str,prefix){return str.indexOf(prefix)===0;}
function compareUrlEqualityWithAndWithoutTrailingSlash(urla,urlb){try{if(urla.toLowerCase()==urlb.toLowerCase())return true;if(urla.length>1&&stringEndsWith(urla,'/'))urla=urla.substr(0,urla.length-1);if(urlb.length>1&&stringEndsWith(urlb,'/'))urlb=urlb.substr(0,urlb.length-1);if(urla.toLowerCase()==urlb.toLowerCase())return true;else return false;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"compareUrlEqualityWithAndWithoutTrailingSlash");return false;}}
function compareUrlEndingWithAndWithoutTrailingSlash(url,suffix){try{if(stringEndsWith(url.toLowerCase(),suffix.toLowerCase()))return true;if(url.length>1&&stringEndsWith(url,'/'))url=url.substr(0,url.length-1);return stringEndsWith(url.toLowerCase(),suffix.toLowerCase());}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"compareUrlEndingWithAndWithoutTrailingSlash");return false;}}
function logger(msg,isJson){try{DIGIOH_API.log(msg);}
catch(e2){}}
var TEXT_ERROR_LOG_ARR=[];function logErrorText(function_name,msg){if(typeof DIGIOH_BUGSNAG!=='undefined'&&DIGIOH_BUGSNAG!==null){processStoredTextErrors();DIGIOH_BUGSNAG.notify("[DIGIOH_EXCEPTION_JS] "+function_name,msg);}else{TEXT_ERROR_LOG_ARR.push({msg:msg,fcn:function_name,processed:false});}
if(function_name&&function_name!="logger"){logger('ERROR:::: '+function_name+'() - '+msg);}}
function processStoredTextErrors(){if(TEXT_ERROR_LOG_ARR.length>0){for(var i=0;i<TEXT_ERROR_LOG_ARR.length;i++){if(!TEXT_ERROR_LOG_ARR[i].processed){DIGIOH_BUGSNAG.notify("[DIGIOH_EXCEPTION_JS] "+TEXT_ERROR_LOG_ARR[i].fcn,TEXT_ERROR_LOG_ARR[i].msg);TEXT_ERROR_LOG_ARR[i].processed=true;}}}}
function logError(e,function_name){if(function_name&&function_name!=="logger"){DIGIOH_API.logError('ERROR:::: '+function_name+'() - '+e.message);}
if(typeof DIGIOH_BUGSNAG!=='undefined'&&DIGIOH_BUGSNAG!==null){processStoredExceptions();DIGIOH_BUGSNAG.notifyException(e,"[DIGIOH_EXCEPTION_JS] (main.js) - "+function_name);}else{ERROR_LOG_TEMP_ARR.push({ex:e,fcn:("(main.js) - "+function_name),processed:false});}}
function processStoredExceptions(){if(ERROR_LOG_TEMP_ARR.length>0){for(var i=0;i<ERROR_LOG_TEMP_ARR.length;i++){if(!ERROR_LOG_TEMP_ARR[i].processed){DIGIOH_BUGSNAG.notifyException(ERROR_LOG_TEMP_ARR[i].ex,"[DIGIOH_EXCEPTION_JS] "+ERROR_LOG_TEMP_ARR[i].fcn);ERROR_LOG_TEMP_ARR[i].processed=true;}}}}
var addExistsSelector=function(selector){if(JQUERY_DIGIOH.inArray(selector,EXISTS_SELECTORS)==-1){EXISTS_SELECTORS.push(selector);buildConditionSelectorsToBoxesMap();initExistsSelectors();logger('addExistsSelector: '+selector);}};var removeExistsSelector=function(selector){var idx=JQUERY_DIGIOH.inArray(selector,EXISTS_SELECTORS);if(idx>-1){EXISTS_SELECTORS.splice(idx,1);if(CONDITION_SELECTOR_BOXES_MAP['exists'].hasOwnProperty(selector)){delete CONDITION_SELECTOR_BOXES_MAP['exists'][selector];}
buildConditionSelectorsToBoxesMap();initExistsSelectors();logger('removeExistsSelector: '+selector);}};var getExistsSelectors=function(){return EXISTS_SELECTORS;};var hasOpenLightboxes=function(){return LOADED_LIGHTBOXES.length>0;};var setLightboxID=function(lightbox_id){LIGHTBOX_GUID=lightbox_id;};function getIntFromStringOrIntOrDecimal(the_num){try{var out_num=0;if(typeof the_num==='undefined'||the_num===null||the_num===0||the_num===''){return 0;}
if(typeof the_num==='string'){the_num=the_num.trim();if(the_num.indexOf('.')===0){return 0;}else if(the_num.indexOf('.')>0){return getIntFromStringOrIntOrDecimal(the_num.split('.')[0].trim());}else{var parsed=parseInt(the_num.trim());if(isNaN(parsed)){return 0;}else{return Math.round(parsed);}}}
if(typeof the_num==='number'){return Math.round(the_num);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getIntFromStringOrIntOrDecimal");}
return the_num;}
var getActualBoxWidthAndHeight=function(lbid){try{var pref=getPagePref(lbid);var actualBoxWidthPixels=0;var actualBoxHeightPixels=0;if(EFFECTS[lbid].hasOwnProperty(pref+'responsive')&&EFFECTS[lbid][pref+'responsive'].use){actualBoxWidthPixels=getResponsiveBoxWidth(lbid);actualBoxHeightPixels=getResponsiveBoxHeight(lbid);FANCY_REPOSITION_LOCKED[lbid]=true;}else{actualBoxWidthPixels=getBoxWidth(lbid);actualBoxHeightPixels=getBoxHeight(lbid);}
return{width:actualBoxWidthPixels,height:actualBoxHeightPixels};}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getActualBoxWidthAndHeight");}
return{width:500,height:500};};var getBoxWidth=function(lbid){try{setPixelThreshold(lbid);var pref=getPagePref(lbid);if(EFFECTS.hasOwnProperty(lbid)&&EFFECTS[lbid].hasOwnProperty(pref+'width')&&EFFECTS[lbid][pref+'width']>0){return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'width']);}else{return getIntFromStringOrIntOrDecimal(EFFECTS[lbid].width);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getBoxWidth");}
return 600;};var getBoxHeight=function(lbid){try{setPixelThreshold(lbid);var pref=getPagePref(lbid);if(EFFECTS.hasOwnProperty(lbid)&&EFFECTS[lbid].hasOwnProperty(pref+'height')&&EFFECTS[lbid][pref+'height']>0){return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'height']);}else{return getIntFromStringOrIntOrDecimal(EFFECTS[lbid].height);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getBoxHeight");}
return 400;};var getResponsiveBoxWidth=function(lbid){try{var widthWin=JQUERY_DIGIOH(window).width();var widthPct=getResponsiveBoxWidthPercent(lbid);var widthActual=Math.round(widthWin*widthPct/100);if(DIGIOH_USE_RESPONSIVE){var widthMax=getResponsiveBoxWidthMax(lbid);if(widthActual>widthMax){widthActual=widthMax;}
var widthMin=getResponsiveBoxWidthMin(lbid);if(widthActual<widthMin){widthActual=widthMin;}}
return widthActual;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getResponsiveBoxWidth");}
return 50;};var getResponsiveBoxHeight=function(lbid){try{if(!DIGIOH_USE_RESPONSIVE){return getBoxHeight(lbid);}
var heightWin=JQUERY_DIGIOH(window).height();var heightPct=getResponsiveBoxHeightPercent(lbid);var heightActual=Math.round(heightWin*heightPct/100);if(DIGIOH_USE_RESPONSIVE){var heightMax=getResponsiveBoxHeightMax(lbid);if(heightActual>heightMax){heightActual=heightMax;}
var heightMin=getResponsiveBoxHeightMin(lbid);if(heightActual<heightMin){heightActual=heightMin;}}
return heightActual;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getResponsiveBoxHeight");}
return 50;};var getResponsiveBoxWidthPercent=function(lbid){try{setPixelThreshold(lbid);if(!DIGIOH_USE_RESPONSIVE)
return 100;var pref=getPagePref(lbid);if(EFFECTS[lbid].hasOwnProperty(pref+'responsive'))
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'responsive'].box_width);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getResponsiveBoxWidthPercent");}
return 100;};var getResponsiveBoxHeightPercent=function(lbid){try{setPixelThreshold(lbid);if(!DIGIOH_USE_RESPONSIVE)
return 100;var pref=getPagePref(lbid);if(EFFECTS[lbid].hasOwnProperty(pref+'responsive'))
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'responsive'].box_height);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getResponsiveBoxHeightPercent");}
return 35;};var getResponsiveBoxWidthMax=function(lbid){try{setPixelThreshold(lbid);var pref=getPagePref(lbid);if(EFFECTS[lbid].hasOwnProperty(pref+'responsive')&&EFFECTS[lbid][pref+'responsive'].use&&DIGIOH_USE_RESPONSIVE)
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'responsive'].width_max);else if(EFFECTS[lbid].hasOwnProperty(pref+'responsive')&&EFFECTS[lbid][pref+'responsive'].use&&!DIGIOH_USE_RESPONSIVE)
return 10000;else if(EFFECTS[lbid].hasOwnProperty(pref+'width'))
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'width']);else
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid].width);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getResponsiveBoxWidthMax");}
return 1000;};var getResponsiveBoxHeightMax=function(lbid){try{setPixelThreshold(lbid);var pref=getPagePref(lbid);if(EFFECTS[lbid].hasOwnProperty(pref+'responsive')&&DIGIOH_USE_RESPONSIVE)
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'responsive'].height_max);else if(EFFECTS[lbid].hasOwnProperty(pref+'height'))
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'height']);else
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid].height);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getResponsiveBoxHeightMax");}
return 600;};var getResponsiveBoxWidthMin=function(lbid){try{setPixelThreshold(lbid);var pref=getPagePref(lbid);if(EFFECTS[lbid].hasOwnProperty(pref+'responsive')&&DIGIOH_USE_RESPONSIVE)
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'responsive'].width_min);else if(EFFECTS[lbid].hasOwnProperty(pref+'width'))
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'width']);else
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid].width);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getResponsiveBoxWidthMin");}
return 50;};var getResponsiveBoxHeightMin=function(lbid){try{setPixelThreshold(lbid);var pref=getPagePref(lbid);if(EFFECTS[lbid].hasOwnProperty(pref+'responsive')&&DIGIOH_USE_RESPONSIVE)
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'responsive'].height_min);else if(EFFECTS[lbid].hasOwnProperty(pref+'height'))
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid][pref+'height']);else
return getIntFromStringOrIntOrDecimal(EFFECTS[lbid].height);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getResponsiveBoxHeightMin");}
return 50;};var closeAllOpenLightboxes=function(guid){try{if(DIGIOH_LIGHTBOX_IDS){for(var lbguid in DIGIOH_LIGHTBOX_IDS){if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(lbguid)&&isActiveBox(lbguid)&&(typeof guid==='undefined'||!guid||guid===lbguid)){if(EFFECTS[lbguid]['widget_type']==='fancybox'){IS_LIGHTBOX_CLOSING[lbguid]=true;JQUERY_DIGIOH.fb_lightbox.close();}else if(EFFECTS[lbguid]['widget_type']==='sidebar'){closeSidebar(lbguid);}else if(EFFECTS[lbguid]['widget_type']==='banner'){closeBanner(lbguid);}}}
logger('closeAllOpenLightboxes_2');}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"closeAllOpenLightboxes");}};var sendMessageToIframe=function(obj,lid){try{if(document.getElementById('lightbox-iframe-'+lid)!==null&&document.getElementById('lightbox-iframe-'+lid).contentWindow&&typeof document.getElementById('lightbox-iframe-'+lid).contentWindow.receiveMessageFromParent==='function'){document.getElementById('lightbox-iframe-'+lid).contentWindow.receiveMessageFromParent(obj);logger('sendMessageToIframe (success): '+lid);return true;}else{return false;}}catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logger('sendMessageToIframe - child not ready: '+lid);return false;}};var receiveMessageFromIframe=function(obj,lid){if(obj&&obj.hasOwnProperty('message')){logger(obj.message);}
if(lid&&obj&&obj.hasOwnProperty('sender')&&obj.sender==='lightbox'){processPostMessage(obj,lid);}else if(lid&&obj){}else{logger('receiveMessageFromIframe ERROR - not all parameters were set correctly');}};var relayMessageToIframe=function(obj,lid_source,lid_target){if(obj&&lid_source&&lid_target&&lid_source!=lid_target&&document.getElementById('lightbox-iframe-'+lid_source)!==null&&document.getElementById('lightbox-iframe-'+lid_target)!==null&&CHILD_READY.hasOwnProperty(lid_target)&&CHILD_READY[lid_target]==true){document.getElementById('lightbox-iframe-'+lid_target).contentWindow.receiveMessageFromIframe(obj,lid_source,lid_target);}else{logger('relayMessageToIframe - child not ready: '+lid_target);}};var getUrlParam=function(name,urlOverride){try{if(!name)
return null;var url=parent.location.href;if(typeof urlOverride==='string'&&urlOverride.indexOf('http')===0)
url=urlOverride;if(!url||!DIGIOH_API.contains(url,'?'))
return null;var qs=url.split('?')[1];if(!qs||!DIGIOH_API.contains(qs,name+'='))
return null;var val='';var foundVal=false;if(DIGIOH_API.contains(qs,'&')){var parts=qs.split('&');for(var i=0;i<parts.length;i++){if(parts[i].indexOf(name+'=')===0){val=parts[i].split(name+'=')[1];foundVal=true;break;}}}else if(qs.indexOf(name+'=')===0){val=qs.split(name+'=')[1];foundVal=true;}
if(!foundVal)
return null;if(DIGIOH_API.contains(val,'%'))
return decodeURIComponent(val);return val;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
return null;}};var isPhone=function(){try{if(typeof DIGIOH_LIGHTBOX_ANALYTICS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS!==null&&DIGIOH_LIGHTBOX_ANALYTICS.hasOwnProperty('VARS')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS.VARS!==null){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.hasOwnProperty('DeviceAtlas')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas==='object'){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.hasOwnProperty('isMobilePhone')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isMobilePhone!==''){return DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isMobilePhone;}
if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.hasOwnProperty('primaryHardwareType')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.primaryHardwareType!==''){return(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.primaryHardwareType==='Mobile Phone');}}
if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.device){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.device==='Phone/Tablet'){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.hasOwnProperty('device_apple')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.device_apple){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.device_apple.toLowerCase()==='iphone'){return true;}else{return false;}}else{return true;}}else{return false;}}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"isPhone");}
return '';}
var isTablet=function(){try{if(typeof DIGIOH_LIGHTBOX_ANALYTICS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS!==null&&DIGIOH_LIGHTBOX_ANALYTICS.hasOwnProperty('VARS')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS.VARS!==null){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.hasOwnProperty('DeviceAtlas')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas==='object'){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.hasOwnProperty('isTablet')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isTablet!==''){return DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.isTablet;}
if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.hasOwnProperty('primaryHardwareType')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.primaryHardwareType!==''){return(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.primaryHardwareType==='Tablet');}}
if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.device){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.device==='Phone/Tablet'){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.hasOwnProperty('device_apple')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.device_apple){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.device_apple.toLowerCase()==='ipad'){return true;}else{return false;}}else{return true;}}else{return false;}}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"isTablet");}
return '';}
var isMobile=function(){try{if(typeof DIGIOH_LIGHTBOX_ANALYTICS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS!==null&&DIGIOH_LIGHTBOX_ANALYTICS.hasOwnProperty('VARS')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS.VARS!==null){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.hasOwnProperty('DeviceAtlas')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas==='object'){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.hasOwnProperty('mobileDevice')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.mobileDevice!==''){return DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.mobileDevice;}}
if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.device&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.device==='Phone/Tablet'){return true;}}
return(isPhone()||isTablet());}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"isMobile");}
return '';}
var isiOs=function(){try{if(typeof DIGIOH_LIGHTBOX_ANALYTICS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS!==null&&DIGIOH_LIGHTBOX_ANALYTICS.hasOwnProperty('VARS')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS.VARS!==null){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.hasOwnProperty('DeviceAtlas')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas==='object'){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.hasOwnProperty('osiOs')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osiOs!==''){return DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osiOs;}}
if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.device&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.device==='Phone/Tablet'){return true;}}
return(isPhone()||isTablet());}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"isiOs");}
return '';}
var isAndroid=function(){try{if(typeof DIGIOH_LIGHTBOX_ANALYTICS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS!==null&&DIGIOH_LIGHTBOX_ANALYTICS.hasOwnProperty('VARS')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS.VARS!==null){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.hasOwnProperty('DeviceAtlas')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas==='object'){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.hasOwnProperty('osAndroid')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osAndroid!==''){return DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.osAndroid;}}
if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.device&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.device==='Phone/Tablet'){return true;}}
return(isPhone()||isTablet());}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"isAndroid");}
return '';}
var isDesktop=function(){try{if(typeof DIGIOH_LIGHTBOX_ANALYTICS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS!==null&&DIGIOH_LIGHTBOX_ANALYTICS.hasOwnProperty('VARS')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS==='object'&&DIGIOH_LIGHTBOX_ANALYTICS.VARS!==null){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.hasOwnProperty('DeviceAtlas')&&typeof DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas==='object'){if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.hasOwnProperty('primaryHardwareType')&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.DeviceAtlas.primaryHardwareType==='Desktop'){return true;}}
if(DIGIOH_LIGHTBOX_ANALYTICS.VARS.device&&DIGIOH_LIGHTBOX_ANALYTICS.VARS.device==='Desktop/Laptop'){return true;}}
return(!isPhone()&&!isTablet());}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"isDesktop");}
return '';}
var isDigiohReady=function(){return DIGIOH_IS_READY;}
DIGIOH_API.GET_ANALYTICS=function(){return DIGIOH_LIGHTBOX_ANALYTICS;}
DIGIOH_API.GET_KEEN_SCHEMA=function(){return KEEN_SCHEMA;}
DIGIOH_API.GET_KEEN_CLIENT=function(){return KEEN_CLIENT;}
DIGIOH_API.GET_KEEN_CLIENT_2=function(){return KEEN_CLIENT_2;}
DIGIOH_API.GET_EFFECTS=function(lbid){if(EFFECTS.hasOwnProperty(lbid)){return EFFECTS[lbid];}else{return null;}}
DIGIOH_API.GET_SETTINGS=function(lbid){if(typeof DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS==='object'&&DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS!==null&&DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS.hasOwnProperty(lbid)){return DIGIOH_API.DIGIOH_LIGHTBOX_SETTINGS[lbid];}else{return null;}}
DIGIOH_API.formatLogMessage=function(msg,caller){try{if(typeof caller==='string'&&caller.length>0)
caller=caller+' -- ';else
caller='';if(typeof msg==='string'&&msg.indexOf('DIGIOH:')!==0&&msg.indexOf('POST')===-1){return 'DIGIOH: '+caller+msg;}else if(typeof msg==='object'&&msg!==null){return caller+JSON.stringify(msg,undefined,2);}else if(typeof msg!=='undefined'&&msg!==null){return caller+msg;}else{return '';}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
return msg;}}
DIGIOH_API.logStream=false;DIGIOH_API.logArray=[];DIGIOH_API.tryShowError=function(e){try{if(typeof e=='undefined'||e==null){e={};}
return DIGIOH_API.logStream;}
catch(e){console.log('ERROR_LOG',e);}}
DIGIOH_API.log=function(msg,caller){try{if(typeof caller!=='string')
caller='';if(DIGIOH_API.logStream&&typeof console!=="undefined")
console.log(DIGIOH_API.formatLogMessage(msg,caller));else
DIGIOH_API.logArray.push(DIGIOH_API.formatLogMessage(msg,caller));}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}}}
DIGIOH_API.logErrorStream=false;DIGIOH_API.logErrorArray=[];DIGIOH_API.logError=function(msg){try{if(DIGIOH_API.logErrorStream&&typeof console!=="undefined"){if(typeof msg==='string'&&msg.indexOf('ERROR::::')!==0){console.log('ERROR:::: '+msg);}else if(typeof msg==='object'&&msg!==null){console.log('ERROR:::: '+JSON.stringify(msg,undefined,2));}else if(typeof msg!=='undefined'&&msg!==null){console.log(msg);}}else{if(typeof msg==='string'&&msg.indexOf('ERROR::::')!==0){DIGIOH_API.logErrorArray.push('ERROR:::: '+msg);DIGIOH_API.logArray.push('ERROR:::: '+msg);}else if(typeof msg==='object'&&msg!==null){DIGIOH_API.logErrorArray.push('ERROR:::: '+JSON.stringify(msg,undefined,2));DIGIOH_API.logArray.push('ERROR:::: '+JSON.stringify(msg,undefined,2));}else if(typeof msg!=='undefined'&&msg!==null){DIGIOH_API.logErrorArray.push(msg);DIGIOH_API.logArray.push(msg);}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}}}
DIGIOH_API.logErrorFromBox=function(e,function_name){try{if(function_name&&function_name!=="logger")
DIGIOH_API.logError('BOX.'+function_name+'() - '+e.message);else
DIGIOH_API.logError('BOX - '+e.message);if(typeof DIGIOH_BUGSNAG!=='undefined'&&DIGIOH_BUGSNAG!==null){processStoredExceptions();DIGIOH_BUGSNAG.notifyException(e,"[DIGIOH_EXCEPTION_JS] (lightbox_builder.js) - "+function_name);}else{ERROR_LOG_TEMP_ARR.push({ex:e,fcn:("(lightbox_builder.js) - "+function_name),processed:false});}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}}}
DIGIOH_API.logErrorFromAnalytics=function(e,function_name){try{if(function_name&&function_name!=="logger")
DIGIOH_API.logError('ANALYTICS.'+function_name+'() - '+e.message);else
DIGIOH_API.logError('ANALYTICS - '+e.message);if(typeof DIGIOH_BUGSNAG!=='undefined'&&DIGIOH_BUGSNAG!==null){processStoredExceptions();DIGIOH_BUGSNAG.notifyException(e,"[DIGIOH_EXCEPTION_JS] (analytics.js) - "+function_name);}else{ERROR_LOG_TEMP_ARR.push({ex:e,fcn:("(analytics.js) - "+function_name),processed:false});}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}}}
DIGIOH_API.logErrorFromCustomJsParent=function(e,function_name){try{if(function_name&&function_name!=="logger")
DIGIOH_API.logError('PARENT_JS.'+function_name+'() - '+e.message);else
DIGIOH_API.logError('PARENT_JS - '+e.message);if(typeof DIGIOH_BUGSNAG!=='undefined'&&DIGIOH_BUGSNAG!==null){processStoredExceptions();DIGIOH_BUGSNAG.notifyException(e,"[DIGIOH_EXCEPTION_JS] - "+function_name);}else{ERROR_LOG_TEMP_ARR.push({ex:e,fcn:function_name,processed:false});}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}}};DIGIOH_API.print=function(pattern){if(typeof pattern!=='string'||pattern==='')
pattern='CUSTOM_JS_';if(typeof console!=="undefined"){DIGIOH_API.logStream=true;if(typeof pattern==='string'&&pattern!==''&&pattern!=='all'){var n=0;for(var i=0;i<DIGIOH_API.logArray.length;i++){if(typeof DIGIOH_API.logArray[i]==='string'&&DIGIOH_API.logArray[i].indexOf(pattern)>=0){console.log(DIGIOH_API.logArray[i]);n++;}}
if(pattern.indexOf('CUSTOM_JS')===0){console.log(n+' Total Messages Printed.  New messages will now stream automatically to the console.  Use the "printAll()" function to see more runtime details.');}}else{for(var i=0;i<DIGIOH_API.logArray.length;i++){console.log(DIGIOH_API.logArray[i]);}
console.log(DIGIOH_API.logArray.length+' Total Messages Printed.  New messages will now stream automatically to the console...');}}};const PRINT_ALL_FLAG_NAME="printAllCalled";DIGIOH_API.printAll=function(){try{if(window&&window.localStorage&&!window.localStorage.getItem(PRINT_ALL_FLAG_NAME))window.localStorage.setItem(PRINT_ALL_FLAG_NAME,"true");}catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"printAll");}
DIGIOH_API.print('all');};DIGIOH_API.trySessionPrint=function(){try{if(window&&window.localStorage&&window.localStorage.getItem(PRINT_ALL_FLAG_NAME))DIGIOH_API.printAll();}catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"trySessionPrint");}}
DIGIOH_API.printErrors=function(){if(typeof console!=="undefined"){DIGIOH_API.logErrorStream=true;for(var i=0;i<DIGIOH_API.logErrorArray.length;i++){console.log(DIGIOH_API.logErrorArray[i]);}
console.log(DIGIOH_API.logErrorArray.length+' Total Errors Printed');}};DIGIOH_API.printConditionsOutput=printConditionsOutput;if(typeof DIGIOH_DYNAMIC_BOXES!=='undefined')
DIGIOH_API.DIGIOH_DYNAMIC_BOXES=DIGIOH_DYNAMIC_BOXES;else
DIGIOH_API.DIGIOH_DYNAMIC_BOXES=[];if(typeof COUPON_GROUP_POPULATE_OBJ!=='undefined')
DIGIOH_API.COUPON_GROUP_POPULATE_OBJ=COUPON_GROUP_POPULATE_OBJ;else
DIGIOH_API.COUPON_GROUP_POPULATE_OBJ={};DIGIOH_API.GoogleAnalytics={};DIGIOH_API.GoogleAnalytics.num_checks=0;DIGIOH_API.GoogleAnalytics.tracker=false;DIGIOH_API.GoogleAnalytics.is_ga_classic=false;DIGIOH_API.GoogleAnalytics.is_ga_universal=false;DIGIOH_API.GoogleAnalytics.is_new_diuid=false;DIGIOH_API.GoogleAnalytics.tryInitGADigioh=tryInitGADigioh;DIGIOH_API.GoogleAnalytics.sendGAEvent=sendGAEvent;DIGIOH_API.GoogleAnalytics.uaIdManual='';DIGIOH_API.sendGAEvent=function(category,action,label,obj){if(typeof obj==='object'&&obj){if(!obj.hasOwnProperty('uaId')||!obj.uaId||typeof obj.uaId!=='string')
obj.uaId=DIGIOH_API.GoogleAnalytics.uaIdManual;if((!obj.hasOwnProperty('val')||!obj.val)&&obj.val!==0)
obj.val='';if(!obj.hasOwnProperty('nonInteraction'))
obj.nonInteraction=true;if(typeof obj.nonInteraction==='number'){if(obj.nonInteraction===0)obj.nonInteraction=false;else obj.nonInteraction=true;}
if(typeof obj.nonInteraction!=='boolean')
obj.nonInteraction=true;DIGIOH_API.GoogleAnalytics.sendGAEvent(category,action,label,obj.val,{'nonInteraction':obj.nonInteraction},obj.uaId);}
else{DIGIOH_API.GoogleAnalytics.sendGAEvent(category,action,label,'',{'nonInteraction':true},DIGIOH_API.GoogleAnalytics.uaIdManual);}};DIGIOH_API.setGATracker=function(uaId){if(typeof uaId==='string')
DIGIOH_API.GoogleAnalytics.uaIdManual=uaId;};DIGIOH_API.sendGADisplayEvent=function(obj){if(typeof obj==='object'&&obj&&obj.hasOwnProperty('lightbox_name')){var label=obj.lightbox_name;if(obj.hasOwnProperty('is_variation')&&obj.is_variation&&obj.variation_name)
label+='['+obj.variation_name+']';DIGIOH_API.sendGAEvent('Digioh','Display',label);}};DIGIOH_API.sendGASubmitEvent=function(obj){if(typeof obj==='object'&&obj&&obj.hasOwnProperty('lightbox_name')){var label=obj.lightbox_name;if(obj.hasOwnProperty('is_variation')&&obj.is_variation&&obj.variation_name)
label+='['+obj.variation_name+']';DIGIOH_API.sendGAEvent('Digioh','Submit',label);}};DIGIOH_API.sendGARedirectEvent=function(obj){if(typeof obj==='object'&&obj&&obj.hasOwnProperty('lightbox_name')){var label=obj.lightbox_name;if(obj.hasOwnProperty('is_variation')&&obj.is_variation&&obj.variation_name)
label+='['+obj.variation_name+']';DIGIOH_API.sendGAEvent('Digioh','Redirect',label);}};DIGIOH_API.sendGACloseEvent=function(obj){if(typeof obj==='object'&&obj&&obj.hasOwnProperty('lightbox_name')){var label=obj.lightbox_name;if(obj.hasOwnProperty('is_variation')&&obj.is_variation&&obj.variation_name)
label+='['+obj.variation_name+']';DIGIOH_API.sendGAEvent('Digioh','Close',label);}};DIGIOH_API.LIGHTBOX={};DIGIOH_API.LIGHTBOX.loadLightbox=loadLightbox;DIGIOH_API.LIGHTBOX.closeSidebar=closeSidebar;DIGIOH_API.LIGHTBOX.closeBanner=closeBanner;DIGIOH_API.LIGHTBOX.closeInline=closeInline;DIGIOH_API.LIGHTBOX.closeAllInlineForms=closeAllInlineForms;DIGIOH_API.LIGHTBOX.getLightboxDomId=getLightboxDomId;DIGIOH_API.LIGHTBOX.getActiveLightboxDomId=getActiveLightboxDomId;DIGIOH_API.LIGHTBOX.cloneObj=cloneObj;DIGIOH_API.LIGHTBOX.isPhone=isPhone;DIGIOH_API.LIGHTBOX.isTablet=isTablet;DIGIOH_API.LIGHTBOX.isMobile=isMobile;DIGIOH_API.LIGHTBOX.isDesktop=isDesktop;DIGIOH_API.LIGHTBOX.isiOs=isiOs;DIGIOH_API.LIGHTBOX.isAndroid=isAndroid;DIGIOH_API.LIGHTBOX.getActualBoxWidthAndHeight=getActualBoxWidthAndHeight;DIGIOH_API.LIGHTBOX.getBoxWidth=getBoxWidth;DIGIOH_API.LIGHTBOX.getBoxHeight=getBoxHeight;DIGIOH_API.LIGHTBOX.getResponsiveBoxWidth=getResponsiveBoxWidth;DIGIOH_API.LIGHTBOX.getResponsiveBoxHeight=getResponsiveBoxHeight;DIGIOH_API.LIGHTBOX.getResponsiveBoxWidthPercent=getResponsiveBoxWidthPercent;DIGIOH_API.LIGHTBOX.getResponsiveBoxHeightPercent=getResponsiveBoxHeightPercent;DIGIOH_API.LIGHTBOX.getResponsiveBoxWidthMax=getResponsiveBoxWidthMax;DIGIOH_API.LIGHTBOX.getResponsiveBoxHeightMax=getResponsiveBoxHeightMax;DIGIOH_API.LIGHTBOX.getResponsiveBoxWidthMin=getResponsiveBoxWidthMin;DIGIOH_API.LIGHTBOX.getResponsiveBoxHeightMin=getResponsiveBoxHeightMin;DIGIOH_API.LIGHTBOX.responsiveResizeCheck=responsiveResizeCheck;DIGIOH_API.LIGHTBOX.sendMessageToIframe=sendMessageToIframe;DIGIOH_API.LIGHTBOX.receiveMessageFromIframe=receiveMessageFromIframe;DIGIOH_API.LIGHTBOX.relayMessageToIframe=relayMessageToIframe;DIGIOH_API.LIGHTBOX.setLightboxID=setLightboxID;DIGIOH_API.LIGHTBOX.hasOpenLightboxes=hasOpenLightboxes;DIGIOH_API.LIGHTBOX.closeAllOpenLightboxes=closeAllOpenLightboxes;DIGIOH_API.LIGHTBOX.initExistsSelectors=initExistsSelectors;DIGIOH_API.LIGHTBOX.recheckExistsSelectors=recheckExistsSelectors;DIGIOH_API.LIGHTBOX.addExistsSelector=addExistsSelector;DIGIOH_API.LIGHTBOX.removeExistsSelector=removeExistsSelector;DIGIOH_API.LIGHTBOX.getExistsSelectors=getExistsSelectors;DIGIOH_API.LIGHTBOX.checkConditions=checkConditions;DIGIOH_API.LIGHTBOX.checkConditionsClick=checkConditionsClick;DIGIOH_API.LIGHTBOX.checkConditionsHover=checkConditionsHover;DIGIOH_API.LIGHTBOX.checkConditionsScroll=checkConditionsScroll;DIGIOH_API.LIGHTBOX.checkConditionsExit=checkConditionsExit;DIGIOH_API.LIGHTBOX.checkConditionsLoad=checkConditionsLoad;DIGIOH_API.LIGHTBOX.checkConditionsTime=checkConditionsTime;DIGIOH_API.LIGHTBOX.isInlineLightbox=isInlineLightbox;DIGIOH_API.LIGHTBOX.embedInlineLightboxForm=embedInlineLightboxForm;DIGIOH_API.LIGHTBOX.reDisplayInlineForm=reDisplayInlineForm;DIGIOH_API.LIGHTBOX.onInfiniteScrollPageChanged=onInfiniteScrollPageChanged;DIGIOH_API.LIGHTBOX.onPageUrlChanged=onPageUrlChanged;DIGIOH_API.LIGHTBOX.isDigiohReady=isDigiohReady;DIGIOH_API.LIGHTBOX.customJsOnDocumentReadyCallback=customJsOnDocumentReadyCallback;DIGIOH_API.LIGHTBOX.analyticsRunAfterIdentify=analyticsRunAfterIdentify;DIGIOH_API.LIGHTBOX.getUrlParam=getUrlParam;DIGIOH_API.LIGHTBOX.getUrlParameter=getUrlParam;DIGIOH_API.LIGHTBOX.getClientGuid=getClientGuid;DIGIOH_API.LIGHTBOX.generateGuid=generateGuid;DIGIOH_API.LIGHTBOX.generateGuidWithTimestamp=generateGuidWithTimestamp;DIGIOH_API.LIGHTBOX.keenLightboxDebug=keenLightboxDebug;DIGIOH_API.LIGHTBOX.registerAnalyticsManualRedirect=registerAnalyticsManualRedirect;DIGIOH_API.LIGHTBOX.runJquerySelectorGenerator=runJquerySelectorGenerator;DIGIOH_API.LIGHTBOX.setBoxToScrollMode=setBoxToScrollMode;DIGIOH_API.LIGHTBOX.INTEGRATION_MAP={};DIGIOH_API.LIGHTBOX.AB_BOXES_TAKE_MAP=AB_BOXES_TAKE_MAP;DIGIOH_API.LIGHTBOX.AB_BOXES_SKIP_MAP=AB_BOXES_SKIP_MAP;DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH=JQUERY_DIGIOH;DIGIOH_API.LIGHTBOX.DIGIOH_KEEN_WRITE_KEY=DIGIOH_KEEN_WRITE_KEY;DIGIOH_API.LIGHTBOX.KEEN_CLIENT=KEEN_CLIENT;DIGIOH_API.LIGHTBOX.LZString=LZString;DIGIOH_API.LIGHTBOX.DIGIOH_BUGSNAG=DIGIOH_BUGSNAG;DIGIOH_API.LIGHTBOX.DIGIOH_COOKIE=DIGIOH_COOKIE;DIGIOH_API.LIGHTBOX.DIGIOH_LOCAL_STORAGE=DIGIOH_LOCAL_STORAGE;DIGIOH_API.LIGHTBOX.DIGIOH_STORAGE=DIGIOH_STORAGE;DIGIOH_API.LIGHTBOX.USE_LZ=(typeof USE_LZ==='undefined'||USE_LZ==true);DIGIOH_API.COMM={};DIGIOH_API.getCookie=function(name,obj){return DIGIOH_COOKIE.getEncoded(name);};DIGIOH_API.getCookieLZString=function(name,obj){return DIGIOH_COOKIE.get(name,false);};DIGIOH_API.getCookieBase64=function(name,obj){try{var b64=DIGIOH_COOKIE.getEncoded(name);if(b64!=null&&typeof b64==='string'&&b64!=''&&typeof atob==='function'){var decodedVal=atob(b64);return decodedVal;}
else{return b64;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getCookieBase64");return DIGIOH_COOKIE.getEncoded(name);}};DIGIOH_API.setCookie=function(name,value,obj){try{var expirationDays=365;if(typeof obj==='object'&&obj!==null&&obj.hasOwnProperty('expirationDays'))
expirationDays=obj.expirationDays;if(typeof expirationDays==='string')
expirationDays=parseFloat(expirationDays);DIGIOH_COOKIE.trySet(name,value,false,expirationDays);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setCookie");}};DIGIOH_API.setCookieLZString=function(name,value,obj){try{var expirationDays=365;if(typeof obj==='object'&&obj!==null&&obj.hasOwnProperty('expirationDays'))
expirationDays=obj.expirationDays;if(typeof expirationDays==='string')
expirationDays=parseFloat(expirationDays);DIGIOH_COOKIE.trySet(name,value,true,expirationDays);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setCookieLZString");}};DIGIOH_API.setCookieBase64=function(name,value,obj){try{var expirationDays=365;if(typeof obj==='object'&&obj!==null&&obj.hasOwnProperty('expirationDays'))
expirationDays=obj.expirationDays;if(typeof expirationDays==='string')
expirationDays=parseFloat(expirationDays);DIGIOH_COOKIE.trySet(name,btoa(value),false,expirationDays);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setCookieBase64");}};DIGIOH_API.deleteCookie=function(name,obj){DIGIOH_COOKIE.erase(name);};DIGIOH_API.getUrlParameter=function(name,obj){return DIGIOH_API.LIGHTBOX.getUrlParameter(name);};DIGIOH_API.getCurrentUrl=function(obj){return window.location.href;};DIGIOH_API.getHostname=function(obj){return window.location.host;};DIGIOH_API.getPagePath=function(obj){return window.location.pathname;};DIGIOH_API.getQueryString=function(obj){return window.location.search;};DIGIOH_API.getUrlHash=function(obj){return window.location.hash;};DIGIOH_API.getLandingPageUrl=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.landing_page;};DIGIOH_API.getReferrer=function(obj){return document.referrer;};DIGIOH_API.getLandingPageReferrer=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.referring_website_url;};DIGIOH_API.getClientIpAddress=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.ip_address;};DIGIOH_API.getClientContinentCode=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.continent;};DIGIOH_API.getClientContinentName=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.continent_name;};DIGIOH_API.getClientCountryCode=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.country;};DIGIOH_API.getClientCountryName=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.country_name;};DIGIOH_API.getClientCountryISO=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.country;};DIGIOH_API.isClientInEU=function(obj){return DIGIOH_API.getClientContinentCode==='EU'||DIGIOH_API.getClientContinentName==='Europe';};DIGIOH_API.getClientRegionOrStateCode=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.state;};DIGIOH_API.getClientRegionOrStateName=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.region_name;};DIGIOH_API.getClientCity=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.city;};DIGIOH_API.getClientPostalCode=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.zipcode;};DIGIOH_API.getOperatingSystem=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.operating_system;};DIGIOH_API.getBrowserType=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.browser_type;};DIGIOH_API.getBrowserVersion=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.browser_version;};DIGIOH_API.getDeviceType=function(){return DIGIOH_API.GET_ANALYTICS().VARS.device;};DIGIOH_API.getTrafficSource=function(){return DIGIOH_API.GET_ANALYTICS().VARS.web_source;};DIGIOH_API.getSearchEngineSource=function(){return DIGIOH_API.GET_ANALYTICS().VARS.search_engine;};DIGIOH_API.getTotalPageViews=function(){return DIGIOH_API.GET_ANALYTICS().VARS.page_visits;};DIGIOH_API.getTotalSessions=function(){return DIGIOH_API.GET_ANALYTICS().VARS.past_visits;};DIGIOH_API.isPreview=function(obj){return IS_PREVIEW;};DIGIOH_API.isQaMode=function(){return(DIGIOH_API.getQueryString().indexOf('boxqamode')>-1||sessionStorage.getItem('xdibx_boxqamode')==1);};DIGIOH_API.turnOffQAMode=function(){sessionStorage.removeItem('xdibx_boxqamode');if(window.location.href.indexOf("boxqamode")>-1){window.location.href=window.location.href.replace("boxqamode",'');}
else{window.location.reload();}};DIGIOH_API.turnOnQAMode=function(){sessionStorage.setItem('xdibx_boxqamode',1);window.location.reload();};DIGIOH_API.isMobile=function(obj){return DIGIOH_API.LIGHTBOX.isMobile();};DIGIOH_API.isTablet=function(obj){return DIGIOH_API.LIGHTBOX.isTablet();};DIGIOH_API.isDesktop=function(obj){return DIGIOH_API.LIGHTBOX.isDesktop();};DIGIOH_API.isIOS=function(obj){return DIGIOH_API.LIGHTBOX.isiOs();};DIGIOH_API.isAndroid=function(obj){return DIGIOH_API.LIGHTBOX.isAndroid();};DIGIOH_API.isNewSession=function(obj){return DIGIOH_API.GET_ANALYTICS().IsNewSession;};DIGIOH_API.isNewVisitor=function(obj){return DIGIOH_API.GET_ANALYTICS().IsNewVisitor;};DIGIOH_API.getPagesNavigatedAllTime=function(obj){return DIGIOH_API.GET_ANALYTICS().VARS.PagesNavigated;};DIGIOH_API.getDaysSinceLastPageview=function(obj){try{var timestamp=new Date().getTime();var diff=Math.floor((timestamp-DIGIOH_API.GET_ANALYTICS().PreviousPageviewTs)/(1000*60*60*24));return diff;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getDaysSinceLastPageview");return 0;}};DIGIOH_API.getAccountId=function(obj){return DIGIOH_VENDOR_SHORT_ID;};DIGIOH_API.getAccountGuid=function(obj){return DIGIOH_VENDOR_GUID;};DIGIOH_API.getClientId=function(obj){return CLIENT_GUID;};DIGIOH_API.closeAllBoxes=function(){try{DIGIOH_API.LIGHTBOX.closeAllOpenLightboxes();}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"closeAllBoxes");}};DIGIOH_API.closeBox=function(boxId){try{boxId=DIGIOH_API.getBoxGUID(boxId);if(!boxId)
DIGIOH_API.LIGHTBOX.closeAllOpenLightboxes();else
DIGIOH_API.LIGHTBOX.closeAllOpenLightboxes(boxId);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"closeBox");}};DIGIOH_API.openBox=function(boxId){try{boxId=DIGIOH_API.getBoxGUID(boxId);if(boxId){DIGIOH_API.log("loadLightbox: DIGIOH_API.openBox, "+boxId);DIGIOH_API.LIGHTBOX.loadLightbox(boxId);}
else{DIGIOH_API.log('DIGIOH_API.openBox ==> boxId parameter is required!');}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"openBox");}};DIGIOH_API.addBoxIntegration=function(boxId,integrationId){try{if(boxId&&boxId.length<20)
boxId=DIGIOH_API.getBoxGUID(boxId);if(!boxId){DIGIOH_API.log('DIGIOH_API.addBoxIntegration ==> boxId parameter is required!');return;}
if(!integrationId||(typeof integrationId==='string'&&integrationId.indexOf('-')>0)){DIGIOH_API.log('DIGIOH_API.addBoxIntegration ==> integrationId parameter is required!  It should be the short id value of the integration.');return;}
if(typeof integrationId!=='string')
integrationId=integrationId.toString();if(!DIGIOH_API.LIGHTBOX.INTEGRATION_MAP.hasOwnProperty(boxId)){DIGIOH_API.LIGHTBOX.INTEGRATION_MAP[boxId]=integrationId;DIGIOH_API.log('DIGIOH_API.addBoxIntegration ==> (BOX #'+boxId+') - Added integration_id '+integrationId+' to INTEGRATION_MAP');DIGIOH_API.log(DIGIOH_API.LIGHTBOX.INTEGRATION_MAP);}
else if(DIGIOH_API.LIGHTBOX.INTEGRATION_MAP[boxId].indexOf(integrationId)===-1){if(DIGIOH_API.LIGHTBOX.INTEGRATION_MAP[boxId].length>1){DIGIOH_API.LIGHTBOX.INTEGRATION_MAP[boxId]+=',';}
DIGIOH_API.LIGHTBOX.INTEGRATION_MAP[boxId]+=integrationId;DIGIOH_API.log('DIGIOH_API.addBoxIntegration ==> (BOX #'+boxId+') - Added integration_id '+integrationId+' to INTEGRATION_MAP');DIGIOH_API.log(DIGIOH_API.LIGHTBOX.INTEGRATION_MAP);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"addBoxIntegration");}};DIGIOH_API.removeBoxIntegration=function(boxId,integrationId){try{boxId=DIGIOH_API.getBoxGUID(boxId);if(!boxId){DIGIOH_API.log('DIGIOH_API.removeBoxIntegration ==> boxId parameter is required!');return;}
if(!integrationId||(typeof integrationId==='string'&&integrationId.indexOf('-')>0)){DIGIOH_API.log('DIGIOH_API.removeBoxIntegration ==> integrationId parameter is required!  It should be the short id value of the integration.');return;}
if(typeof integrationId!=='string')
integrationId=integrationId.toString();if(DIGIOH_API.LIGHTBOX.INTEGRATION_MAP.hasOwnProperty(boxId)&&DIGIOH_API.LIGHTBOX.INTEGRATION_MAP[boxId].indexOf(integrationId)>=0){DIGIOH_API.LIGHTBOX.INTEGRATION_MAP[boxId]=DIGIOH_API.LIGHTBOX.INTEGRATION_MAP[boxId].replace(','+integrationId,'').replace(integrationId+',','').replace(integrationId,'');DIGIOH_API.log('DIGIOH_API.removeBoxIntegration ==> (BOX #'+boxId+') - Removed integration_id '+integrationId+' from INTEGRATION_MAP');DIGIOH_API.log(DIGIOH_API.LIGHTBOX.INTEGRATION_MAP);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"removeBoxIntegration");}};DIGIOH_API.resetBoxIntegrations=function(boxId){try{boxId=DIGIOH_API.getBoxGUID(boxId);if(!boxId){DIGIOH_API.log('DIGIOH_API.resetBoxIntegrations ==> boxId parameter is required!');return;}
if(DIGIOH_API.LIGHTBOX.INTEGRATION_MAP.hasOwnProperty(boxId)){delete DIGIOH_API.LIGHTBOX.INTEGRATION_MAP[boxId];}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"resetBoxIntegrations");}};DIGIOH_API.getBoxType=function(boxId){try{boxId=DIGIOH_API.getBoxGUID(boxId);if(!boxId){DIGIOH_API.log('DIGIOH_API.getBoxType ==> boxId parameter is required!');return '';}
if(!DIGIOH_API.GET_EFFECTS(boxId)){DIGIOH_API.log('DIGIOH_API.getBoxType ==> boxId '+boxId+' not found in EFFECTS object!');return '';}
if(DIGIOH_API.GET_EFFECTS(boxId).widget_type==='sidebar'&&DIGIOH_API.GET_EFFECTS(boxId).sidebar.hasOwnProperty('is_converted_lightbox')&&DIGIOH_API.GET_EFFECTS(boxId).sidebar.is_converted_lightbox)
return 'lightbox';if(DIGIOH_API.GET_EFFECTS(boxId).widget_type==='fancybox')
return 'lightbox';return DIGIOH_API.GET_EFFECTS(boxId).widget_type;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getBoxType");return '';}};DIGIOH_API.getBoxGUID=function(boxIDorGUID){try{if(!boxIDorGUID){DIGIOH_API.log('DIGIOH_API.getBoxGUID ==> boxIDorGUID parameter is required!');return '';}
if(typeof boxIDorGUID!=='string')
boxIDorGUID=boxIDorGUID.toString();if(boxIDorGUID.indexOf('-')>0&&boxIDorGUID.length>30)
return boxIDorGUID;var boxShortID=boxIDorGUID;for(var guid in DIGIOH_LIGHTBOX_IDS){if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(guid)&&DIGIOH_LIGHTBOX_IDS[guid].toString()===boxShortID){return guid;}}
return '';}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getBoxGUID");return '';}};DIGIOH_API.getBoxID=function(boxIDorGUID){try{if(!boxIDorGUID){DIGIOH_API.log('DIGIOH_API.getBoxID ==> boxIDorGUID parameter is required!');return '';}
if(typeof boxIDorGUID!=='string')
boxIDorGUID=boxIDorGUID.toString();if(boxIDorGUID.indexOf('-')<0&&boxIDorGUID.length<30)
return boxIDorGUID;var boxGUID=boxIDorGUID;if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(boxGUID)){return DIGIOH_LIGHTBOX_IDS[boxGUID].toString();}
return '';}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getBoxID");return '';}};DIGIOH_API.getBoxIDFromBoxOrVariation=function(boxIDorGUID){try{if(!boxIDorGUID){DIGIOH_API.log('DIGIOH_API.getBoxIDFromBoxOrVariation ==> boxIDorGUID parameter is required!');return '';}
if(typeof boxIDorGUID!=='string')
boxIDorGUID=boxIDorGUID.toString();if(boxIDorGUID.indexOf('-')<0&&boxIDorGUID.length<30){var boxShortID=boxIDorGUID;for(var guid in DIGIOH_LIGHTBOX_IDS){if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(guid)&&DIGIOH_LIGHTBOX_IDS[guid].toString()===boxShortID){if(guid.indexOf('var-')!==0){return boxShortID;}
else{boxIDorGUID=guid;break;}}}}
var boxGUID=boxIDorGUID;var isVariation=false;var parentBoxGUID=boxGUID;var variationGUID='';if(DIGIOH_VARIATION_TO_BOX_MAP.hasOwnProperty(boxGUID)){variationGUID=boxGUID;parentBoxGUID=DIGIOH_VARIATION_TO_BOX_MAP[boxGUID];isVariation=true;}else if(LIGHTBOX_TO_VARIATION_MAP.hasOwnProperty(boxGUID)){variationGUID=LIGHTBOX_TO_VARIATION_MAP[boxGUID];parentBoxGUID=boxGUID;isVariation=true;boxGUID=variationGUID;}
if(DIGIOH_LIGHTBOX_IDS.hasOwnProperty(parentBoxGUID)){return DIGIOH_LIGHTBOX_IDS[parentBoxGUID].toString();}
return '';}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getBoxIDFromBoxOrVariation");return '';}};DIGIOH_API.isCaptchaEnabled=function(boxIDorGUID){try{if(typeof DIGIOH_API.ICE_BOXES!=='string'){DIGIOH_API.log('DIGIOH_API.ICE_BOXES ==> undefined');return false;}
if(!boxIDorGUID){DIGIOH_API.log('DIGIOH_API.isCaptchaEnabled ==> boxIDorGUID parameter is required!');return false;}
if(typeof boxIDorGUID!=='string')
boxIDorGUID=boxIDorGUID.toString();var boxGUID=DIGIOH_API.getBoxGUID(boxIDorGUID);return DIGIOH_API.ICE_BOXES.indexOf('|'+boxGUID+'|')>=0;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"isCaptchaEnabled");return '';}};DIGIOH_API.isValidEmail=function(email,obj){try{if(typeof email!=='string'||email.indexOf('@')<=0){DIGIOH_API.log('DIGIOH_API.isValidEmail ==> email parameter is required!');return false;}
var emailParts=email.split('@'),emailName=emailParts[0],emailDomain=emailParts[1],emailDomainParts=emailDomain.split('.'),validChars='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ.0123456789_-+',validCharsBasic='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_';var valid_email_regex=/\S+@\S+\.\S+/;if(!valid_email_regex.test(email)){DIGIOH_API.log('DIGIOH_API.isValidEmail ==> Failed regex format test');return false;}
if(emailParts.length!==2){DIGIOH_API.log('DIGIOH_API.isValidEmail ==> Wrong number of @ signs');return false;}
if(emailName.length<1||emailDomain.length<3){DIGIOH_API.log('DIGIOH_API.isValidEmail ==> Wrong number of characters before or after @ sign');return false;}
if(emailDomain.indexOf('.')<=0){DIGIOH_API.log('DIGIOH_API.isValidEmail ==> Domain must include but not start with .');return false;}
if(email.indexOf(',')>=0||email.indexOf("'")>=0||email.indexOf('`')>=0||email.indexOf('"')>=0||email.indexOf(' ')>=0){DIGIOH_API.log('DIGIOH_API.isValidEmail ==> Email must exclude most special characters');return false;}
if(validCharsBasic.indexOf(emailName.substr(emailName.length-1))<0){DIGIOH_API.log('DIGIOH_API.isValidEmail ==> no special chars immediately before @ symbol');return false;}
if(validCharsBasic.indexOf(emailDomain.substr(0,1))<0){DIGIOH_API.log('DIGIOH_API.isValidEmail ==> no special chars immediately after @ symbol');return false;}
if(validCharsBasic.indexOf(emailName.substr(0,1))<0){DIGIOH_API.log('DIGIOH_API.isValidEmail ==> Email must not start with special chars');return false;}
if(emailDomainParts[emailDomainParts.length-1].length<2){DIGIOH_API.log('DIGIOH_API.isValidEmail ==> Domains last . should be 2 chars or more from the end');return false;}
if(emailName.indexOf(' ')>0||emailDomain.indexOf(' ')>0||emailName.indexOf('..')>=0||emailDomain.indexOf('..')>=0){DIGIOH_API.log('DIGIOH_API.isValidEmail ==> Found extra spaces or chained periods');return false;}
return true;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"isValidEmail");return false;}};DIGIOH_API.writeCustomFlag=function(flagId,obj){try{if(!flagId){DIGIOH_API.log('DIGIOH_API.writeCustomFlag ==> flagId parameter is required!');return;}
DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH('body').append('<div id="'+flagId+'" class="box_custom_flag"></div>');}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"writeCustomFlag");}};DIGIOH_API.reload=function(obj){try{var url='';var sendPvEvent=true;var updatePvVars=true;var useMasterRules=true;var recalculateAbTests=false;if(obj&&typeof obj==='object'&&obj.hasOwnProperty('url'))
url=obj.url;if(obj&&typeof obj==='object'&&obj.hasOwnProperty('sendPvEvent'))
sendPvEvent=obj.sendPvEvent;if(obj&&typeof obj==='object'&&obj.hasOwnProperty('updatePvVars'))
updatePvVars=obj.updatePvVars;if(obj&&typeof obj==='object'&&obj.hasOwnProperty('useMasterRules'))
useMasterRules=obj.useMasterRules;if(obj&&typeof obj==='object'&&obj.hasOwnProperty('recalculateAbTests'))
recalculateAbTests=obj.recalculateAbTests;DIGIOH_API.LIGHTBOX.onPageUrlChanged(url,sendPvEvent,updatePvVars,useMasterRules,recalculateAbTests);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"reload");}};DIGIOH_API.enableReloadOnUrlChange=function(obj){DIGIOH_API.CURRENT_PAGE_URL=DIGIOH_API.CURRENT_PAGE_URL||window.location.href;var sendPvEvent=true;var updatePvVars=true;var useMasterRules=true;var recalculateAbTests=false;var checkIntervalMillis=500;try{if(obj&&typeof obj==='object'&&obj.hasOwnProperty('sendPvEvent'))
sendPvEvent=obj.sendPvEvent;if(obj&&typeof obj==='object'&&obj.hasOwnProperty('updatePvVars'))
updatePvVars=obj.updatePvVars;if(obj&&typeof obj==='object'&&obj.hasOwnProperty('useMasterRules'))
useMasterRules=obj.useMasterRules;if(obj&&typeof obj==='object'&&obj.hasOwnProperty('recalculateAbTests'))
recalculateAbTests=obj.recalculateAbTests;if(obj&&typeof obj==='object'&&obj.hasOwnProperty('checkIntervalMillis')&&typeof obj.checkIntervalMillis==='number')
checkIntervalMillis=obj.checkIntervalMillis;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"enableReloadOnUrlChange ");}
function checkReloadDigiohOnUrlChange(){try{if(window.location.href!=DIGIOH_API.CURRENT_PAGE_URL){DIGIOH_API.CURRENT_PAGE_URL=window.location.href;DIGIOH_API.LIGHTBOX.closeAllInlineForms();DIGIOH_API.LIGHTBOX.closeAllOpenLightboxes();DIGIOH_API.LIGHTBOX.onPageUrlChanged(DIGIOH_API.CURRENT_PAGE_URL,sendPvEvent,updatePvVars,useMasterRules,recalculateAbTests);DIGIOH_CUSTOM_JS.log('enableReloadOnUrlChange  - Lightbox_Page_URL_Changed_SUCCESS: '+DIGIOH_API.CURRENT_PAGE_URL);}}
catch(e){DIGIOH_API.log('enableReloadOnUrlChange  - Lightbox_Page_URL_Changed_ERROR ==> '+DIGIOH_API.CURRENT_PAGE_URL);DIGIOH_API.log(e.message);}}
DIGIOH_API.enableReloadOnUrlChangeInterval=setInterval(function(){checkReloadDigiohOnUrlChange();},checkIntervalMillis);checkReloadDigiohOnUrlChange();};DIGIOH_API.isReady=function(obj){return DIGIOH_API.LIGHTBOX.isDigiohReady();};DIGIOH_API.logEvent=function(data,options){try{if(DIGIOH_API.CONFIG.REGION!=='US'||DIGIOH_API.CONFIG.LOG_BASE_URL.indexOf('skipendpoint')>=0){DIGIOH_API.log('DIGIOH_API.logEvent ==> will not run for accounts that are based outside the US!');return;}
if(!data||typeof data!=='object'){DIGIOH_API.log('DIGIOH_API.logEvent ==> data param is required!');return;}
updateKeenSchemaBeforeSending();var ev={};ev.geoip=KEEN_SCHEMA.geoip;ev.device_atlas=KEEN_SCHEMA.device_atlas;ev.entry_point=KEEN_SCHEMA.entry_point;ev.referrer_url=document.referrer;ev.current_url=document.location.href;ev.cache_version=DIGIOH_CACHE_VERSION;ev.is_preview=IS_PREVIEW;ev.client_id=CLIENT_GUID;ev.event_id=generateGuidWithTimestamp();ev.user_id=DIGIOH_API.getAccountId();ev.user_guid=DIGIOH_API.getAccountGuid();ev.page_total_time=TOTAL_TIME;ev.page_active_time=TOTAL_TIME-IDLE_TIME;ev.page_idle_time=IDLE_TIME;var dt=(new Date()).getTime();if(!options||typeof options!=='object')
options={};if(!options.hasOwnProperty('group'))
options.group='default';var isExpDefault=false;if(!options.hasOwnProperty('exp')){options.exp=dt+(72*60*60*1000);isExpDefault=true;}
try{if(typeof options.exp==='string'&&(options.exp.indexOf('/')>0||options.exp.indexOf('-')>0||options.exp.indexOf('.')>0))
options.exp=Date.parse(options.exp);}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
options.exp=dt+(72*60*60*1000);isExpDefault=true;logError(err,"DIGIOH_API.logEvent.Date.parse(options.exp)");}
var opt={};try{var localOptions=localStorage.getItem('__d_widget_logs');if(typeof localOptions==='string'&&localOptions.length>7){opt=JSON.parse(LZString.decompressFromBase64(localOptions));if(opt.hasOwnProperty(options.group)&&opt[options.group].hasOwnProperty('exp')&&isExpDefault){options.exp=opt[options.group]['exp'];}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(err,"DIGIOH_API.logEvent.localOptions");}
opt[options.group]={};opt[options.group]['exp']=options.exp;localStorage.setItem('__d_widget_logs',LZString.compressToBase64(JSON.stringify(opt)));if(dt>options.exp){DIGIOH_API.log('DIGIOH_API.logEvent ==> Log event suppressed.  Log group ('+options.group+') expired on '+new Date(options.exp));return;}
DIGIOH_API.log('DIGIOH_API.logEvent ==> Log event sent!  Log group ('+options.group+') expires on '+new Date(options.exp));ev.options_group=options.group;ev.options_exp=options.exp;var event_schema=mergeObjectData(ev,data);if(DIGIOH_API.CONFIG.REGION=='US'||DIGIOH_API.CONFIG.LOG_BASE_URL.indexOf('skipendpoint')<0){var img=new Image();img.src=(DIGIOH_API.CONFIG.LOG_BASE_URL+'/Keen/LgEv?u='+DIGIOH_API.getAccountId()+'&k='+encodeURIComponent(DIGIOH_KEEN_WRITE_KEY)+'&p='+encodeURIComponent(LZString.compressToBase64(JSON.stringify(event_schema))));}}
catch(e)
{if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"logEvent");}};DIGIOH_API.getBrowserLanguages=getBrowserLanguages;DIGIOH_API.trim=function(str){try{return str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'');}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"trim");return str;}};DIGIOH_API.contains=function(obj,val){try{if(typeof obj==='undefined'||obj===null){return false;}
if(typeof obj==='string'){return obj.indexOf(val)>=0;}
if(DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH.isArray(obj)){return DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH.inArray(val,obj)>=0;}
return false;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"contains");return false;}};DIGIOH_API.remove=function(obj,valToRemove){try{if(typeof obj==='undefined'||obj===null){return obj;}
if(typeof obj==='string'&&obj.indexOf(valToRemove)>=0){obj=obj.split(valToRemove).join('');}
else if(DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH.isArray(obj)){obj=DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH.grep(obj,function(v){return valToRemove!=v;});}
return obj;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"remove");return obj;}};DIGIOH_API.hideUrlParameter=function(key){try{if(typeof key!=='string'||!key)
return;if(top.location.search.indexOf(key+'=')>=0){var qre=new RegExp('[\?&]'+key+'=[^&]+','gi');top.history.replaceState(null,null,top.location.protocol+'//'+top.location.host+top.location.pathname+top.location.search.replace(qre,'').replace(/^&/,'?'));}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"hideUrlParameter");}};DIGIOH_API.getDataLayerValue=function(key,box_id){try{if(typeof key!=='string'||!key)
return null;var curr=DIGIOH_LOCAL_STORAGE.getManual('fsdbx');if(typeof curr!=='object'||!curr)
return null;if(typeof box_id==='number')
box_id=box_id.toString();if(typeof box_id==='string'&&box_id.length>2){var box_short_id=DIGIOH_API.getBoxID(box_id);if(!curr.hasOwnProperty(box_short_id)||typeof curr[box_short_id]!=='object'||curr[box_short_id]===null||!curr[box_short_id].hasOwnProperty(key))
return null;return curr[box_short_id][key];}
else if(curr.hasOwnProperty(key)){return curr[key];}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getDataLayerValue");}
return null;};DIGIOH_API.setDataLayerValue=function(key,val,box_id){try{if(typeof key!=='string'||!key)
return;var curr=DIGIOH_LOCAL_STORAGE.getManual('fsdbx');if(typeof curr!=='object'||!curr)
curr={};if(typeof box_id==='number')
box_id=box_id.toString();if(typeof box_id==='string'&&box_id.length>2){var box_short_id=DIGIOH_API.getBoxID(box_id);if(!curr.hasOwnProperty(box_short_id)||typeof curr[box_short_id]!=='object'||curr[box_short_id]===null)
curr[box_short_id]={};curr[box_short_id][key]=val;DIGIOH_LOCAL_STORAGE.setManual('fsdbx',curr);}
else{curr[key]=val;DIGIOH_LOCAL_STORAGE.setManual('fsdbx',curr);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setDataLayerValue");}};DIGIOH_API.removeDataLayerValue=function(key,box_id){try{if(typeof key!=='string'||!key)
return;var curr=DIGIOH_LOCAL_STORAGE.getManual('fsdbx');if(typeof curr!=='object'||!curr)
return;if(typeof box_id==='number')
box_id=box_id.toString();if(typeof box_id==='string'&&box_id.length>2){var box_short_id=DIGIOH_API.getBoxID(box_id);if(!curr.hasOwnProperty(box_short_id)||typeof curr[box_short_id]!=='object'||curr[box_short_id]===null||!curr[box_short_id].hasOwnProperty(key))
return;delete curr[box_short_id][key];DIGIOH_LOCAL_STORAGE.setManual('fsdbx',curr);}
else if(curr.hasOwnProperty(key)){delete curr[key];DIGIOH_LOCAL_STORAGE.setManual('fsdbx',curr);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"removeDataLayerValue");}};DIGIOH_API.getDataLayer=function(box_id){try{var curr=DIGIOH_LOCAL_STORAGE.getManual('fsdbx');if(typeof curr!=='object'||!curr)
return{};if(typeof box_id==='number')
box_id=box_id.toString();if(typeof box_id==='string'&&box_id.length>2){var box_short_id=DIGIOH_API.getBoxID(box_id);if(!curr.hasOwnProperty(box_short_id)||typeof curr[box_short_id]!=='object'||curr[box_short_id]===null)
return{};return curr[box_short_id];}
else{return curr;}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getDataLayer");}
return{};};DIGIOH_API.setDataLayer=function(obj,box_id){try{if(typeof obj!=='object'||!obj)
return;var curr=DIGIOH_LOCAL_STORAGE.getManual('fsdbx');if(typeof curr!=='object'||!curr)
curr={};if(typeof box_id==='number')
box_id=box_id.toString();if(typeof box_id==='string'&&box_id.length>2){var box_short_id=DIGIOH_API.getBoxID(box_id);if(!curr.hasOwnProperty(box_short_id)||typeof curr[box_short_id]!=='object'||curr[box_short_id]===null)
curr[box_short_id]={};for(var prop in obj){if(obj.hasOwnProperty(prop)){curr[box_short_id][prop]=obj[prop];}}
DIGIOH_LOCAL_STORAGE.setManual('fsdbx',curr);}
else{for(var prop in obj){if(obj.hasOwnProperty(prop)){curr[prop]=obj[prop];}}
DIGIOH_LOCAL_STORAGE.setManual('fsdbx',curr);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"setDataLayer");}};DIGIOH_API.clearDataLayer=function(box_id){try{if(typeof box_id==='number')
box_id=box_id.toString();if(typeof box_id==='string'&&box_id.length>2){var curr=DIGIOH_LOCAL_STORAGE.getManual('fsdbx');if(typeof curr!=='object'||!curr)
curr={};var box_short_id=DIGIOH_API.getBoxID(box_id);curr[box_short_id]={};DIGIOH_LOCAL_STORAGE.setManual('fsdbx',curr);}
else{curr={};DIGIOH_LOCAL_STORAGE.setManual('fsdbx',curr);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"clearDataLayer");}};DIGIOH_API.getFormData=function(box_id){try{if(typeof box_id==='number')
box_id=box_id.toString();var box_short_id=DIGIOH_API.getBoxID(box_id).toString();if(DIGIOH_API.LIGHTBOX.hasOwnProperty('SINGLE_PAGE_FORM_DATA')&&DIGIOH_API.LIGHTBOX.SINGLE_PAGE_FORM_DATA&&DIGIOH_API.LIGHTBOX.SINGLE_PAGE_FORM_DATA.hasOwnProperty(box_short_id)){return DIGIOH_API.LIGHTBOX.SINGLE_PAGE_FORM_DATA[box_short_id];}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getFormData");}
return null;};DIGIOH_API.getWidgetMetadata=function(box_id,key){try{if(typeof box_id!=='string'&&typeof box_id!=='number')
return null;var box_guid=DIGIOH_API.getBoxGUID(box_id);if(!box_guid||box_guid.length<20)
return null;var box_effects=DIGIOH_API.GET_EFFECTS(box_guid);if(box_effects&&box_effects.widget_type&&box_effects[box_effects.widget_type]&&box_effects[box_effects.widget_type].metadata_kvps){if(typeof key!=='string'||!key)
return box_effects[box_effects.widget_type].metadata_kvps;for(var i=0;i<box_effects[box_effects.widget_type].metadata_kvps.length;i++){if(box_effects[box_effects.widget_type].metadata_kvps[i].k===key)
return box_effects[box_effects.widget_type].metadata_kvps[i].v;}}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getWidgetMetadata");}
return null;};DIGIOH_API.getAccountMetadata=function(key){try{if((typeof key==='undefined'||key===null||!key)&&typeof ACCOUNT_METADATA==='object')
return ACCOUNT_METADATA;if(typeof key==='string'&&key.length>0&&typeof ACCOUNT_METADATA==='object'&&ACCOUNT_METADATA!==null&&ACCOUNT_METADATA.hasOwnProperty(key))
return ACCOUNT_METADATA[key];}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getAccountMetadata");}
return null;};DIGIOH_API.getMVTestGroups=function(){const testIds=[];for(const testObj of DIGIOH_SPLIT_TESTS_ARR){const splitShortId=testObj.split_short_id;const splitGuid=testObj.split_guid;if(testObj.test_type=='multivariate'){let testId=splitShortId+'-';const inTestBoxGuids=testObj.box_guids.split(',');for(const inTestBoxGuid of inTestBoxGuids){if(api.LIGHTBOX.AB_BOXES_TAKE_MAP[inTestBoxGuid]==splitGuid){testId+=api.getBoxID(inTestBoxGuid);testIds.push(testId);break;}}
if(/-$/.test(testId))throw new Error('Could not find box in test');}}
return testIds;}
DIGIOH_API.get$=function(){try{return DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH;}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"get$");}
return null;};DIGIOH_API.reset=function(){try{DIGIOH_API.clearDataLayer();DIGIOH_COOKIE.erase('xdibx');localStorage.removeItem('fsdbx');localStorage.removeItem('xdibx');localStorage.removeItem('xdibx_pgsnavurls');}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"reset");}};DIGIOH_API.resetAll=function(){try{DIGIOH_API.reset();localStorage.clear();var cookies=window.parent.document.cookie.split(";");for(var i=0;i<cookies.length;i++){DIGIOH_COOKIE.erase(cookies[i].split("=")[0]);}}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"resetAll");}};DIGIOH_API.getClientTimeZone=function(){try{return DIGIOH_API.GET_ANALYTICS().VARS.time_zone||'';}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getClientTimeZone");}
return '';};DIGIOH_API.getLongitude=function(){try{return DIGIOH_API.GET_ANALYTICS().VARS.longitude||'';}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getLongitude");}
return '';};DIGIOH_API.getLatitude=function(){try{return DIGIOH_API.GET_ANALYTICS().VARS.latitude||'';}
catch(e){if(DIGIOH_API.tryShowError(e)){e.message='DIGIOH_ERROR: user.js -- '+e.message;console.error(e);}
logError(e,"getLatitude");}
return '';};DIGIOH_API.downloadQuizResultsTable=function(){var currentdate=new Date();var datetime=currentdate.getFullYear()+"_"+(currentdate.getMonth()+1)+"_"+currentdate.getDate()+"_"
+currentdate.getHours()+"_"+currentdate.getMinutes()+"_"+currentdate.getSeconds();var filename='Quiz_Results_Account'+DIGIOH_API.getAccountId()+'_'+datetime;var html="<html><head><style id='quiz_test_styles' type='text/css'>"+DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH('#quiz_test_styles').html()+"</style></head><body><div id='quiz_test_results'>"+DIGIOH_API.LIGHTBOX.JQUERY_DIGIOH('#quiz_test_results').html()+"</div></body></html>";var pom=document.createElement('a');pom.setAttribute('href','data:text/html;charset=utf-8,'+encodeURIComponent(html));pom.setAttribute('download',filename);if(document.createEvent){var event=document.createEvent('MouseEvents');event.initEvent('click',true,true);pom.dispatchEvent(event);}
else{pom.click();}};DIGIOH_API.DIGIOH_LIGHTBOX_IDS=DIGIOH_LIGHTBOX_IDS;window.DIGIOH_API=DIGIOH_API;window.LIGHTBOX_API=DIGIOH_API;hideEmbedDivContainer();appendFbDigiohCss();afterScriptLoaded();}(window.parent,window.parent.document,window,LZString));